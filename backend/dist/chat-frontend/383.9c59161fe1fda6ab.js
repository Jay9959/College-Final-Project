"use strict";(self.webpackChunkchat_frontend=self.webpackChunkchat_frontend||[]).push([[383],{4383:(Ir,ne,_)=>{_.r(ne),_.d(ne,{ChatComponent:()=>Sr});var A={};_.r(A),_.d(A,{Decoder:()=>ee,Encoder:()=>dt,PacketType:()=>d,isPacketValid:()=>ft,protocol:()=>lt});var b=_(467),k=_(177),O=_(1626),C=_(9417),Ce=_(7468),U=_(5312),e=_(4438);const x=Object.create(null);x.open="0",x.close="1",x.ping="2",x.pong="3",x.message="4",x.upgrade="5",x.noop="6";const S=Object.create(null);Object.keys(x).forEach(o=>{S[x[o]]=o});const X={type:"error",data:"parser error"},ie="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),oe="function"==typeof ArrayBuffer,re=o=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(o):o&&o.buffer instanceof ArrayBuffer,$=({type:o,data:r},t,i)=>ie&&r instanceof Blob?t?i(r):se(r,i):oe&&(r instanceof ArrayBuffer||re(r))?t?i(r):se(new Blob([r]),i):i(x[o]+(r||"")),se=(o,r)=>{const t=new FileReader;return t.onload=function(){const i=t.result.split(",")[1];r("b"+(i||""))},t.readAsDataURL(o)};function ae(o){return o instanceof Uint8Array?o:o instanceof ArrayBuffer?new Uint8Array(o):new Uint8Array(o.buffer,o.byteOffset,o.byteLength)}let D;const w=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let o=0;o<64;o++)w["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(o)]=o;const we="function"==typeof ArrayBuffer,q=(o,r)=>{if("string"!=typeof o)return{type:"message",data:ce(o,r)};const t=o.charAt(0);return"b"===t?{type:"message",data:Me(o.substring(1),r)}:S[t]?o.length>1?{type:S[t],data:o.substring(1)}:{type:S[t]}:X},Me=(o,r)=>{if(we){const t=(o=>{let i,s,a,c,l,r=.75*o.length,t=o.length,n=0;"="===o[o.length-1]&&(r--,"="===o[o.length-2]&&r--);const u=new ArrayBuffer(r),g=new Uint8Array(u);for(i=0;i<t;i+=4)s=w[o.charCodeAt(i)],a=w[o.charCodeAt(i+1)],c=w[o.charCodeAt(i+2)],l=w[o.charCodeAt(i+3)],g[n++]=s<<2|a>>4,g[n++]=(15&a)<<4|c>>2,g[n++]=(3&c)<<6|63&l;return u})(o);return ce(t,r)}return{base64:!0,data:o}},ce=(o,r)=>"blob"===r?o instanceof Blob?o:new Blob([o]):o instanceof ArrayBuffer?o:o.buffer;let Y;function I(o){return o.reduce((r,t)=>r+t.length,0)}function F(o,r){if(o[0].length===r)return o.shift();const t=new Uint8Array(r);let i=0;for(let n=0;n<r;n++)t[n]=o[0][i++],i===o[0].length&&(o.shift(),i=0);return o.length&&i<o[0].length&&(o[0]=o[0].slice(i)),t}function p(o){if(o)return function Fe(o){for(var r in p.prototype)o[r]=p.prototype[r];return o}(o)}p.prototype.on=p.prototype.addEventListener=function(o,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+o]=this._callbacks["$"+o]||[]).push(r),this},p.prototype.once=function(o,r){function t(){this.off(o,t),r.apply(this,arguments)}return t.fn=r,this.on(o,t),this},p.prototype.off=p.prototype.removeListener=p.prototype.removeAllListeners=p.prototype.removeEventListener=function(o,r){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var t=this._callbacks["$"+o];if(!t)return this;if(1==arguments.length)return delete this._callbacks["$"+o],this;for(var i,n=0;n<t.length;n++)if((i=t[n])===r||i.fn===r){t.splice(n,1);break}return 0===t.length&&delete this._callbacks["$"+o],this},p.prototype.emitReserved=p.prototype.emit=function(o){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),t=this._callbacks["$"+o],i=1;i<arguments.length;i++)r[i-1]=arguments[i];if(t){i=0;for(var n=(t=t.slice(0)).length;i<n;++i)t[i].apply(this,r)}return this},p.prototype.listeners=function(o){return this._callbacks=this._callbacks||{},this._callbacks["$"+o]||[]},p.prototype.hasListeners=function(o){return!!this.listeners(o).length};const T="function"==typeof Promise&&"function"==typeof Promise.resolve?r=>Promise.resolve().then(r):(r,t)=>t(r,0),h=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function pe(o,...r){return r.reduce((t,i)=>(o.hasOwnProperty(i)&&(t[i]=o[i]),t),{})}const Re=h.setTimeout,Ee=h.clearTimeout;function R(o,r){r.useNativeTimers?(o.setTimeoutFn=Re.bind(h),o.clearTimeoutFn=Ee.bind(h)):(o.setTimeoutFn=h.setTimeout.bind(h),o.clearTimeoutFn=h.clearTimeout.bind(h))}function Ve(o){return"string"==typeof o?function Ne(o){let r=0,t=0;for(let i=0,n=o.length;i<n;i++)r=o.charCodeAt(i),r<128?t+=1:r<2048?t+=2:r<55296||r>=57344?t+=3:(i++,t+=4);return t}(o):Math.ceil(1.33*(o.byteLength||o.size))}function _e(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class Ue extends Error{constructor(r,t,i){super(r),this.description=t,this.context=i,this.type="TransportError"}}class z extends p{constructor(r){super(),this.writable=!1,R(this,r),this.opts=r,this.query=r.query,this.socket=r.socket,this.supportsBinary=!r.forceBase64}onError(r,t,i){return super.emitReserved("error",new Ue(r,t,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(r){"open"===this.readyState&&this.write(r)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(r){const t=q(r,this.socket.binaryType);this.onPacket(t)}onPacket(r){super.emitReserved("packet",r)}onClose(r){this.readyState="closed",super.emitReserved("close",r)}pause(r){}createUri(r,t={}){return r+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const r=this.opts.hostname;return-1===r.indexOf(":")?r:"["+r+"]"}_port(){return this.opts.port&&(this.opts.secure&&443!==Number(this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(r){const t=function Be(o){let r="";for(let t in o)o.hasOwnProperty(t)&&(r.length&&(r+="&"),r+=encodeURIComponent(t)+"="+encodeURIComponent(o[t]));return r}(r);return t.length?"?"+t:""}}class Xe extends z{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(r){this.readyState="pausing";const t=()=>{this.readyState="paused",r()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||t()})),this.writable||(i++,this.once("drain",function(){--i||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(r){((o,r)=>{const t=o.split("\x1e"),i=[];for(let n=0;n<t.length;n++){const s=q(t[n],r);if(i.push(s),"error"===s.type)break}return i})(r,this.socket.binaryType).forEach(i=>{if("opening"===this.readyState&&"open"===i.type&&this.onOpen(),"close"===i.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const r=()=>{this.write([{type:"close"}])};"open"===this.readyState?r():this.once("open",r)}write(r){this.writable=!1,((o,r)=>{const t=o.length,i=new Array(t);let n=0;o.forEach((s,a)=>{$(s,!1,c=>{i[a]=c,++n===t&&r(i.join("\x1e"))})})})(r,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const r=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=_e()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(r,t)}}let ge=!1;try{ge=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const $e=ge;function De(){}class qe extends Xe{constructor(r){if(super(r),typeof location<"u"){const t="https:"===location.protocol;let i=location.port;i||(i=t?"443":"80"),this.xd=typeof location<"u"&&r.hostname!==location.hostname||i!==r.port}}doWrite(r,t){const i=this.request({method:"POST",data:r});i.on("success",t),i.on("error",(n,s)=>{this.onError("xhr post error",n,s)})}doPoll(){const r=this.request();r.on("data",this.onData.bind(this)),r.on("error",(t,i)=>{this.onError("xhr poll error",t,i)}),this.pollXhr=r}}let E=(()=>{class o extends p{constructor(t,i,n){super(),this.createRequest=t,R(this,n),this._opts=n,this._method=n.method||"GET",this._uri=i,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var t;const i=pe(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");i.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(i);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}null===(t=this._opts.cookieJar)||void 0===t||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var s;3===n.readyState&&(null===(s=this._opts.cookieJar)||void 0===s||s.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"==typeof n.status?n.status:0)},0))},n.send(this._data)}catch(s){return void this.setTimeoutFn(()=>{this._onError(s)},0)}typeof document<"u"&&(this._index=o.requestsCount++,o.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||null===this._xhr)){if(this._xhr.onreadystatechange=De,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete o.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return o.requestsCount=0,o.requests={},o})();function ue(){for(let o in E.requests)E.requests.hasOwnProperty(o)&&E.requests[o].abort()}typeof document<"u"&&("function"==typeof attachEvent?attachEvent("onunload",ue):"function"==typeof addEventListener&&addEventListener("onpagehide"in h?"pagehide":"unload",ue,!1));const Ye=function(){const o=he({xdomain:!1});return o&&null!==o.responseType}();function he(o){const r=o.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!r||$e))return new XMLHttpRequest}catch{}if(!r)try{return new(h[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch{}}const fe=typeof navigator<"u"&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class Le extends z{get name(){return"websocket"}doOpen(){const r=this.uri(),t=this.opts.protocols,i=fe?{}:pe(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(r,t,i)}catch(n){return this.emitReserved("error",n)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=r=>this.onClose({description:"websocket connection closed",context:r}),this.ws.onmessage=r=>this.onData(r.data),this.ws.onerror=r=>this.onError("websocket error",r)}write(r){this.writable=!1;for(let t=0;t<r.length;t++){const i=r[t],n=t===r.length-1;$(i,this.supportsBinary,s=>{try{this.doWrite(i,s)}catch{}n&&T(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const r=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=_e()),this.supportsBinary||(t.b64=1),this.createUri(r,t)}}const L=h.WebSocket||h.MozWebSocket,We={websocket:class He extends Le{createSocket(r,t,i){return fe?new L(r,t,i):t?new L(r,t):new L(r)}doWrite(r,t){this.ws.send(t)}},webtransport:class Je extends z{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(r){return this.emitReserved("error",r)}this._transport.closed.then(()=>{this.onClose()}).catch(r=>{this.onError("webtransport error",r)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(r=>{const t=function Ie(o,r){Y||(Y=new TextDecoder);const t=[];let i=0,n=-1,s=!1;return new TransformStream({transform(a,c){for(t.push(a);;){if(0===i){if(I(t)<1)break;const l=F(t,1);s=!(128&~l[0]),n=127&l[0],i=n<126?3:126===n?1:2}else if(1===i){if(I(t)<2)break;const l=F(t,2);n=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),i=3}else if(2===i){if(I(t)<8)break;const l=F(t,8),u=new DataView(l.buffer,l.byteOffset,l.length),g=u.getUint32(0);if(g>Math.pow(2,21)-1){c.enqueue(X);break}n=g*Math.pow(2,32)+u.getUint32(4),i=3}else{if(I(t)<n)break;const l=F(t,n);c.enqueue(q(s?l:Y.decode(l),r)),i=0}if(0===n||n>o){c.enqueue(X);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=r.readable.pipeThrough(t).getReader(),n=function Se(){return new TransformStream({transform(o,r){!function je(o,r){ie&&o.data instanceof Blob?o.data.arrayBuffer().then(ae).then(r):oe&&(o.data instanceof ArrayBuffer||re(o.data))?r(ae(o.data)):$(o,!1,t=>{D||(D=new TextEncoder),r(D.encode(t))})}(o,t=>{const i=t.length;let n;if(i<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,i);else if(i<65536){n=new Uint8Array(3);const s=new DataView(n.buffer);s.setUint8(0,126),s.setUint16(1,i)}else{n=new Uint8Array(9);const s=new DataView(n.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(i))}o.data&&"string"!=typeof o.data&&(n[0]|=128),r.enqueue(n),r.enqueue(t)})}})}();n.readable.pipeTo(r.writable),this._writer=n.writable.getWriter();const s=()=>{i.read().then(({done:c,value:l})=>{c||(this.onPacket(l),s())}).catch(c=>{})};s();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(r){this.writable=!1;for(let t=0;t<r.length;t++){const n=t===r.length-1;this._writer.write(r[t]).then(()=>{n&&T(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var r;null===(r=this._transport)||void 0===r||r.close()}},polling:class ze extends qe{constructor(r){super(r),this.supportsBinary=Ye&&!(r&&r.forceBase64)}request(r={}){return Object.assign(r,{xd:this.xd},this.opts),new E(he,this.uri(),r)}}},Qe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ke=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function H(o){if(o.length>8e3)throw"URI too long";const r=o,t=o.indexOf("["),i=o.indexOf("]");-1!=t&&-1!=i&&(o=o.substring(0,t)+o.substring(t,i).replace(/:/g,";")+o.substring(i,o.length));let n=Qe.exec(o||""),s={},a=14;for(;a--;)s[Ke[a]]=n[a]||"";return-1!=t&&-1!=i&&(s.source=r,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function Ze(o,r){const i=r.replace(/\/{2,9}/g,"/").split("/");return("/"==r.slice(0,1)||0===r.length)&&i.splice(0,1),"/"==r.slice(-1)&&i.splice(i.length-1,1),i}(0,s.path),s.queryKey=function et(o,r){const t={};return r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,n,s){n&&(t[n]=s)}),t}(0,s.query),s}const J="function"==typeof addEventListener&&"function"==typeof removeEventListener,G=[];J&&addEventListener("offline",()=>{G.forEach(o=>o())},!1);let W=(()=>{class o extends p{constructor(t,i){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&"object"==typeof t&&(i=t,t=null),t){const n=H(t);i.hostname=n.host,i.secure="https"===n.protocol||"wss"===n.protocol,i.port=n.port,n.query&&(i.query=n.query)}else i.host&&(i.hostname=H(i.host).host);R(this,i),this.secure=null!=i.secure?i.secure:typeof location<"u"&&"https:"===location.protocol,i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.hostname=i.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=i.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},i.transports.forEach(n=>{const s=n.prototype.name;this.transports.push(s),this._transportsByName[s]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},i),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function Ae(o){let r={},t=o.split("&");for(let i=0,n=t.length;i<n;i++){let s=t[i].split("=");r[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return r}(this.opts.query)),J&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},G.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const i=Object.assign({},this.opts.query);i.EIO=4,i.transport=t,this.id&&(i.sid=this.id);const n=Object.assign({},this.opts,{query:i,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const t=this.opts.rememberUpgrade&&o.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const i=this.createTransport(t);i.open(),this.setTransport(i)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",i=>this._onClose("transport close",i))}onOpen(){this.readyState="open",o.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const i=new Error("server error");i.code=t.data,this._onError(i);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let i=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(i+=Ve(s)),n>0&&i>this._maxPayload)return this.writeBuffer.slice(0,n);i+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,T(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,i,n){return this._sendPacket("message",t,i,n),this}send(t,i,n){return this._sendPacket("message",t,i,n),this}_sendPacket(t,i,n,s){if("function"==typeof i&&(s=i,i=void 0),"function"==typeof n&&(s=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const a={type:t,data:i,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},i=()=>{this.off("upgrade",i),this.off("upgradeError",i),t()},n=()=>{this.once("upgrade",i),this.once("upgradeError",i)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(o.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,i){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),J&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=G.indexOf(this._offlineEventListener);-1!==n&&G.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,i),this.writeBuffer=[],this._prevBufferLen=0}}}return o.protocol=4,o})();class tt extends W{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let r=0;r<this._upgrades.length;r++)this._probe(this._upgrades[r])}_probe(r){let t=this.createTransport(r),i=!1;W.priorWebsocketSuccess=!1;const n=()=>{i||(t.send([{type:"ping",data:"probe"}]),t.once("packet",v=>{if(!i)if("pong"===v.type&&"probe"===v.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;W.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{i||"closed"!==this.readyState&&(g(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const P=new Error("probe error");P.transport=t.name,this.emitReserved("upgradeError",P)}}))};function s(){i||(i=!0,g(),t.close(),t=null)}const a=v=>{const P=new Error("probe error: "+v);P.transport=t.name,s(),this.emitReserved("upgradeError",P)};function c(){a("transport closed")}function l(){a("socket closed")}function u(v){t&&v.name!==t.name&&s()}const g=()=>{t.removeListener("open",n),t.removeListener("error",a),t.removeListener("close",c),this.off("close",l),this.off("upgrading",u)};t.once("open",n),t.once("error",a),t.once("close",c),this.once("close",l),this.once("upgrading",u),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==r?this.setTimeoutFn(()=>{i||t.open()},200):t.open()}onHandshake(r){this._upgrades=this._filterUpgrades(r.upgrades),super.onHandshake(r)}_filterUpgrades(r){const t=[];for(let i=0;i<r.length;i++)~this.transports.indexOf(r[i])&&t.push(r[i]);return t}}class me extends tt{constructor(r,t={}){const i="object"==typeof r?r:t;(!i.transports||i.transports&&"string"==typeof i.transports[0])&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(n=>We[n]).filter(n=>!!n)),super(r,i)}}const it="function"==typeof ArrayBuffer,ot=o=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(o):o.buffer instanceof ArrayBuffer,ve=Object.prototype.toString,rt="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===ve.call(Blob),st="function"==typeof File||typeof File<"u"&&"[object FileConstructor]"===ve.call(File);function Q(o){return it&&(o instanceof ArrayBuffer||ot(o))||rt&&o instanceof Blob||st&&o instanceof File}function V(o,r){if(!o||"object"!=typeof o)return!1;if(Array.isArray(o)){for(let t=0,i=o.length;t<i;t++)if(V(o[t]))return!0;return!1}if(Q(o))return!0;if(o.toJSON&&"function"==typeof o.toJSON&&1===arguments.length)return V(o.toJSON(),!0);for(const t in o)if(Object.prototype.hasOwnProperty.call(o,t)&&V(o[t]))return!0;return!1}function at(o){const r=[],i=o;return i.data=K(o.data,r),i.attachments=r.length,{packet:i,buffers:r}}function K(o,r){if(!o)return o;if(Q(o)){const t={_placeholder:!0,num:r.length};return r.push(o),t}if(Array.isArray(o)){const t=new Array(o.length);for(let i=0;i<o.length;i++)t[i]=K(o[i],r);return t}if("object"==typeof o&&!(o instanceof Date)){const t={};for(const i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=K(o[i],r));return t}return o}function ct(o,r){return o.data=Z(o.data,r),delete o.attachments,o}function Z(o,r){if(!o)return o;if(o&&!0===o._placeholder){if("number"==typeof o.num&&o.num>=0&&o.num<r.length)return r[o.num];throw new Error("illegal attachments")}if(Array.isArray(o))for(let t=0;t<o.length;t++)o[t]=Z(o[t],r);else if("object"==typeof o)for(const t in o)Object.prototype.hasOwnProperty.call(o,t)&&(o[t]=Z(o[t],r));return o}const xe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],lt=5;var d=function(o){return o[o.CONNECT=0]="CONNECT",o[o.DISCONNECT=1]="DISCONNECT",o[o.EVENT=2]="EVENT",o[o.ACK=3]="ACK",o[o.CONNECT_ERROR=4]="CONNECT_ERROR",o[o.BINARY_EVENT=5]="BINARY_EVENT",o[o.BINARY_ACK=6]="BINARY_ACK",o}(d||{});class dt{constructor(r){this.replacer=r}encode(r){return r.type!==d.EVENT&&r.type!==d.ACK||!V(r)?[this.encodeAsString(r)]:this.encodeAsBinary({type:r.type===d.EVENT?d.BINARY_EVENT:d.BINARY_ACK,nsp:r.nsp,data:r.data,id:r.id})}encodeAsString(r){let t=""+r.type;return(r.type===d.BINARY_EVENT||r.type===d.BINARY_ACK)&&(t+=r.attachments+"-"),r.nsp&&"/"!==r.nsp&&(t+=r.nsp+","),null!=r.id&&(t+=r.id),null!=r.data&&(t+=JSON.stringify(r.data,this.replacer)),t}encodeAsBinary(r){const t=at(r),i=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(i),n}}class ee extends p{constructor(r){super(),this.reviver=r}add(r){let t;if("string"==typeof r){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(r);const i=t.type===d.BINARY_EVENT;i||t.type===d.BINARY_ACK?(t.type=i?d.EVENT:d.ACK,this.reconstructor=new pt(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!Q(r)&&!r.base64)throw new Error("Unknown type: "+r);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(r),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(r){let t=0;const i={type:Number(r.charAt(0))};if(void 0===d[i.type])throw new Error("unknown packet type "+i.type);if(i.type===d.BINARY_EVENT||i.type===d.BINARY_ACK){const s=t+1;for(;"-"!==r.charAt(++t)&&t!=r.length;);const a=r.substring(s,t);if(a!=Number(a)||"-"!==r.charAt(t))throw new Error("Illegal attachments");i.attachments=Number(a)}if("/"===r.charAt(t+1)){const s=t+1;for(;++t&&","!==r.charAt(t)&&t!==r.length;);i.nsp=r.substring(s,t)}else i.nsp="/";const n=r.charAt(t+1);if(""!==n&&Number(n)==n){const s=t+1;for(;++t;){const a=r.charAt(t);if(null==a||Number(a)!=a){--t;break}if(t===r.length)break}i.id=Number(r.substring(s,t+1))}if(r.charAt(++t)){const s=this.tryParse(r.substr(t));if(!ee.isPayloadValid(i.type,s))throw new Error("invalid payload");i.data=s}return i}tryParse(r){try{return JSON.parse(r,this.reviver)}catch{return!1}}static isPayloadValid(r,t){switch(r){case d.CONNECT:return N(t);case d.DISCONNECT:return void 0===t;case d.CONNECT_ERROR:return"string"==typeof t||N(t);case d.EVENT:case d.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===xe.indexOf(t[0]));case d.ACK:case d.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class pt{constructor(r){this.packet=r,this.buffers=[],this.reconPack=r}takeBinaryData(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){const t=ct(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const gt=Number.isInteger||function(o){return"number"==typeof o&&isFinite(o)&&Math.floor(o)===o};function N(o){return"[object Object]"===Object.prototype.toString.call(o)}function ft(o){return function _t(o){return"string"==typeof o}(o.nsp)&&function ut(o){return void 0===o||gt(o)}(o.id)&&function ht(o,r){switch(o){case d.CONNECT:return void 0===r||N(r);case d.DISCONNECT:return void 0===r;case d.EVENT:return Array.isArray(r)&&("number"==typeof r[0]||"string"==typeof r[0]&&-1===xe.indexOf(r[0]));case d.ACK:return Array.isArray(r);case d.CONNECT_ERROR:return"string"==typeof r||N(r);default:return!1}}(o.type,o.data)}function f(o,r,t){return o.on(r,t),function(){o.off(r,t)}}const mt=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class be extends p{constructor(r,t,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=r,this.nsp=t,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const r=this.io;this.subs=[f(r,"open",this.onopen.bind(this)),f(r,"packet",this.onpacket.bind(this)),f(r,"error",this.onerror.bind(this)),f(r,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...r){return r.unshift("message"),this.emit.apply(this,r),this}emit(r,...t){var i,n,s;if(mt.hasOwnProperty(r))throw new Error('"'+r.toString()+'" is a reserved event name');if(t.unshift(r),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const a={type:d.EVENT,data:t,options:{}};if(a.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const g=this.ids++,v=t.pop();this._registerAckCallback(g,v),a.id=g}const c=null===(n=null===(i=this.io.engine)||void 0===i?void 0:i.transport)||void 0===n?void 0:n.writable,l=this.connected&&!(null!==(s=this.io.engine)&&void 0!==s&&s._hasPingExpired());return this.flags.volatile&&!c||(l?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(r,t){var i;const n=null!==(i=this.flags.timeout)&&void 0!==i?i:this._opts.ackTimeout;if(void 0===n)return void(this.acks[r]=t);const s=this.io.setTimeoutFn(()=>{delete this.acks[r];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===r&&this.sendBuffer.splice(c,1);t.call(this,new Error("operation has timed out"))},n),a=(...c)=>{this.io.clearTimeoutFn(s),t.apply(this,c)};a.withError=!0,this.acks[r]=a}emitWithAck(r,...t){return new Promise((i,n)=>{const s=(a,c)=>a?n(a):i(c);s.withError=!0,t.push(s),this.emit(r,...t)})}_addToQueue(r){let t;"function"==typeof r[r.length-1]&&(t=r.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:r,flags:Object.assign({fromQueue:!0},this.flags)};r.push((n,...s)=>(null!==n?i.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(n)):(this._queue.shift(),t&&t(null,...s)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(r=!1){if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!r||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(r){r.nsp=this.nsp,this.io._packet(r)}onopen(){"function"==typeof this.auth?this.auth(r=>{this._sendConnectPacket(r)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(r){this.packet({type:d.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},r):r})}onerror(r){this.connected||this.emitReserved("connect_error",r)}onclose(r,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",r,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(r=>{if(!this.sendBuffer.some(i=>String(i.id)===r)){const i=this.acks[r];delete this.acks[r],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(r){if(r.nsp===this.nsp)switch(r.type){case d.CONNECT:r.data&&r.data.sid?this.onconnect(r.data.sid,r.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case d.EVENT:case d.BINARY_EVENT:this.onevent(r);break;case d.ACK:case d.BINARY_ACK:this.onack(r);break;case d.DISCONNECT:this.ondisconnect();break;case d.CONNECT_ERROR:this.destroy();const i=new Error(r.data.message);i.data=r.data.data,this.emitReserved("connect_error",i)}}onevent(r){const t=r.data||[];null!=r.id&&t.push(this.ack(r.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(r){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const i of t)i.apply(this,r)}super.emit.apply(this,r),this._pid&&r.length&&"string"==typeof r[r.length-1]&&(this._lastOffset=r[r.length-1])}ack(r){const t=this;let i=!1;return function(...n){i||(i=!0,t.packet({type:d.ACK,id:r,data:n}))}}onack(r){const t=this.acks[r.id];"function"==typeof t&&(delete this.acks[r.id],t.withError&&r.data.unshift(null),t.apply(this,r.data))}onconnect(r,t){this.id=r,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(r=>this.emitEvent(r)),this.receiveBuffer=[],this.sendBuffer.forEach(r=>{this.notifyOutgoingListeners(r),this.packet(r)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(r=>r()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:d.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(r){return this.flags.compress=r,this}get volatile(){return this.flags.volatile=!0,this}timeout(r){return this.flags.timeout=r,this}onAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(r),this}prependAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(r),this}offAny(r){if(!this._anyListeners)return this;if(r){const t=this._anyListeners;for(let i=0;i<t.length;i++)if(r===t[i])return t.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(r),this}prependAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(r),this}offAnyOutgoing(r){if(!this._anyOutgoingListeners)return this;if(r){const t=this._anyOutgoingListeners;for(let i=0;i<t.length;i++)if(r===t[i])return t.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(r){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const i of t)i.apply(this,r.data)}}}function y(o){this.ms=(o=o||{}).min||100,this.max=o.max||1e4,this.factor=o.factor||2,this.jitter=o.jitter>0&&o.jitter<=1?o.jitter:0,this.attempts=0}y.prototype.duration=function(){var o=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var r=Math.random(),t=Math.floor(r*this.jitter*o);o=1&Math.floor(10*r)?o+t:o-t}return 0|Math.min(o,this.max)},y.prototype.reset=function(){this.attempts=0},y.prototype.setMin=function(o){this.ms=o},y.prototype.setMax=function(o){this.max=o},y.prototype.setJitter=function(o){this.jitter=o};class te extends p{constructor(r,t){var i;super(),this.nsps={},this.subs=[],r&&"object"==typeof r&&(t=r,r=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,R(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(i=t.randomizationFactor)&&void 0!==i?i:.5),this.backoff=new y({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=r;const n=t.parser||A;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(r){return arguments.length?(this._reconnection=!!r,r||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(r){return void 0===r?this._reconnectionAttempts:(this._reconnectionAttempts=r,this)}reconnectionDelay(r){var t;return void 0===r?this._reconnectionDelay:(this._reconnectionDelay=r,null===(t=this.backoff)||void 0===t||t.setMin(r),this)}randomizationFactor(r){var t;return void 0===r?this._randomizationFactor:(this._randomizationFactor=r,null===(t=this.backoff)||void 0===t||t.setJitter(r),this)}reconnectionDelayMax(r){var t;return void 0===r?this._reconnectionDelayMax:(this._reconnectionDelayMax=r,null===(t=this.backoff)||void 0===t||t.setMax(r),this)}timeout(r){return arguments.length?(this._timeout=r,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(r){if(~this._readyState.indexOf("open"))return this;this.engine=new me(this.uri,this.opts);const t=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const n=f(t,"open",function(){i.onopen(),r&&r()}),s=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),r?r(c):this.maybeReconnectOnOpen()},a=f(t,"error",s);if(!1!==this._timeout){const l=this.setTimeoutFn(()=>{n(),s(new Error("timeout")),t.close()},this._timeout);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(n),this.subs.push(a),this}connect(r){return this.open(r)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const r=this.engine;this.subs.push(f(r,"ping",this.onping.bind(this)),f(r,"data",this.ondata.bind(this)),f(r,"error",this.onerror.bind(this)),f(r,"close",this.onclose.bind(this)),f(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(r){try{this.decoder.add(r)}catch(t){this.onclose("parse error",t)}}ondecoded(r){T(()=>{this.emitReserved("packet",r)},this.setTimeoutFn)}onerror(r){this.emitReserved("error",r)}socket(r,t){let i=this.nsps[r];return i?this._autoConnect&&!i.active&&i.connect():(i=new be(this,r,t),this.nsps[r]=i),i}_destroy(r){const t=Object.keys(this.nsps);for(const i of t)if(this.nsps[i].active)return;this._close()}_packet(r){const t=this.encoder.encode(r);for(let i=0;i<t.length;i++)this.engine.write(t[i],r.options)}cleanup(){this.subs.forEach(r=>r()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(r,t){var i;this.cleanup(),null===(i=this.engine)||void 0===i||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",r,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const r=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{r.skipReconnect||(this.emitReserved("reconnect_attempt",r.backoff.attempts),!r.skipReconnect&&r.open(n=>{n?(r._reconnecting=!1,r.reconnect(),this.emitReserved("reconnect_error",n)):r.onreconnect()}))},t);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const r=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",r)}}const M={};function B(o,r){"object"==typeof o&&(r=o,o=void 0);const t=function nt(o,r="",t){let i=o;t=t||typeof location<"u"&&location,null==o&&(o=t.protocol+"//"+t.host),"string"==typeof o&&("/"===o.charAt(0)&&(o="/"===o.charAt(1)?t.protocol+o:t.host+o),/^(https?|wss?):\/\//.test(o)||(o=typeof t<"u"?t.protocol+"//"+o:"https://"+o),i=H(o)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const s=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+s+":"+i.port+r,i.href=i.protocol+"://"+s+(t&&t.port===i.port?"":":"+i.port),i}(o,(r=r||{}).path||"/socket.io"),i=t.source,n=t.id;let l;return r.forceNew||r["force new connection"]||!1===r.multiplex||M[n]&&t.path in M[n].nsps?l=new te(i,r):(M[n]||(M[n]=new te(i,r)),l=M[n]),t.query&&!r.query&&(r.query=t.queryKey),l.socket(t.path,r)}Object.assign(B,{Manager:te,Socket:be,io:B,connect:B});var vt=_(4412),m=_(1985);let ke=(()=>{class o{socket=null;onlineUsersSubject=new vt.t([]);onlineUsers$=this.onlineUsersSubject.asObservable();constructor(){}connect(t){this.socket?.connected||(this.socket=B(U.c.socketUrl,{transports:["websocket","polling"],autoConnect:!0}),this.socket.on("connect",()=>{console.log("Socket connected:",this.socket?.id),this.socket?.emit("join-user",t)}),this.socket.on("online-users",i=>{this.onlineUsersSubject.next(i)}),this.socket.on("user-status-change",i=>{const n=this.onlineUsersSubject.value;i.isOnline?n.includes(i.userId)||this.onlineUsersSubject.next([...n,i.userId]):this.onlineUsersSubject.next(n.filter(s=>s!==i.userId))}),this.socket.on("disconnect",()=>{console.log("Socket disconnected")}))}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null)}sendMessage(t){this.socket?.emit("send-message",t)}onMessageSent(){return new m.c(t=>{this.socket?.on("message-sent",i=>{t.next(i)})})}onReceiveMessage(){return new m.c(t=>{this.socket?.on("receive-message",i=>{t.next(i)})})}sendTyping(t){this.socket?.emit("typing",t)}onUserTyping(){return new m.c(t=>{this.socket?.on("user-typing",i=>{t.next(i)})})}markMessagesSeen(t,i,n){this.socket?.emit("message-seen",{messageIds:t,senderId:i,seenBy:n})}onMessagesSeen(){return new m.c(t=>{this.socket?.on("messages-seen",i=>{t.next(i)})})}onMessageDelivered(){return new m.c(t=>{this.socket?.on("message-delivered",i=>{t.next(i)})})}sendReaction(t){this.socket?.emit("message-reaction",t)}onMessageReaction(){return new m.c(t=>{this.socket?.on("receive-reaction",i=>{t.next(i)})})}callUser(t){this.socket?.emit("call-user",t)}onCallMade(){return new m.c(t=>{this.socket?.on("call-made",i=>{t.next(i)})})}answerCall(t){this.socket?.emit("make-answer",t)}onAnswerMade(){return new m.c(t=>{this.socket?.on("answer-made",i=>{t.next(i)})})}sendIceCandidate(t){this.socket?.emit("ice-candidate",{to:t.target,candidate:t.candidate})}onIceCandidate(){return new m.c(t=>{this.socket?.on("ice-candidate-received",i=>{t.next(i)})})}rejectCall(t){this.socket?.emit("reject-call",t)}onCallRejected(){return new m.c(t=>{this.socket?.on("call-rejected",i=>{t.next(i)})})}endCall(t){this.socket?.emit("end-call",t)}onCallEnded(){return new m.c(t=>{this.socket?.on("call-ended",()=>{t.next()})})}emitCallLog(t){this.socket?.emit("call-log",t)}isUserOnline(t){return this.onlineUsersSubject.value.includes(t)}isConnected(){return!!this.socket?.connected}static \u0275fac=function(i){return new(i||o)};static \u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const xt=["localVideo"],bt=["remoteVideo"];function kt(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),e.EFF(4),e.k0s()(),e.j41(5,"h3"),e.EFF(6),e.k0s(),e.j41(7,"p"),e.EFF(8,"Incoming Video Call..."),e.k0s()(),e.j41(9,"div",10)(10,"button",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.declineCall())}),e.qSk(),e.j41(11,"svg",12),e.nrm(12,"line",13)(13,"line",14),e.k0s(),e.EFF(14," Decline "),e.k0s(),e.joV(),e.j41(15,"button",15),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.acceptCall())}),e.qSk(),e.j41(16,"svg",12),e.nrm(17,"path",16),e.k0s(),e.EFF(18," Answer "),e.k0s()()()}if(2&o){const t=e.XpG(2);e.R7$(4),e.SpI(" ",t.callerName.charAt(0).toUpperCase()," "),e.R7$(2),e.JRh(t.callerName)}}function Ct(o,r){1&o&&(e.qex(0),e.nrm(1,"video",26,0)(3,"video",27,1),e.bVm())}function jt(o,r){if(1&o&&(e.j41(0,"div",28)(1,"div",29)(2,"div",30),e.EFF(3),e.k0s()(),e.j41(4,"h3"),e.EFF(5),e.k0s(),e.j41(6,"p"),e.EFF(7,"Voice Call"),e.k0s(),e.nrm(8,"audio",31,0),e.k0s()),2&o){const t=e.XpG(3);e.R7$(3),e.SpI(" ",t.callerName.charAt(0).toUpperCase()," "),e.R7$(2),e.JRh(t.callerName)}}function yt(o,r){1&o&&(e.qSk(),e.j41(0,"svg",12),e.nrm(1,"path",32)(2,"path",33)(3,"line",34)(4,"line",35),e.k0s())}function wt(o,r){1&o&&(e.qSk(),e.j41(0,"svg",12),e.nrm(1,"line",36)(2,"path",37)(3,"path",38)(4,"line",34)(5,"line",35),e.k0s())}function Mt(o,r){1&o&&(e.qSk(),e.j41(0,"svg",12),e.nrm(1,"polygon",39)(2,"rect",40),e.k0s())}function Pt(o,r){1&o&&(e.qSk(),e.j41(0,"svg",12),e.nrm(1,"path",41)(2,"line",36),e.k0s())}function Ot(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",17),e.DNE(1,Ct,5,0,"ng-container",18)(2,jt,10,2,"div",19),e.j41(3,"div",20)(4,"button",21),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.toggleAudio())}),e.DNE(5,yt,5,0,"svg",22)(6,wt,6,0,"svg",22),e.k0s(),e.j41(7,"button",23),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.hangup())}),e.qSk(),e.j41(8,"svg",24),e.nrm(9,"path",25),e.k0s()(),e.joV(),e.j41(10,"button",21),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.toggleVideo())}),e.DNE(11,Mt,3,0,"svg",22)(12,Pt,3,0,"svg",22),e.k0s()()()}if(2&o){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf","video"===t.callType),e.R7$(),e.Y8G("ngIf","audio"===t.callType),e.R7$(2),e.AVh("active",!t.audioEnabled),e.R7$(),e.Y8G("ngIf",t.audioEnabled),e.R7$(),e.Y8G("ngIf",!t.audioEnabled),e.R7$(4),e.AVh("active",!t.videoEnabled),e.R7$(),e.Y8G("ngIf",t.videoEnabled),e.R7$(),e.Y8G("ngIf",!t.videoEnabled)}}function St(o,r){if(1&o&&(e.j41(0,"div",3),e.DNE(1,kt,19,2,"div",4)(2,Ot,13,10,"div",5),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.incomingCall&&!t.callActive),e.R7$(),e.Y8G("ngIf",t.callActive)}}let It=(()=>{class o{socketService;currentUser;localVideo;remoteVideo;callActive=!1;incomingCall=!1;callerName="";callerId="";callerSignal;callType="video";audioEnabled=!0;videoEnabled=!0;peerConnection;localStream;remoteStream;subscriptions=[];rtcConfig={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]};constructor(t){this.socketService=t}ngOnInit(){var t=this;this.subscriptions.push(this.socketService.onCallMade().subscribe(i=>{this.callActive?this.socketService.rejectCall({to:i.from}):(this.incomingCall=!0,this.callerName=i.name||"Unknown User",this.callerId=i.from,this.callerSignal=i.signal,this.callType=i.callType||"video")}),this.socketService.onAnswerMade().subscribe(function(){var i=(0,b.A)(function*(n){t.peerConnection&&(yield t.peerConnection.setRemoteDescription(new RTCSessionDescription(n.signal)),t.startTime=Date.now())});return function(n){return i.apply(this,arguments)}}()),this.socketService.onIceCandidate().subscribe(function(){var i=(0,b.A)(function*(n){if(t.peerConnection)try{yield t.peerConnection.addIceCandidate(new RTCIceCandidate(n.candidate))}catch(s){console.error("Error adding received ice candidate",s)}});return function(n){return i.apply(this,arguments)}}()),this.socketService.onCallRejected().subscribe(()=>{alert("User rejected the call"),this.socketService.emitCallLog({to:this.callerId,type:"missed",callType:this.callType}),this.resetCall()}),this.socketService.onCallEnded().subscribe(()=>{this.resetCall()}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.resetCall()}startCall(t,i){var n=this;return(0,b.A)(function*(s,a,c="video"){n.callActive=!0,n.callerId=s,n.callType=c,yield n.setupMedia(),n.createPeerConnection(s);const l=yield n.peerConnection.createOffer();yield n.peerConnection.setLocalDescription(l),n.socketService.callUser({userToCall:s,signalData:l,from:n.currentUser._id,name:n.currentUser.username,callType:c})}).apply(this,arguments)}acceptCall(){var t=this;return(0,b.A)(function*(){t.incomingCall=!1,t.callActive=!0,t.startTime=Date.now(),yield t.setupMedia(),setTimeout((0,b.A)(function*(){t.createPeerConnection(t.callerId),yield t.peerConnection.setRemoteDescription(new RTCSessionDescription(t.callerSignal));const i=yield t.peerConnection.createAnswer();yield t.peerConnection.setLocalDescription(i),t.socketService.answerCall({signal:i,to:t.callerId})}),100)})()}declineCall(){this.socketService.rejectCall({to:this.callerId}),this.incomingCall=!1,this.resetCall()}hangup(){this.socketService.endCall({to:this.callerId});const t=this.calculateDuration();this.socketService.emitCallLog({to:this.callerId,type:"ended",duration:t,callType:this.callType}),this.resetCall()}toggleAudio(){this.audioEnabled=!this.audioEnabled,this.localStream.getAudioTracks().forEach(t=>t.enabled=this.audioEnabled)}toggleVideo(){this.videoEnabled=!this.videoEnabled,this.localStream.getVideoTracks().forEach(t=>t.enabled=this.videoEnabled)}startTime=null;calculateDuration(){if(!this.startTime)return"0s";const t=Date.now(),i=Math.floor((t-this.startTime)/1e3);return`${Math.floor(i/60)}m ${i%60}s`}setupMedia(){var t=this;return(0,b.A)(function*(){try{const i={audio:!0,video:"video"===t.callType};if(console.log("Requesting media with constraints:",i),t.localStream=yield navigator.mediaDevices.getUserMedia(i),console.log("Media stream obtained:",t.localStream.getTracks()),t.localVideo&&"video"===t.callType){console.log("Setting local video srcObject"),t.localVideo.nativeElement.srcObject=t.localStream;try{yield t.localVideo.nativeElement.play(),console.log("Local video playing")}catch(n){console.error("Error playing local video:",n)}}}catch(i){console.error("Error accessing media devices:",i),alert("Could not access camera/microphone. Please check permissions.")}})()}createPeerConnection(t){this.peerConnection=new RTCPeerConnection(this.rtcConfig),this.localStream.getTracks().forEach(i=>{this.peerConnection.addTrack(i,this.localStream)}),this.peerConnection.ontrack=i=>{console.log("Received remote track:",i.track.kind),this.remoteStream?console.log("Remote stream already set, track will be added automatically"):(this.remoteStream=i.streams[0],this.remoteVideo&&(console.log("Setting remote video srcObject"),this.remoteVideo.nativeElement.srcObject=this.remoteStream,this.remoteVideo.nativeElement.play().catch(n=>{console.error("Error playing remote video:",n)})))},this.peerConnection.onicecandidate=i=>{i.candidate&&this.socketService.sendIceCandidate({target:t,candidate:i.candidate})},this.peerConnection.onconnectionstatechange=()=>{console.log("Connection state:",this.peerConnection.connectionState),("disconnected"===this.peerConnection.connectionState||"failed"===this.peerConnection.connectionState)&&this.resetCall()}}resetCall(){this.callActive=!1,this.incomingCall=!1,this.callerId="",this.callerName="",this.localStream&&this.localStream.getTracks().forEach(t=>t.stop()),this.peerConnection&&this.peerConnection.close()}static \u0275fac=function(i){return new(i||o)(e.rXU(ke))};static \u0275cmp=e.VBU({type:o,selectors:[["app-call-modal"]],viewQuery:function(i,n){if(1&i&&(e.GBs(xt,5),e.GBs(bt,5)),2&i){let s;e.mGM(s=e.lsd())&&(n.localVideo=s.first),e.mGM(s=e.lsd())&&(n.remoteVideo=s.first)}},inputs:{currentUser:"currentUser"},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[["remoteVideo",""],["localVideo",""],["class","call-overlay",4,"ngIf"],[1,"call-overlay"],["class","incoming-call-modal animate-scale-in",4,"ngIf"],["class","active-call-container animate-fade-in",4,"ngIf"],[1,"incoming-call-modal","animate-scale-in"],[1,"caller-info"],[1,"avatar-ring"],[1,"avatar"],[1,"call-actions"],[1,"btn-decline",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"btn-answer",3,"click"],["d","M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"],[1,"active-call-container","animate-fade-in"],[4,"ngIf"],["class","audio-call-ui",4,"ngIf"],[1,"call-controls"],[1,"control-btn",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",4,"ngIf"],[1,"control-btn","hangup-btn",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","currentColor","stroke","none"],["d","M12 9c-1.6 0-3.15.25-4.6.72v3.1c0 .39-.23.74-.56.9-.98.49-1.87 1.12-2.66 1.85-.18.18-.43.28-.7.28-.28 0-.53-.11-.71-.29L.29 13.08c-.18-.17-.29-.42-.29-.7 0-.28.11-.53.29-.71C3.34 8.78 7.46 7 12 7s8.66 1.78 11.71 4.67c.18.18.29.43.29.71 0 .28-.11.53-.29.71l-2.48 2.48c-.18.18-.43.29-.71.29-.27 0-.52-.11-.7-.28-.79-.74-1.69-1.36-2.67-1.85-.33-.16-.56-.5-.56-.9v-3.1C15.15 9.25 13.6 9 12 9z"],["autoplay","","playsinline","",1,"remote-video"],["autoplay","","playsinline","","muted","",1,"local-video"],[1,"audio-call-ui"],[1,"audio-avatar-ring"],[1,"audio-avatar"],["autoplay",""],["d","M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"],["d","M19 10v2a7 7 0 0 1-14 0v-2"],["x1","12","y1","19","x2","12","y2","23"],["x1","8","y1","23","x2","16","y2","23"],["x1","1","y1","1","x2","23","y2","23"],["d","M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"],["d","M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"],["points","23 7 16 12 23 17 23 7"],["x","1","y","5","width","15","height","14","rx","2","ry","2"],["d","M16 16v1a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2m5.66 0H14a2 2 0 0 1 2 2v3.34l1 1L23 7v10"]],template:function(i,n){1&i&&e.DNE(0,St,3,2,"div",2),2&i&&e.Y8G("ngIf",n.callActive||n.incomingCall)},dependencies:[k.MD,k.bT],styles:[".call-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000000d9;backdrop-filter:blur(8px);z-index:9999;display:flex;justify-content:center;align-items:center}.incoming-call-modal[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e293b,#0f172a);padding:2.5rem;border-radius:20px;text-align:center;box-shadow:0 10px 40px #00000080;border:1px solid rgba(255,255,255,.1);width:90%;max-width:400px}.avatar-ring[_ngcontent-%COMP%]{width:100px;height:100px;margin:0 auto 1.5rem;border-radius:50%;padding:4px;background:linear-gradient(45deg,#3b82f6,#8b5cf6);animation:_ngcontent-%COMP%_pulse-ring 2s infinite}.avatar[_ngcontent-%COMP%]{width:100%;height:100%;background:#475569;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:2.5rem;color:#fff;font-weight:700;border:4px solid #0f172a}.caller-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;color:#fff;margin-bottom:.5rem}.caller-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#94a3b8;margin-bottom:2rem}.call-actions[_ngcontent-%COMP%]{display:flex;gap:1.5rem;justify-content:center}.btn-answer[_ngcontent-%COMP%], .btn-decline[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border-radius:50px;border:none;font-weight:600;cursor:pointer;transition:transform .2s,filter .2s}.btn-answer[_ngcontent-%COMP%]{background:#22c55e;color:#fff;box-shadow:0 4px 12px #22c55e4d}.btn-decline[_ngcontent-%COMP%]{background:#ef4444;color:#fff;box-shadow:0 4px 12px #ef44444d}.btn-answer[_ngcontent-%COMP%]:hover, .btn-decline[_ngcontent-%COMP%]:hover{transform:translateY(-2px);filter:brightness(1.1)}.active-call-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:#000}.remote-video[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.local-video[_ngcontent-%COMP%]{position:absolute;bottom:30px;right:30px;width:180px;height:240px;background:#1e293b;border-radius:12px;object-fit:cover;box-shadow:0 4px 20px #00000080;border:2px solid rgba(255,255,255,.2);transition:all .3s ease}.local-video[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.call-controls[_ngcontent-%COMP%]{position:absolute;bottom:30px;left:50%;transform:translate(-50%);display:flex;gap:1.5rem;padding:1rem 2rem;background:#0f172a99;backdrop-filter:blur(10px);border-radius:50px;border:1px solid rgba(255,255,255,.1)}.control-btn[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;border:none;background:#ffffff1a;color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s}.control-btn[_ngcontent-%COMP%]:hover{background:#fff3}.control-btn.active[_ngcontent-%COMP%]{background:#fff;color:#000}.hangup-btn[_ngcontent-%COMP%]{background:#ef4444;width:60px;height:60px;transform:translateY(-5px)}.hangup-btn[_ngcontent-%COMP%]:hover{background:#dc2626}@keyframes _ngcontent-%COMP%_pulse-ring{0%{box-shadow:0 0 #8b5cf6b3}70%{box-shadow:0 0 0 15px #8b5cf600}to{box-shadow:0 0 #8b5cf600}}.animate-scale-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scaleIn .3s cubic-bezier(.16,1,.3,1)}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@media (max-width: 768px){.local-video[_ngcontent-%COMP%]{width:100px;height:140px;bottom:120px;right:20px}.call-controls[_ngcontent-%COMP%]{bottom:30px;width:90%;justify-content:space-around;padding:1rem}}.audio-call-ui[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;color:#fff;z-index:2}.audio-avatar-ring[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;padding:5px;background:linear-gradient(45deg,#22c55e,#3b82f6);margin-bottom:2rem;box-shadow:0 0 30px #3b82f680;animation:_ngcontent-%COMP%_pulse-ring 3s infinite}.audio-avatar[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;background:#1e293b;display:flex;align-items:center;justify-content:center;font-size:4rem;font-weight:700;border:4px solid #0f172a}"]})}return o})();var Ft=_(4796);let Tt=(()=>{class o{http;apiUrl=U.c.apiUrl;constructor(t){this.http=t}getUsers(){return this.http.get(`${this.apiUrl}/users`)}getUserById(t){return this.http.get(`${this.apiUrl}/users/${t}`)}getMessages(t){return this.http.get(`${this.apiUrl}/messages/${t}`)}markMessagesAsRead(t){return this.http.put(`${this.apiUrl}/messages/read/${t}`,{})}getUnreadCount(){return this.http.get(`${this.apiUrl}/messages/unread/count`)}uploadFile(t){const i=new FormData;return i.append("file",t),this.http.post(`${this.apiUrl}/messages/upload`,i,{reportProgress:!0,observe:"events"})}getGroups(){return this.http.get(`${this.apiUrl}/groups`)}createGroup(t){return this.http.post(`${this.apiUrl}/groups`,t)}addGroupMembers(t,i){return this.http.put(`${this.apiUrl}/groups/${t}/add`,{members:i})}static \u0275fac=function(i){return new(i||o)(e.KVO(O.Qq))};static \u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Rt=(()=>{class o{currentTheme=(0,e.vPA)("system");mediaQuery;constructor(){this.mediaQuery=window.matchMedia("(prefers-color-scheme: dark)");const t=localStorage.getItem("app-theme");this.setTheme(t||"system"),this.mediaQuery.addEventListener("change",i=>{"system"===this.currentTheme()&&this.applyThemeClass(i.matches?"dark":"light")})}setTheme(t){this.currentTheme.set(t),localStorage.setItem("app-theme",t),this.applyThemeClass("system"===t?this.mediaQuery.matches?"dark":"light":t)}applyThemeClass(t){document.body.classList.remove("theme-dark","theme-light","theme-midnight","theme-forest"),document.body.classList.add(`theme-${t}`)}getTheme(){return this.currentTheme()}static \u0275fac=function(i){return new(i||o)};static \u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var Et=_(1069),Gt=_(8397);const Vt=["messagesContainer"],Nt=["callModal"],Bt=["documentInput"],At=["photoInput"],Ut=["audioInput"],Xt=["cameraInput"];function $t(o,r){if(1&o&&(e.j41(0,"div",46),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.SpI(" ",((null==t.currentUser?null:t.currentUser.username)||"").charAt(0).toUpperCase()," ")}}function Dt(o,r){if(1&o){const t=e.RV6();e.j41(0,"img",47),e.bIt("error",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onAvatarError())}),e.k0s()}if(2&o){const t=e.XpG();e.FS9("alt",null==t.currentUser?null:t.currentUser.username),e.Y8G("src",t.getAvatarUrl(null==t.currentUser?null:t.currentUser.avatar)+"?v="+t.avatarVersion,e.B4B)}}function qt(o,r){if(1&o){const t=e.RV6();e.j41(0,"img",58),e.bIt("error",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.handleImageError(n))}),e.k0s()}if(2&o){const t=e.XpG().$implicit,i=e.XpG();e.Y8G("src",t.isGroup&&null!=t&&null!=t.avatar&&t.avatar.startsWith("data:")?null==t?null:t.avatar:i.getAvatarUrl(null==t?null:t.avatar),e.B4B)}}function Yt(o,r){1&o&&(e.qSk(),e.j41(0,"svg",23),e.nrm(1,"path",59)(2,"circle",60)(3,"path",61)(4,"path",62),e.k0s())}function zt(o,r){if(1&o&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(),e.JRh(((null==t?null:t.username)||"").charAt(0).toUpperCase())}}function Lt(o,r){if(1&o&&e.nrm(0,"span",63),2&o){const t=e.XpG().$implicit,i=e.XpG();e.AVh("online",i.isUserOnline(t._id))}}function Ht(o,r){if(1&o&&(e.j41(0,"div",64),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.unreadCount>99?"99+":t.unreadCount," ")}}function Jt(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",48),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.selectUser(n))}),e.j41(1,"div",49),e.DNE(2,qt,1,1,"img",50),e.j41(3,"div",51),e.DNE(4,Yt,5,0,"svg",52)(5,zt,2,1,"span",37),e.k0s(),e.DNE(6,Lt,1,2,"span",53),e.k0s(),e.j41(7,"div",54)(8,"div",55),e.EFF(9),e.k0s(),e.j41(10,"div",56),e.EFF(11),e.k0s()(),e.DNE(12,Ht,2,1,"div",57),e.k0s()}if(2&o){const t=r.$implicit,i=e.XpG();e.AVh("active",(null==i.selectedUser?null:i.selectedUser._id)===t._id),e.R7$(),e.AVh("group-avatar",t.isGroup),e.R7$(),e.Y8G("ngIf",t.avatar),e.R7$(),e.xc7("display",t.avatar?"none":"flex"),e.R7$(),e.Y8G("ngIf",t.isGroup),e.R7$(),e.Y8G("ngIf",!t.isGroup),e.R7$(),e.Y8G("ngIf",!t.isGroup),e.R7$(3),e.JRh(t.fullName||t.username),e.R7$(2),e.JRh(t.isGroup?"Group":i.isUserOnline(t._id)?"Online":"Offline"),e.R7$(),e.Y8G("ngIf",t.unreadCount&&t.unreadCount>0)}}function Wt(o,r){1&o&&(e.j41(0,"div",65)(1,"p"),e.EFF(2,"No users found"),e.k0s(),e.j41(3,"small"),e.EFF(4,"Invite friends to chat!"),e.k0s()())}function Qt(o,r){1&o&&(e.j41(0,"div",66)(1,"div",67),e.qSk(),e.j41(2,"svg",68)(3,"defs")(4,"linearGradient",69),e.nrm(5,"stop",70)(6,"stop",71),e.k0s()(),e.nrm(7,"path",72),e.k0s(),e.joV(),e.j41(8,"h2"),e.EFF(9,"Chat"),e.k0s(),e.j41(10,"p"),e.EFF(11,"Select a conversation to start messaging."),e.k0s()()())}function Kt(o,r){if(1&o){const t=e.RV6();e.j41(0,"img",108),e.bIt("error",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.handleImageError(n))}),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("src",t.selectedUser.isGroup&&t.selectedUser.avatar&&t.selectedUser.avatar.startsWith("data:")?t.selectedUser.avatar:t.getAvatarUrl(t.selectedUser.avatar),e.B4B)}}function Zt(o,r){1&o&&(e.qSk(),e.j41(0,"svg",76),e.nrm(1,"path",59)(2,"circle",60)(3,"path",61)(4,"path",62),e.k0s())}function en(o,r){if(1&o&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.JRh((t.selectedUser.username||"").charAt(0).toUpperCase())}}function tn(o,r){1&o&&(e.qSk(),e.j41(0,"svg",109),e.nrm(1,"path",110)(2,"path",111)(3,"line",112),e.k0s())}function nn(o,r){1&o&&(e.j41(0,"span",114),e.EFF(1,"typing..."),e.k0s())}function on(o,r){1&o&&(e.j41(0,"span"),e.nrm(1,"span",115),e.EFF(2," Online "),e.k0s())}function rn(o,r){1&o&&(e.j41(0,"span"),e.EFF(1,"Offline"),e.k0s())}function sn(o,r){if(1&o&&(e.qex(0),e.DNE(1,nn,2,0,"span",113)(2,on,3,0,"span",37)(3,rn,2,0,"span",37),e.bVm()),2&o){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.selectedUser&&t.typingUsers[t.selectedUser._id]),e.R7$(),e.Y8G("ngIf",t.selectedUser&&!t.typingUsers[t.selectedUser._id]&&t.isUserOnline(t.selectedUser._id)),e.R7$(),e.Y8G("ngIf",t.selectedUser&&!t.typingUsers[t.selectedUser._id]&&!t.isUserOnline(t.selectedUser._id))}}function an(o,r){1&o&&(e.qex(0),e.j41(1,"span"),e.EFF(2,"Group"),e.k0s(),e.bVm())}function cn(o,r){if(1&o&&e.nrm(0,"img",134),2&o){const t=e.XpG(3);e.Y8G("src",t.getAvatarUrl(t.selectedUser.avatar),e.B4B)}}function ln(o,r){if(1&o&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&o){const t=e.XpG(3);e.R7$(),e.JRh(t.selectedUser.username.charAt(0).toUpperCase())}}function dn(o,r){1&o&&(e.qSk(),e.j41(0,"svg",135),e.nrm(1,"path",110)(2,"path",111)(3,"line",112),e.k0s())}function pn(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",116)(1,"div",117)(2,"div",118),e.DNE(3,cn,1,1,"img",119)(4,ln,2,1,"span",37),e.k0s(),e.j41(5,"span",120),e.EFF(6),e.k0s(),e.DNE(7,dn,4,0,"svg",121),e.k0s(),e.j41(8,"div",122)(9,"button",123),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return n.onVoiceCall(),e.Njj(n.showCallMenu=!1)}),e.qSk(),e.j41(10,"svg",23),e.nrm(11,"path",124),e.k0s(),e.joV(),e.j41(12,"span"),e.EFF(13,"Voice"),e.k0s()(),e.j41(14,"button",125),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return n.onVideoCall(),e.Njj(n.showCallMenu=!1)}),e.qSk(),e.j41(15,"svg",23),e.nrm(16,"polygon",87)(17,"rect",88),e.k0s(),e.joV(),e.j41(18,"span"),e.EFF(19,"Video"),e.k0s()()(),e.j41(20,"div",126)(21,"div",127),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.handleCallOption("groupCall"))}),e.qSk(),e.j41(22,"svg",23),e.nrm(23,"path",59)(24,"circle",60)(25,"path",61)(26,"path",62),e.k0s(),e.joV(),e.j41(27,"span"),e.EFF(28,"New group call"),e.k0s()(),e.j41(29,"div",127),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.handleCallOption("callLink"))}),e.qSk(),e.j41(30,"svg",23),e.nrm(31,"path",128)(32,"path",129),e.k0s(),e.joV(),e.j41(33,"span"),e.EFF(34,"Send call link"),e.k0s()(),e.j41(35,"div",127),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.handleCallOption("scheduleCall"))}),e.qSk(),e.j41(36,"svg",23),e.nrm(37,"rect",130)(38,"line",131)(39,"line",132)(40,"line",133),e.k0s(),e.joV(),e.j41(41,"span"),e.EFF(42,"Schedule call"),e.k0s()()()()}if(2&o){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",t.selectedUser.avatar),e.R7$(),e.Y8G("ngIf",!t.selectedUser.avatar),e.R7$(2),e.JRh(t.selectedUser.fullName||t.selectedUser.username),e.R7$(),e.Y8G("ngIf",t.mutedChats.has(t.selectedUser._id))}}function _n(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",136)(1,"div",137),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.handleMoreOption("newGroup"))}),e.qSk(),e.j41(2,"svg",23),e.nrm(3,"path",59)(4,"circle",60)(5,"path",61)(6,"path",62),e.k0s(),e.joV(),e.j41(7,"span"),e.EFF(8,"New group"),e.k0s()(),e.j41(9,"div",137),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.handleMoreOption("selectMessages"))}),e.qSk(),e.j41(10,"svg",23),e.nrm(11,"polyline",138)(12,"path",139),e.k0s(),e.joV(),e.j41(13,"span"),e.EFF(14,"Select messages"),e.k0s()(),e.j41(15,"div",137),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.handleMoreOption("muteNotifications"))}),e.qSk(),e.j41(16,"svg",23),e.nrm(17,"path",110)(18,"path",111)(19,"line",112),e.k0s(),e.joV(),e.j41(20,"span"),e.EFF(21,"Mute notifications"),e.k0s()(),e.nrm(22,"div",140),e.j41(23,"div",137),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.handleMoreOption("clearChat"))}),e.qSk(),e.j41(24,"svg",23),e.nrm(25,"polyline",141)(26,"path",142),e.k0s(),e.joV(),e.j41(27,"span"),e.EFF(28,"Clear chat"),e.k0s()()()}}function gn(o,r){if(1&o&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&o){const t=e.XpG(4);e.R7$(),e.Lme("",t.currentSearchIndex+1," of ",t.searchResultCount," results")}}function un(o,r){1&o&&(e.j41(0,"span"),e.EFF(1,"No results found"),e.k0s())}function hn(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",152)(1,"button",153),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.prevSearchResult())}),e.qSk(),e.j41(2,"svg",17),e.nrm(3,"polyline",154),e.k0s()(),e.joV(),e.j41(4,"button",153),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.nextSearchResult())}),e.qSk(),e.j41(5,"svg",17),e.nrm(6,"polyline",90),e.k0s()()()}if(2&o){const t=e.XpG(4);e.R7$(),e.Y8G("disabled",0===t.currentSearchIndex),e.R7$(3),e.Y8G("disabled",t.currentSearchIndex>=t.searchResultCount-1)}}function fn(o,r){if(1&o&&(e.j41(0,"div",150),e.DNE(1,gn,2,2,"span",37)(2,un,2,0,"span",37)(3,hn,7,2,"div",151),e.k0s()),2&o){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",t.searchResultCount>0),e.R7$(),e.Y8G("ngIf",0===t.searchResultCount),e.R7$(),e.Y8G("ngIf",t.searchResultCount>0)}}function mn(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",143)(1,"div",144),e.qSk(),e.j41(2,"svg",27),e.nrm(3,"circle",28)(4,"line",93),e.k0s(),e.joV(),e.j41(5,"input",145),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.chatSearchQuery,n)||(s.chatSearchQuery=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onChatSearch())}),e.k0s(),e.j41(6,"button",146),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.closeChatSearch())}),e.qSk(),e.j41(7,"svg",27),e.nrm(8,"line",147)(9,"line",148),e.k0s()()(),e.DNE(10,fn,4,3,"div",149),e.k0s()}if(2&o){const t=e.XpG(2);e.R7$(5),e.R50("ngModel",t.chatSearchQuery),e.R7$(5),e.Y8G("ngIf",t.chatSearchQuery)}}function vn(o,r){1&o&&(e.qSk(),e.j41(0,"svg",179),e.nrm(1,"polyline",180),e.k0s())}function xn(o,r){if(1&o&&(e.j41(0,"div",176)(1,"div",177),e.DNE(2,vn,2,0,"svg",178),e.k0s()()),2&o){const t=e.XpG().$implicit,i=e.XpG(2);e.R7$(),e.AVh("checked",i.selectedMessages.has(t._id)),e.R7$(),e.Y8G("ngIf",i.selectedMessages.has(t._id))}}function bn(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",181),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,s=e.XpG(2);return e.Njj(s.scrollToMessage(n.replyTo._id))}),e.j41(1,"div",182),e.EFF(2),e.k0s(),e.j41(3,"div",183),e.EFF(4),e.k0s()()}if(2&o){const t=e.XpG().$implicit,i=e.XpG(2);e.R7$(),e.xc7("color",t.replyTo.sender._id===(null==i.currentUser?null:i.currentUser._id)?"#00a884":"#53bdeb"),e.R7$(),e.SpI(" ",t.replyTo.sender._id===(null==i.currentUser?null:i.currentUser._id)?"You":t.replyTo.sender.username," "),e.R7$(2),e.JRh(t.replyTo.content||"Media")}}function kn(o,r){if(1&o&&(e.j41(0,"p",184),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.content)}}function Cn(o,r){if(1&o){const t=e.RV6();e.j41(0,"img",188),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,s=e.XpG(2);return e.Njj(s.downloadFile(n.fileUrl))}),e.k0s()}if(2&o){const t=e.XpG(2).$implicit,i=e.XpG(2);e.Y8G("src",i.getAvatarUrl(t.fileUrl),e.B4B)}}function jn(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",189),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,s=e.XpG(2);return e.Njj(s.downloadMedia(n))}),e.j41(1,"div",190),e.qSk(),e.j41(2,"svg",191),e.nrm(3,"path",192)(4,"polyline",193)(5,"line",194),e.k0s()(),e.joV(),e.j41(6,"span"),e.EFF(7,"Photo \u2022 Click to download"),e.k0s()()}}function yn(o,r){if(1&o&&(e.j41(0,"div",185),e.DNE(1,Cn,1,1,"img",186)(2,jn,8,0,"div",187),e.k0s()),2&o){const t=e.XpG().$implicit,i=e.XpG(2);e.R7$(),e.Y8G("ngIf",i.shouldShowMedia(t)),e.R7$(),e.Y8G("ngIf",!i.shouldShowMedia(t))}}function wn(o,r){if(1&o&&e.nrm(0,"video",197),2&o){const t=e.XpG(2).$implicit,i=e.XpG(2);e.Y8G("src",i.getAvatarUrl(t.fileUrl),e.B4B)}}function Mn(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",189),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,s=e.XpG(2);return e.Njj(s.downloadMedia(n))}),e.j41(1,"div",190),e.qSk(),e.j41(2,"svg",191),e.nrm(3,"path",192)(4,"polyline",193)(5,"line",194),e.k0s()(),e.joV(),e.j41(6,"span"),e.EFF(7,"Video \u2022 Click to download"),e.k0s()()}}function Pn(o,r){if(1&o&&(e.j41(0,"div",195),e.DNE(1,wn,1,1,"video",196)(2,Mn,8,0,"div",187),e.k0s()),2&o){const t=e.XpG().$implicit,i=e.XpG(2);e.R7$(),e.Y8G("ngIf",i.shouldShowMedia(t)),e.R7$(),e.Y8G("ngIf",!i.shouldShowMedia(t))}}function On(o,r){if(1&o&&(e.j41(0,"a",201)(1,"div",202),e.qSk(),e.j41(2,"svg",76),e.nrm(3,"path",203)(4,"polyline",204),e.k0s()(),e.joV(),e.j41(5,"div",205)(6,"span",206),e.EFF(7),e.k0s(),e.j41(8,"span",207),e.EFF(9,"Click to open"),e.k0s()()()),2&o){const t=e.XpG(2).$implicit,i=e.XpG(2);e.Y8G("href",i.getAvatarUrl(t.fileUrl),e.B4B),e.R7$(7),e.JRh(t.content)}}function Sn(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",208),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,s=e.XpG(2);return e.Njj(s.downloadMedia(n))}),e.j41(1,"div",209),e.qSk(),e.j41(2,"svg",191),e.nrm(3,"path",192)(4,"polyline",193)(5,"line",194),e.k0s()(),e.joV(),e.j41(6,"span"),e.EFF(7),e.k0s()()}if(2&o){const t=e.XpG(2).$implicit;e.R7$(7),e.SpI("",t.content," \u2022 Click to download")}}function In(o,r){if(1&o&&(e.j41(0,"div",198),e.DNE(1,On,10,2,"a",199)(2,Sn,8,1,"div",200),e.k0s()),2&o){const t=e.XpG().$implicit,i=e.XpG(2);e.R7$(),e.Y8G("ngIf",i.shouldShowMedia(t)),e.R7$(),e.Y8G("ngIf",!i.shouldShowMedia(t))}}function Fn(o,r){if(1&o&&e.nrm(0,"audio",213),2&o){const t=e.XpG(2).$implicit,i=e.XpG(2);e.Y8G("src",i.getAvatarUrl(t.fileUrl),e.B4B)}}function Tn(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",214),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,s=e.XpG(2);return e.Njj(s.downloadMedia(n))}),e.j41(1,"div",209),e.qSk(),e.j41(2,"svg",191),e.nrm(3,"path",192)(4,"polyline",193)(5,"line",194),e.k0s()(),e.joV(),e.j41(6,"span"),e.EFF(7,"Audio \u2022 Download"),e.k0s()()}}function Rn(o,r){if(1&o&&(e.j41(0,"div",210),e.DNE(1,Fn,1,1,"audio",211)(2,Tn,8,0,"div",212),e.k0s()),2&o){const t=e.XpG().$implicit,i=e.XpG(2);e.R7$(),e.Y8G("ngIf",i.shouldShowMedia(t)),e.R7$(),e.Y8G("ngIf",!i.shouldShowMedia(t))}}function En(o,r){1&o&&(e.qSk(),e.j41(0,"svg",76),e.nrm(1,"path",220)(2,"rect",88)(3,"line",221),e.k0s())}function Gn(o,r){1&o&&(e.qSk(),e.j41(0,"svg",76),e.nrm(1,"path",124),e.k0s())}function Vn(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",215),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onVideoCall())}),e.j41(1,"div",216),e.DNE(2,En,4,0,"svg",80)(3,Gn,2,0,"svg",80),e.k0s(),e.j41(4,"div",217)(5,"div",218),e.EFF(6),e.k0s(),e.j41(7,"div",219),e.EFF(8),e.k0s()()()}if(2&o){const t=e.XpG().$implicit;e.R7$(),e.AVh("missed",null==t.content?null:t.content.includes("Missed"))("ended",!(null!=t.content&&t.content.includes("Missed"))),e.R7$(),e.Y8G("ngIf",null==t.content?null:t.content.includes("Missed")),e.R7$(),e.Y8G("ngIf",!(null!=t.content&&t.content.includes("Missed"))),e.R7$(3),e.JRh(t.content),e.R7$(2),e.JRh(null!=t.content&&t.content.includes("Missed")?"Click to call back":"Tap to call again")}}function Nn(o,r){1&o&&(e.qSk(),e.j41(0,"svg",231),e.nrm(1,"polyline",180),e.k0s())}function Bn(o,r){if(1&o&&(e.j41(0,"span",232),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.votes.length)}}function An(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",226),e.bIt("click",function(n){const s=e.eBV(t).index,a=e.XpG(3).$implicit;return e.XpG(2).votePollOption(a,s),e.Njj(n.stopPropagation())}),e.j41(1,"div",227),e.DNE(2,Nn,2,0,"svg",228),e.k0s(),e.j41(3,"span",229),e.EFF(4),e.k0s(),e.DNE(5,Bn,2,1,"span",230),e.k0s()}if(2&o){const t=r.$implicit,i=r.index,n=e.XpG(3).$implicit,s=e.XpG(2);e.AVh("selected",s.isPollOptionSelected(n._id,i)),e.R7$(2),e.Y8G("ngIf",s.isPollOptionSelected(n._id,i)),e.R7$(2),e.JRh(t.text),e.R7$(),e.Y8G("ngIf",null==t.votes?null:t.votes.length)}}function Un(o,r){if(1&o&&(e.qex(0),e.j41(1,"div",223),e.EFF(2),e.k0s(),e.DNE(3,An,6,5,"div",224),e.j41(4,"div",225),e.EFF(5),e.k0s(),e.bVm()),2&o){const t=r.ngIf,i=e.XpG(2).$implicit,n=e.XpG(2);e.R7$(2),e.SpI("\u{1f4ca} ",t.question,""),e.R7$(),e.Y8G("ngForOf",t.options),e.R7$(2),e.Lme(" ",n.getTotalPollVotes(i)," vote(s) \u2022 ",t.options.length," options ")}}function Xn(o,r){if(1&o&&(e.j41(0,"div",222),e.DNE(1,Un,6,4,"ng-container",37),e.k0s()),2&o){const t=e.XpG().$implicit,i=e.XpG(2);e.R7$(),e.Y8G("ngIf",i.getPollData(t))}}function $n(o,r){1&o&&(e.qSk(),e.j41(0,"svg",233),e.nrm(1,"path",234),e.k0s())}function Dn(o,r){1&o&&(e.qSk(),e.j41(0,"svg",235),e.nrm(1,"polygon",236),e.k0s())}function qn(o,r){1&o&&(e.j41(0,"span",241),e.EFF(1,"\u2713\u2713"),e.k0s())}function Yn(o,r){1&o&&(e.j41(0,"span",242),e.EFF(1,"\u2713\u2713"),e.k0s())}function zn(o,r){1&o&&(e.j41(0,"span",243),e.EFF(1,"\u2713"),e.k0s())}function Ln(o,r){if(1&o&&(e.j41(0,"span",237),e.DNE(1,qn,2,0,"span",238)(2,Yn,2,0,"span",239)(3,zn,2,0,"span",240),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",t.seen),e.R7$(),e.Y8G("ngIf",!t.seen&&t.delivered),e.R7$(),e.Y8G("ngIf",!t.seen&&!t.delivered)}}function Hn(o,r){if(1&o&&(e.j41(0,"span",247),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2).$implicit;e.R7$(),e.JRh(t.reactions.length)}}function Jn(o,r){if(1&o&&(e.j41(0,"div",244)(1,"span",245),e.EFF(2),e.k0s(),e.DNE(3,Hn,2,1,"span",246),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(2),e.JRh(t.reactions[0].emoji),e.R7$(),e.Y8G("ngIf",t.reactions.length>1)}}function Wn(o,r){if(1&o&&(e.j41(0,"div",248),e.nrm(1,"div",249),e.j41(2,"span",250),e.EFF(3),e.k0s()()),2&o){const t=e.XpG().$implicit;e.R7$(3),e.SpI("",t.uploadProgress,"%")}}function Qn(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",155),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.isSelectMode&&s.toggleMessageSelection(n))})("contextmenu",function(n){const s=e.eBV(t).$implicit,a=e.XpG(2);return e.Njj(a.onMessageContextMenu(n,s))}),e.DNE(1,xn,3,3,"div",156),e.j41(2,"div",157),e.DNE(3,bn,5,4,"div",158),e.j41(4,"button",159),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.setReply(n))}),e.qSk(),e.j41(5,"svg",17),e.nrm(6,"polyline",160)(7,"path",161),e.k0s()(),e.DNE(8,kn,2,1,"p",162)(9,yn,3,2,"div",163)(10,Pn,3,2,"div",164)(11,In,3,2,"div",165)(12,Rn,3,2,"div",166)(13,Vn,9,8,"div",167)(14,Xn,2,1,"div",168),e.joV(),e.j41(15,"div",169),e.DNE(16,$n,2,0,"svg",170)(17,Dn,2,0,"svg",171),e.j41(18,"span",172),e.EFF(19),e.k0s(),e.DNE(20,Ln,4,3,"span",173),e.k0s(),e.DNE(21,Jn,4,2,"div",174)(22,Wn,4,1,"div",175),e.k0s()()}if(2&o){const t=r.$implicit,i=e.XpG(2);e.AVh("sent",t.sender._id===(null==i.currentUser?null:i.currentUser._id))("received",t.sender._id!==(null==i.currentUser?null:i.currentUser._id))("selecting",i.isSelectMode)("selected",i.selectedMessages.has(t._id)),e.Y8G("id","msg-"+t._id),e.R7$(),e.Y8G("ngIf",i.isSelectMode),e.R7$(2),e.Y8G("ngIf",t.replyTo),e.R7$(5),e.Y8G("ngIf","text"===t.messageType||!t.messageType),e.R7$(),e.Y8G("ngIf","image"===t.messageType),e.R7$(),e.Y8G("ngIf","video"===t.messageType),e.R7$(),e.Y8G("ngIf","file"===t.messageType),e.R7$(),e.Y8G("ngIf","audio"===t.messageType),e.R7$(),e.Y8G("ngIf","call_log"===t.messageType),e.R7$(),e.Y8G("ngIf","poll"===t.messageType),e.R7$(2),e.Y8G("ngIf",t.isPinned),e.R7$(),e.Y8G("ngIf",t.isStarred),e.R7$(2),e.JRh(i.formatTime(t.createdAt)),e.R7$(),e.Y8G("ngIf",t.sender._id===(null==i.currentUser?null:i.currentUser._id)&&!t.uploadProgress),e.R7$(),e.Y8G("ngIf",t.reactions&&t.reactions.length>0),e.R7$(),e.Y8G("ngIf",void 0!==t.uploadProgress)}}function Kn(o,r){1&o&&(e.j41(0,"div",251)(1,"p"),e.EFF(2,"No messages yet"),e.k0s(),e.j41(3,"small"),e.EFF(4,"Start the conversation!"),e.k0s()())}function Zn(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",252)(1,"div",253)(2,"button",254),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.cancelSelectMode())}),e.qSk(),e.j41(3,"svg",23),e.nrm(4,"line",147)(5,"line",148),e.k0s()(),e.joV(),e.j41(6,"span",255),e.EFF(7),e.k0s()(),e.j41(8,"div",256)(9,"button",257),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.copySelectedMessages())}),e.qSk(),e.j41(10,"svg",23),e.nrm(11,"rect",258)(12,"path",259),e.k0s()(),e.joV(),e.j41(13,"button",260),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openForwardModal())}),e.qSk(),e.j41(14,"svg",23),e.nrm(15,"polyline",261)(16,"path",262),e.k0s()(),e.joV(),e.j41(17,"button",263),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.deleteSelectedMessages())}),e.qSk(),e.j41(18,"svg",23),e.nrm(19,"polyline",141)(20,"path",142),e.k0s()()()()}if(2&o){const t=e.XpG(2);e.R7$(7),e.SpI("",t.selectedMessages.size," selected"),e.R7$(2),e.Y8G("disabled",0===t.selectedMessages.size),e.R7$(4),e.Y8G("disabled",0===t.selectedMessages.size),e.R7$(4),e.Y8G("disabled",0===t.selectedMessages.size)}}function ei(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",283),e.nrm(1,"div",284),e.j41(2,"div",285)(3,"div",286),e.EFF(4),e.k0s(),e.j41(5,"div",287),e.EFF(6),e.k0s()(),e.j41(7,"button",288),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.cancelReply())}),e.qSk(),e.j41(8,"svg",23),e.nrm(9,"line",147)(10,"line",148),e.k0s()()()}if(2&o){const t=e.XpG(3);e.R7$(4),e.JRh(t.replyingToMessage.sender._id===(null==t.currentUser?null:t.currentUser._id)?"You":t.replyingToMessage.sender.username),e.R7$(2),e.JRh(t.replyingToMessage.content||"Media")}}function ti(o,r){if(1&o){const t=e.RV6();e.j41(0,"span",291),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(4);return e.Njj(s.addEmoji(n))}),e.EFF(1),e.k0s()}if(2&o){const t=r.$implicit;e.R7$(),e.JRh(t)}}function ni(o,r){if(1&o&&(e.j41(0,"div",289),e.DNE(1,ti,2,1,"span",290),e.k0s()),2&o){const t=e.XpG(3);e.R7$(),e.Y8G("ngForOf",t.emojis)}}function ii(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",292)(1,"div",293),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectAttachmentType("document"))}),e.j41(2,"div",294),e.qSk(),e.j41(3,"svg",76),e.nrm(4,"path",203)(5,"polyline",204),e.k0s()(),e.joV(),e.j41(6,"span"),e.EFF(7,"Document"),e.k0s()(),e.j41(8,"div",293),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectAttachmentType("photos"))}),e.j41(9,"div",295),e.qSk(),e.j41(10,"svg",76),e.nrm(11,"rect",296)(12,"circle",297)(13,"polyline",298),e.k0s()(),e.joV(),e.j41(14,"span"),e.EFF(15,"Photos & videos"),e.k0s()(),e.j41(16,"div",293),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectAttachmentType("audio"))}),e.j41(17,"div",299),e.qSk(),e.j41(18,"svg",76),e.nrm(19,"path",300)(20,"circle",301)(21,"circle",302),e.k0s()(),e.joV(),e.j41(22,"span"),e.EFF(23,"Audio"),e.k0s()(),e.j41(24,"div",293),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectAttachmentType("poll"))}),e.j41(25,"div",303),e.qSk(),e.j41(26,"svg",76),e.nrm(27,"line",304)(28,"line",305)(29,"line",306),e.k0s()(),e.joV(),e.j41(30,"span"),e.EFF(31,"Poll"),e.k0s()()()}}function oi(o,r){1&o&&(e.qSk(),e.j41(0,"svg",76),e.nrm(1,"path",308)(2,"path",309)(3,"line",310)(4,"line",311),e.k0s())}function ri(o,r){1&o&&(e.qSk(),e.j41(0,"svg",76),e.nrm(1,"rect",312),e.k0s())}function si(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",307),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.isRecording?n.stopRecording():n.startRecording())}),e.DNE(1,oi,5,0,"svg",80)(2,ri,2,0,"svg",80),e.k0s()}if(2&o){const t=e.XpG(3);e.xc7("color",t.isRecording?"#ef4444":"")("animation",t.isRecording?"pulse 1.5s infinite":""),e.Y8G("title",t.isRecording?"Stop Recording":"Record Audio"),e.R7$(),e.Y8G("ngIf",!t.isRecording),e.R7$(),e.Y8G("ngIf",t.isRecording)}}function ai(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",313),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.sendMessage())}),e.qSk(),e.j41(1,"svg",314),e.nrm(2,"path",315)(3,"path",316),e.k0s()()}}function ci(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",264),e.DNE(1,ei,11,2,"div",265)(2,ni,2,1,"div",266)(3,ii,32,0,"div",267),e.j41(4,"div",268)(5,"button",269),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.toggleAttachmentMenu())}),e.qSk(),e.j41(6,"svg",76),e.nrm(7,"path",270),e.k0s()(),e.joV(),e.j41(8,"input",271,3),e.bIt("change",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onChatFileSelected(n))}),e.k0s(),e.j41(10,"input",272,4),e.bIt("change",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onChatFileSelected(n))}),e.k0s(),e.j41(12,"input",273,5),e.bIt("change",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onChatFileSelected(n))}),e.k0s(),e.j41(14,"input",274,6),e.bIt("change",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onChatFileSelected(n))}),e.k0s(),e.j41(16,"button",275),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.toggleEmojiPicker())}),e.qSk(),e.j41(17,"svg",76),e.nrm(18,"circle",276)(19,"path",277)(20,"line",278)(21,"line",279),e.k0s()(),e.joV(),e.j41(22,"input",280),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.newMessage,n)||(s.newMessage=n),e.Njj(n)}),e.bIt("keyup.enter",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.sendMessage())})("input",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onTyping())}),e.k0s(),e.DNE(23,si,3,7,"button",281)(24,ai,4,0,"button",282),e.k0s()()}if(2&o){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.replyingToMessage),e.R7$(),e.Y8G("ngIf",t.showEmojiPicker),e.R7$(),e.Y8G("ngIf",t.showAttachmentMenu),e.R7$(3),e.AVh("rotated",t.showAttachmentMenu),e.R7$(16),e.Y8G("placeholder",t.isRecording?"Recording audio...":"Type your message..."),e.R50("ngModel",t.newMessage),e.Y8G("disabled",t.isRecording),e.R7$(),e.Y8G("ngIf",!t.newMessage.trim()),e.R7$(),e.Y8G("ngIf",t.newMessage.trim())}}function li(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",73)(2,"div",74)(3,"button",75),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deselectUser())}),e.qSk(),e.j41(4,"svg",76),e.nrm(5,"path",77),e.k0s()(),e.joV(),e.j41(6,"div",78),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.selectedUser.isGroup?n.openGroupInfo():n.openContactInfo())}),e.DNE(7,Kt,1,1,"img",79),e.j41(8,"div",51),e.DNE(9,Zt,5,0,"svg",80)(10,en,2,1,"span",37),e.k0s()(),e.j41(11,"div",81),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.selectedUser.isGroup?n.openGroupInfo():n.openContactInfo())}),e.j41(12,"div",82),e.EFF(13),e.DNE(14,tn,4,0,"svg",83),e.k0s(),e.j41(15,"div",84),e.DNE(16,sn,4,3,"ng-container",37)(17,an,3,0,"ng-container",37),e.k0s()(),e.j41(18,"div",85)(19,"button",86),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleCallMenu())}),e.qSk(),e.j41(20,"svg",23),e.nrm(21,"polygon",87)(22,"rect",88),e.k0s(),e.joV(),e.j41(23,"span"),e.EFF(24,"Call"),e.k0s(),e.qSk(),e.j41(25,"svg",89),e.nrm(26,"polyline",90),e.k0s()(),e.DNE(27,pn,43,4,"div",91),e.k0s(),e.joV(),e.j41(28,"button",92),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleChatSearch())}),e.qSk(),e.j41(29,"svg",23),e.nrm(30,"circle",28)(31,"line",93),e.k0s()(),e.joV(),e.j41(32,"div",94)(33,"button",95),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleMoreMenu())}),e.qSk(),e.j41(34,"svg",96),e.nrm(35,"circle",97)(36,"circle",98)(37,"circle",99),e.k0s()(),e.DNE(38,_n,29,0,"div",100),e.k0s()()(),e.DNE(39,mn,11,2,"div",101),e.joV(),e.nrm(40,"app-call-modal",102,1),e.j41(42,"div",103,2),e.DNE(44,Qn,23,24,"div",104)(45,Kn,5,0,"div",105),e.k0s(),e.DNE(46,Zn,21,4,"div",106)(47,ci,25,10,"div",107),e.bVm()}if(2&o){const t=e.XpG();e.R7$(6),e.AVh("group-avatar",t.selectedUser.isGroup),e.R7$(),e.Y8G("ngIf",t.selectedUser.avatar),e.R7$(),e.xc7("display",t.selectedUser.avatar?"none":"flex"),e.R7$(),e.Y8G("ngIf",t.selectedUser.isGroup),e.R7$(),e.Y8G("ngIf",!t.selectedUser.isGroup),e.R7$(3),e.SpI(" ",t.selectedUser.fullName||t.selectedUser.username," "),e.R7$(),e.Y8G("ngIf",t.selectedUser&&t.mutedChats.has(t.selectedUser._id)),e.R7$(2),e.Y8G("ngIf",!t.selectedUser.isGroup),e.R7$(),e.Y8G("ngIf",t.selectedUser.isGroup),e.R7$(8),e.AVh("open",t.showCallMenu),e.R7$(2),e.Y8G("ngIf",t.showCallMenu),e.R7$(11),e.Y8G("ngIf",t.showMoreMenu),e.R7$(),e.Y8G("ngIf",t.showChatSearch),e.R7$(),e.Y8G("currentUser",t.currentUser),e.R7$(4),e.Y8G("ngForOf",t.messages),e.R7$(),e.Y8G("ngIf",0===t.messages.length),e.R7$(),e.Y8G("ngIf",t.isSelectMode),e.R7$(),e.Y8G("ngIf",!t.isSelectMode)}}function di(o,r){if(1&o&&e.nrm(0,"img",330),2&o){const t=e.XpG(2);e.Y8G("src",t.previewUrl,e.B4B)}}function pi(o,r){if(1&o&&e.nrm(0,"video",331),2&o){const t=e.XpG(2);e.Y8G("src",t.previewUrl,e.B4B)}}function _i(o,r){if(1&o&&(e.j41(0,"div",202),e.qSk(),e.j41(1,"svg",332),e.nrm(2,"path",203)(3,"polyline",204),e.k0s(),e.joV(),e.j41(4,"span"),e.EFF(5),e.k0s(),e.j41(6,"small"),e.EFF(7),e.k0s()()),2&o){const t=e.XpG(2);e.R7$(5),e.JRh(t.previewFile.name),e.R7$(2),e.SpI("",(t.previewFile.size/1024/1024).toFixed(2)," MB")}}function gi(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",317)(1,"div",318)(2,"div",319)(3,"h3"),e.EFF(4,"Send Attachment?"),e.k0s(),e.j41(5,"button",320),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cancelPreview())}),e.EFF(6,"\xd7"),e.k0s()(),e.j41(7,"div",321),e.DNE(8,di,1,1,"img",322)(9,pi,1,1,"video",323)(10,_i,8,2,"div",324),e.k0s(),e.j41(11,"div",325)(12,"button",326),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cancelPreview())}),e.EFF(13,"Cancel"),e.k0s(),e.j41(14,"button",327),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmSendFile())}),e.EFF(15," Send "),e.qSk(),e.j41(16,"svg",27),e.nrm(17,"line",328)(18,"polygon",329),e.k0s()()()()()}if(2&o){const t=e.XpG();e.R7$(8),e.Y8G("ngIf",t.previewUrl&&(null==t.previewFile||null==t.previewFile.type?null:t.previewFile.type.startsWith("image/"))),e.R7$(),e.Y8G("ngIf",t.previewUrl&&(null==t.previewFile||null==t.previewFile.type?null:t.previewFile.type.startsWith("video/"))),e.R7$(),e.Y8G("ngIf",!t.previewUrl)}}function ui(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",351),e.bIt("click",function(){e.eBV(t);const n=e.XpG().index,s=e.XpG(2);return e.Njj(s.removePollOption(n))}),e.qSk(),e.j41(1,"svg",27),e.nrm(2,"line",147)(3,"line",148),e.k0s()()}}function hi(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",348)(1,"input",349),e.mxI("ngModelChange",function(n){const s=e.eBV(t).index,a=e.XpG(2);return e.DH7(a.pollOptions[s],n)||(a.pollOptions[s]=n),e.Njj(n)}),e.k0s(),e.DNE(2,ui,4,0,"button",350),e.k0s()}if(2&o){const t=r.index,i=e.XpG(2);e.R7$(),e.R50("ngModel",i.pollOptions[t]),e.Y8G("placeholder","Option "+(t+1)),e.R7$(),e.Y8G("ngIf",i.pollOptions.length>2)}}function fi(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",352),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.addPollOption())}),e.qSk(),e.j41(1,"svg",27),e.nrm(2,"line",353)(3,"line",354),e.k0s(),e.EFF(4," Add option "),e.k0s()}}function mi(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",317)(1,"div",333)(2,"div",334)(3,"button",75),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closePollModal())}),e.qSk(),e.j41(4,"svg",23),e.nrm(5,"line",147)(6,"line",148),e.k0s()(),e.joV(),e.j41(7,"h3"),e.EFF(8,"Create Poll"),e.k0s(),e.j41(9,"button",335),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.sendPoll())}),e.qSk(),e.j41(10,"svg",23),e.nrm(11,"line",328)(12,"polygon",329),e.k0s()()(),e.joV(),e.j41(13,"div",336)(14,"div",337)(15,"label"),e.EFF(16,"Question"),e.k0s(),e.j41(17,"input",338),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.pollQuestion,n)||(s.pollQuestion=n),e.Njj(n)}),e.k0s(),e.j41(18,"span",339),e.EFF(19),e.k0s()(),e.j41(20,"div",340)(21,"label"),e.EFF(22,"Options"),e.k0s(),e.DNE(23,hi,3,3,"div",341)(24,fi,5,0,"button",342),e.k0s(),e.j41(25,"div",343)(26,"div",344)(27,"span"),e.EFF(28,"Allow multiple answers"),e.k0s(),e.j41(29,"label",345)(30,"input",346),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.pollAllowMultiple,n)||(s.pollAllowMultiple=n),e.Njj(n)}),e.k0s(),e.nrm(31,"span",347),e.k0s()()()()()()}if(2&o){const t=e.XpG();e.R7$(9),e.Y8G("disabled",!t.canSendPoll()),e.R7$(8),e.R50("ngModel",t.pollQuestion),e.R7$(2),e.SpI("",t.pollQuestion.length,"/200"),e.R7$(4),e.Y8G("ngForOf",t.pollOptions)("ngForTrackBy",t.trackByIndex),e.R7$(),e.Y8G("ngIf",t.pollOptions.length<10),e.R7$(6),e.R50("ngModel",t.pollAllowMultiple)}}function vi(o,r){if(1&o&&e.nrm(0,"img",379),2&o){const t=e.XpG(3);e.Y8G("src",t.getAvatarUrl(null==t.currentUser?null:t.currentUser.avatar)+"?v="+t.avatarVersion,e.B4B)}}function xi(o,r){if(1&o&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&o){let t;const i=e.XpG(3);e.R7$(),e.SpI(" ",null==i.currentUser||null==i.currentUser.username||null==(t=i.currentUser.username.charAt(0))?null:t.toUpperCase()," ")}}function bi(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",357)(2,"h2"),e.EFF(3,"Settings"),e.k0s(),e.j41(4,"button",320),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.closeSettings())}),e.EFF(5,"\xd7"),e.k0s()(),e.j41(6,"div",358),e.nrm(7,"input",359),e.k0s(),e.j41(8,"div",360)(9,"div",361),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("profile"))}),e.j41(10,"div",362),e.DNE(11,vi,1,1,"img",363)(12,xi,2,1,"span",37),e.k0s(),e.j41(13,"div",364)(14,"h3"),e.EFF(15),e.k0s(),e.j41(16,"p",365),e.EFF(17),e.k0s()()(),e.j41(18,"div",366)(19,"div",367),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("general"))}),e.qSk(),e.j41(20,"svg",368),e.nrm(21,"rect",296)(22,"line",369),e.k0s(),e.joV(),e.j41(23,"div",370)(24,"h4"),e.EFF(25,"General"),e.k0s(),e.j41(26,"p"),e.EFF(27,"Startup and close"),e.k0s()()(),e.j41(28,"div",367),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("account"))}),e.qSk(),e.j41(29,"svg",368),e.nrm(30,"path",371),e.k0s(),e.joV(),e.j41(31,"div",370)(32,"h4"),e.EFF(33,"Account"),e.k0s(),e.j41(34,"p"),e.EFF(35,"Security notifications, account info"),e.k0s()()(),e.j41(36,"div",367),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("privacy"))}),e.qSk(),e.j41(37,"svg",368),e.nrm(38,"rect",372)(39,"path",373),e.k0s(),e.joV(),e.j41(40,"div",370)(41,"h4"),e.EFF(42,"Privacy"),e.k0s(),e.j41(43,"p"),e.EFF(44,"Blocked contacts, disappearing messages"),e.k0s()()(),e.j41(45,"div",367),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("chats"))}),e.qSk(),e.j41(46,"svg",368),e.nrm(47,"path",374),e.k0s(),e.joV(),e.j41(48,"div",370)(49,"h4"),e.EFF(50,"Chats"),e.k0s(),e.j41(51,"p"),e.EFF(52,"Theme, wallpaper, chat settings"),e.k0s()()(),e.j41(53,"div",367),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("video-voice"))}),e.qSk(),e.j41(54,"svg",368),e.nrm(55,"polygon",87)(56,"rect",88),e.k0s(),e.joV(),e.j41(57,"div",370)(58,"h4"),e.EFF(59,"Video & voice"),e.k0s(),e.j41(60,"p"),e.EFF(61,"Camera, microphone & speakers"),e.k0s()()(),e.j41(62,"div",367),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("notifications"))}),e.qSk(),e.j41(63,"svg",368),e.nrm(64,"path",110)(65,"path",111),e.k0s(),e.joV(),e.j41(66,"div",370)(67,"h4"),e.EFF(68,"Notifications"),e.k0s(),e.j41(69,"p"),e.EFF(70,"Message notifications"),e.k0s()()(),e.j41(71,"div",375),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onLogout())}),e.qSk(),e.j41(72,"svg",368),e.nrm(73,"path",376)(74,"polyline",377)(75,"line",378),e.k0s(),e.joV(),e.j41(76,"div",370)(77,"h4"),e.EFF(78,"Log out"),e.k0s()()()()(),e.bVm()}if(2&o){const t=e.XpG(2);e.R7$(11),e.Y8G("ngIf",null==t.currentUser?null:t.currentUser.avatar),e.R7$(),e.Y8G("ngIf",!(null!=t.currentUser&&t.currentUser.avatar)),e.R7$(3),e.JRh((null==t.currentUser?null:t.currentUser.fullName)||(null==t.currentUser?null:t.currentUser.username)),e.R7$(2),e.JRh((null==t.currentUser?null:t.currentUser.about)||"Busy doing nothing...")}}function ki(o,r){if(1&o&&(e.j41(0,"div",400),e.EFF(1),e.k0s()),2&o){let t;const i=e.XpG(3);e.R7$(),e.SpI(" ",null==i.currentUser||null==i.currentUser.username||null==(t=i.currentUser.username.charAt(0))?null:t.toUpperCase()," ")}}function Ci(o,r){if(1&o&&e.nrm(0,"img",401),2&o){const t=e.XpG(3);e.Y8G("src",t.getAvatarUrl(null==t.currentUser?null:t.currentUser.avatar)+"?v="+t.avatarVersion,e.B4B)}}function ji(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",402)(1,"span",403),e.EFF(2),e.k0s(),e.j41(3,"button",404),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.startEditName())}),e.qSk(),e.j41(4,"svg",405),e.nrm(5,"path",406),e.k0s()()()}if(2&o){const t=e.XpG(3);e.R7$(2),e.JRh(null==t.currentUser?null:t.currentUser.username)}}function yi(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",407)(1,"input",408),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(3);return e.DH7(s.tempProfileName,n)||(s.tempProfileName=n),e.Njj(n)}),e.bIt("keyup.enter",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.saveName())})("keyup.escape",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.cancelEditName())}),e.k0s(),e.j41(2,"span",339),e.EFF(3),e.k0s(),e.j41(4,"div",409)(5,"button",410),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.cancelEditName())}),e.qSk(),e.j41(6,"svg",411),e.nrm(7,"line",147)(8,"line",148),e.k0s()(),e.joV(),e.j41(9,"button",412),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.saveName())}),e.qSk(),e.j41(10,"svg",411),e.nrm(11,"polyline",180),e.k0s()()()()}if(2&o){const t=e.XpG(3);e.R7$(),e.R50("ngModel",t.tempProfileName),e.R7$(),e.AVh("low",100-t.tempProfileName.length<20),e.R7$(),e.SpI(" ",100-t.tempProfileName.length," ")}}function wi(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",402)(1,"span",403),e.EFF(2),e.k0s(),e.j41(3,"button",413),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.startEditAbout())}),e.qSk(),e.j41(4,"svg",405),e.nrm(5,"path",406),e.k0s()()()}if(2&o){const t=e.XpG(3);e.R7$(2),e.JRh((null==t.currentUser?null:t.currentUser.about)||"Busy doing nothing...")}}function Mi(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",407)(1,"textarea",414),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(3);return e.DH7(s.tempProfileAbout,n)||(s.tempProfileAbout=n),e.Njj(n)}),e.bIt("keyup.enter",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.saveAbout())})("keyup.escape",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.cancelEditAbout())}),e.k0s(),e.j41(2,"span",339),e.EFF(3),e.k0s(),e.j41(4,"div",409)(5,"button",410),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.cancelEditAbout())}),e.qSk(),e.j41(6,"svg",411),e.nrm(7,"line",147)(8,"line",148),e.k0s()(),e.joV(),e.j41(9,"button",412),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.saveAbout())}),e.qSk(),e.j41(10,"svg",411),e.nrm(11,"polyline",180),e.k0s()()()()}if(2&o){const t=e.XpG(3);e.R7$(),e.R50("ngModel",t.tempProfileAbout),e.R7$(),e.AVh("low",1500-t.tempProfileAbout.length<50),e.R7$(),e.SpI(" ",1500-t.tempProfileAbout.length," ")}}function Pi(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",380)(2,"button",75),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("main"))}),e.qSk(),e.j41(3,"svg",381),e.nrm(4,"path",382)(5,"path",383),e.k0s(),e.joV(),e.j41(6,"span",384),e.EFF(7,"Profile"),e.k0s()()(),e.j41(8,"div",385)(9,"div",386)(10,"div",387),e.bIt("click",function(){e.eBV(t);const n=e.sdS(20);return e.Njj(n.click())}),e.DNE(11,ki,2,1,"div",388)(12,Ci,1,1,"img",389),e.j41(13,"div",390),e.qSk(),e.j41(14,"svg",391),e.nrm(15,"path",18)(16,"circle",19),e.k0s(),e.joV(),e.j41(17,"span"),e.EFF(18,"CHANGE"),e.k0s()()(),e.j41(19,"input",392,0),e.bIt("change",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onProfilePhotoSelected(n))}),e.k0s()(),e.j41(21,"div",393)(22,"div",394)(23,"span",395),e.EFF(24,"Your name"),e.k0s(),e.DNE(25,ji,6,1,"div",396)(26,yi,12,4,"div",397),e.j41(27,"p",398),e.EFF(28,"This is not your username or pin. This name will be visible to your WhatsApp contacts."),e.k0s()(),e.nrm(29,"div",399),e.j41(30,"div",394)(31,"span",395),e.EFF(32,"About"),e.k0s(),e.DNE(33,wi,6,1,"div",396)(34,Mi,12,4,"div",397),e.k0s()()(),e.bVm()}if(2&o){const t=e.XpG(2);e.R7$(11),e.Y8G("ngIf",!(null!=t.currentUser&&t.currentUser.avatar)),e.R7$(),e.Y8G("ngIf",null==t.currentUser?null:t.currentUser.avatar),e.R7$(13),e.Y8G("ngIf",!t.isEditingName),e.R7$(),e.Y8G("ngIf",t.isEditingName),e.R7$(7),e.Y8G("ngIf",!t.isEditingAbout),e.R7$(),e.Y8G("ngIf",t.isEditingAbout)}}function Oi(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",357)(2,"button",75),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("main"))}),e.qSk(),e.j41(3,"svg",76),e.nrm(4,"line",415)(5,"polyline",416),e.k0s(),e.EFF(6," Chats "),e.k0s(),e.joV(),e.j41(7,"button",320),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.closeSettings())}),e.EFF(8,"\xd7"),e.k0s()(),e.j41(9,"div",360)(10,"div",417)(11,"h3"),e.EFF(12,"Display"),e.k0s(),e.j41(13,"div",418),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openThemeModal())}),e.j41(14,"div",419)(15,"h4"),e.EFF(16,"Theme"),e.k0s(),e.j41(17,"p"),e.EFF(18),e.k0s()(),e.qSk(),e.j41(19,"svg",420),e.nrm(20,"polyline",421),e.k0s()(),e.joV(),e.j41(21,"div",418),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openWallpaperModal())}),e.j41(22,"div",419)(23,"h4"),e.EFF(24,"Wallpaper"),e.k0s(),e.j41(25,"p"),e.EFF(26,"Change chat wallpaper"),e.k0s()(),e.qSk(),e.j41(27,"svg",420),e.nrm(28,"polyline",421),e.k0s()(),e.joV(),e.nrm(29,"div",422),e.k0s(),e.j41(30,"div",417)(31,"h3"),e.EFF(32,"Chat settings"),e.k0s(),e.j41(33,"div",418),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("media-quality"))}),e.j41(34,"div",419)(35,"h4"),e.EFF(36,"Media upload quality"),e.k0s(),e.j41(37,"p"),e.EFF(38),e.k0s()(),e.qSk(),e.j41(39,"svg",420),e.nrm(40,"polyline",421),e.k0s()(),e.joV(),e.j41(41,"div",418),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("media-auto-download"))}),e.j41(42,"div",419)(43,"h4"),e.EFF(44,"Media auto-download"),e.k0s(),e.j41(45,"p"),e.EFF(46,"Voice messages are always automatically downloaded"),e.k0s()(),e.qSk(),e.j41(47,"svg",420),e.nrm(48,"polyline",421),e.k0s()(),e.joV(),e.nrm(49,"div",422),e.j41(50,"div",423)(51,"div",424)(52,"h4"),e.EFF(53,"Spell check"),e.k0s(),e.j41(54,"p"),e.EFF(55,"Check spelling while typing"),e.k0s()(),e.j41(56,"label",425)(57,"input",426),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.chatSettings.spellCheck,n)||(s.chatSettings.spellCheck=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(58,"span",427),e.k0s()(),e.j41(59,"div",423)(60,"div",424)(61,"h4"),e.EFF(62,"Replace text with emoji"),e.k0s(),e.j41(63,"p"),e.EFF(64,"Emoji will replace specific text as you type"),e.k0s()(),e.j41(65,"label",425)(66,"input",426),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.chatSettings.replaceEmoji,n)||(s.chatSettings.replaceEmoji=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(67,"span",427),e.k0s()(),e.j41(68,"div",423)(69,"div",424)(70,"h4"),e.EFF(71,"Enter is send"),e.k0s(),e.j41(72,"p"),e.EFF(73,"Enter key will send your message"),e.k0s()(),e.j41(74,"label",425)(75,"input",426),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.chatSettings.enterIsSend,n)||(s.chatSettings.enterIsSend=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(76,"span",427),e.k0s()()()(),e.bVm()}if(2&o){const t=e.XpG(2);e.R7$(18),e.JRh(t.chatSettings.theme),e.R7$(20),e.SpI("",t.chatSettings.mediaQuality," quality"),e.R7$(19),e.R50("ngModel",t.chatSettings.spellCheck),e.R7$(9),e.R50("ngModel",t.chatSettings.replaceEmoji),e.R7$(9),e.R50("ngModel",t.chatSettings.enterIsSend)}}function Si(o,r){1&o&&e.nrm(0,"div",433)}function Ii(o,r){1&o&&e.nrm(0,"div",433)}function Fi(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",357)(2,"button",75),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("main"))}),e.qSk(),e.j41(3,"svg",76),e.nrm(4,"line",415)(5,"polyline",416),e.k0s(),e.EFF(6," Media upload quality "),e.k0s(),e.joV(),e.j41(7,"button",320),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.closeSettings())}),e.EFF(8,"\xd7"),e.k0s()(),e.j41(9,"div",360)(10,"div",417)(11,"div",428),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return n.chatSettings.mediaQuality="Standard",e.Njj(n.saveSettings())}),e.j41(12,"div",419)(13,"h4"),e.EFF(14,"Standard quality"),e.k0s(),e.j41(15,"p",429),e.EFF(16,"Standard media uses less storage and are faster to send"),e.k0s()(),e.j41(17,"div",430)(18,"div",431),e.DNE(19,Si,1,0,"div",432),e.k0s()()(),e.j41(20,"div",428),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return n.chatSettings.mediaQuality="HD",e.Njj(n.saveSettings())}),e.j41(21,"div",419)(22,"h4"),e.EFF(23,"HD quality"),e.k0s(),e.j41(24,"p",429),e.EFF(25,"HD media is slower to send, can be 6 times larger"),e.k0s()(),e.j41(26,"div",430)(27,"div",431),e.DNE(28,Ii,1,0,"div",432),e.k0s()()()()(),e.bVm()}if(2&o){const t=e.XpG(2);e.R7$(18),e.AVh("selected","Standard"===t.chatSettings.mediaQuality),e.R7$(),e.Y8G("ngIf","Standard"===t.chatSettings.mediaQuality),e.R7$(8),e.AVh("selected","HD"===t.chatSettings.mediaQuality),e.R7$(),e.Y8G("ngIf","HD"===t.chatSettings.mediaQuality)}}function Ti(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",357)(2,"button",75),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("chats"))}),e.qSk(),e.j41(3,"svg",76),e.nrm(4,"line",415)(5,"polyline",416),e.k0s(),e.EFF(6," Media auto-download "),e.k0s(),e.joV(),e.j41(7,"button",320),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.closeSettings())}),e.EFF(8,"\xd7"),e.k0s()(),e.j41(9,"div",360)(10,"div",417)(11,"div",423)(12,"div",424)(13,"h4"),e.EFF(14,"Photos"),e.k0s()(),e.j41(15,"label",425)(16,"input",426),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.chatSettings.autoDownload.photos,n)||(s.chatSettings.autoDownload.photos=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(17,"span",427),e.k0s()(),e.j41(18,"div",423)(19,"div",424)(20,"h4"),e.EFF(21,"Audio"),e.k0s()(),e.j41(22,"label",425)(23,"input",426),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.chatSettings.autoDownload.audio,n)||(s.chatSettings.autoDownload.audio=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(24,"span",427),e.k0s()(),e.j41(25,"div",423)(26,"div",424)(27,"h4"),e.EFF(28,"Videos"),e.k0s()(),e.j41(29,"label",425)(30,"input",426),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.chatSettings.autoDownload.videos,n)||(s.chatSettings.autoDownload.videos=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(31,"span",427),e.k0s()(),e.j41(32,"div",423)(33,"div",424)(34,"h4"),e.EFF(35,"Documents"),e.k0s()(),e.j41(36,"label",425)(37,"input",426),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.chatSettings.autoDownload.documents,n)||(s.chatSettings.autoDownload.documents=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(38,"span",427),e.k0s()(),e.nrm(39,"div",422),e.j41(40,"p",434),e.EFF(41," Voice messages are always automatically downloaded for the best communication experience. "),e.k0s(),e.j41(42,"div",435),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.resetAutoDownloadSettings())}),e.j41(43,"div",436),e.qSk(),e.j41(44,"svg",23),e.nrm(45,"path",437)(46,"path",438),e.k0s(),e.joV(),e.j41(47,"h4"),e.EFF(48,"Reset auto-download settings"),e.k0s()()()()(),e.bVm()}if(2&o){const t=e.XpG(2);e.R7$(16),e.R50("ngModel",t.chatSettings.autoDownload.photos),e.R7$(7),e.R50("ngModel",t.chatSettings.autoDownload.audio),e.R7$(7),e.R50("ngModel",t.chatSettings.autoDownload.videos),e.R7$(7),e.R50("ngModel",t.chatSettings.autoDownload.documents)}}function Ri(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",445)(1,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectGeneralSetting("language","English"))}),e.EFF(2,"English"),e.k0s(),e.j41(3,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectGeneralSetting("language","Hindi"))}),e.EFF(4,"Hindi"),e.k0s(),e.j41(5,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectGeneralSetting("language","Gujarati"))}),e.EFF(6,"Gujarati"),e.k0s()()}if(2&o){const t=e.XpG(3);e.R7$(),e.AVh("selected","English"===t.generalSettings.language),e.R7$(2),e.AVh("selected","Hindi"===t.generalSettings.language),e.R7$(2),e.AVh("selected","Gujarati"===t.generalSettings.language)}}function Ei(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",445)(1,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectGeneralSetting("fontSize","100% (default)"))}),e.EFF(2,"100% (default)"),e.k0s(),e.j41(3,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectGeneralSetting("fontSize","125%"))}),e.EFF(4,"125%"),e.k0s(),e.j41(5,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectGeneralSetting("fontSize","150%"))}),e.EFF(6,"150%"),e.k0s()()}if(2&o){const t=e.XpG(3);e.R7$(),e.AVh("selected","100% (default)"===t.generalSettings.fontSize),e.R7$(2),e.AVh("selected","125%"===t.generalSettings.fontSize),e.R7$(2),e.AVh("selected","150%"===t.generalSettings.fontSize)}}function Gi(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",357)(2,"button",75),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("main"))}),e.qSk(),e.j41(3,"svg",76),e.nrm(4,"line",415)(5,"polyline",416),e.k0s(),e.EFF(6," General "),e.k0s(),e.joV(),e.j41(7,"button",320),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.closeSettings())}),e.EFF(8,"\xd7"),e.k0s()(),e.j41(9,"div",360)(10,"div",417)(11,"h3"),e.EFF(12,"Startup and close"),e.k0s(),e.j41(13,"div",423)(14,"div",424)(15,"h4"),e.EFF(16,"Start WhatsApp at login"),e.k0s()(),e.j41(17,"label",425)(18,"input",439),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.generalSettings.startAtLogin,n)||(s.generalSettings.startAtLogin=n),e.Njj(n)}),e.k0s(),e.nrm(19,"span",427),e.k0s()(),e.j41(20,"div",423)(21,"div",424)(22,"h4"),e.EFF(23,"Minimise to system tray"),e.k0s(),e.j41(24,"p"),e.EFF(25,"Keep WhatsApp running after closing the application window"),e.k0s()(),e.j41(26,"label",425)(27,"input",439),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.generalSettings.minimizeToTray,n)||(s.generalSettings.minimizeToTray=n),e.Njj(n)}),e.k0s(),e.nrm(28,"span",427),e.k0s()()(),e.j41(29,"div",417)(30,"h3"),e.EFF(31,"Language"),e.k0s(),e.j41(32,"div",440),e.bIt("click",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.toggleNotifDropdown("language",n))}),e.j41(33,"div",441),e.EFF(34),e.k0s(),e.qSk(),e.j41(35,"svg",442),e.nrm(36,"polyline",90),e.k0s(),e.DNE(37,Ri,7,6,"div",443),e.k0s()(),e.joV(),e.j41(38,"div",417)(39,"h3"),e.EFF(40,"Font size"),e.k0s(),e.j41(41,"div",440),e.bIt("click",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.toggleNotifDropdown("fontSize",n))}),e.j41(42,"div",441),e.EFF(43),e.k0s(),e.qSk(),e.j41(44,"svg",442),e.nrm(45,"polyline",90),e.k0s(),e.DNE(46,Ei,7,6,"div",443),e.k0s(),e.joV(),e.j41(47,"span",444),e.EFF(48,"Use Ctrl + / - to increase or decrease text size"),e.k0s()()(),e.bVm()}if(2&o){const t=e.XpG(2);e.R7$(18),e.R50("ngModel",t.generalSettings.startAtLogin),e.R7$(9),e.R50("ngModel",t.generalSettings.minimizeToTray),e.R7$(7),e.SpI(" ",t.generalSettings.language," "),e.R7$(),e.AVh("open","language"===t.activeNotifDropdown),e.R7$(2),e.Y8G("ngIf","language"===t.activeNotifDropdown),e.R7$(6),e.SpI(" ",t.generalSettings.fontSize," "),e.R7$(),e.AVh("open","fontSize"===t.activeNotifDropdown),e.R7$(2),e.Y8G("ngIf","fontSize"===t.activeNotifDropdown)}}function Vi(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",357)(2,"button",75),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("main"))}),e.qSk(),e.j41(3,"svg",76),e.nrm(4,"line",415)(5,"polyline",416),e.k0s(),e.EFF(6," Account "),e.k0s(),e.joV(),e.j41(7,"button",320),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.closeSettings())}),e.EFF(8,"\xd7"),e.k0s()(),e.j41(9,"div",360)(10,"div",366)(11,"div",367),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("security"))}),e.qSk(),e.j41(12,"svg",368),e.nrm(13,"path",447),e.k0s(),e.joV(),e.j41(14,"div",370)(15,"h4"),e.EFF(16,"Security notifications"),e.k0s()()(),e.j41(17,"div",367),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("request-info"))}),e.qSk(),e.j41(18,"svg",368),e.nrm(19,"path",448)(20,"polyline",449)(21,"line",450)(22,"line",451)(23,"polyline",452),e.k0s(),e.joV(),e.j41(24,"div",370)(25,"h4"),e.EFF(26,"Request account info"),e.k0s()()(),e.j41(27,"div",453),e.qSk(),e.j41(28,"svg",368),e.nrm(29,"circle",276)(30,"line",454)(31,"line",455),e.k0s(),e.joV(),e.j41(32,"div",370)(33,"h4"),e.EFF(34,"How to delete my account"),e.k0s()()()()(),e.bVm()}}function Ni(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",357)(2,"button",75),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("account"))}),e.qSk(),e.j41(3,"svg",76),e.nrm(4,"line",415)(5,"polyline",416),e.k0s(),e.EFF(6," Security "),e.k0s(),e.joV(),e.j41(7,"button",320),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.closeSettings())}),e.EFF(8,"\xd7"),e.k0s()(),e.j41(9,"div",360)(10,"div",456),e.qSk(),e.j41(11,"svg",457),e.nrm(12,"rect",458)(13,"rect",372)(14,"path",373),e.k0s(),e.joV(),e.j41(15,"h3"),e.EFF(16,"Your chats and calls are private"),e.k0s(),e.j41(17,"p"),e.EFF(18,"End-to-end encryption keeps your personal messages and calls between you and the people you choose. No one outside of the chat, not even WhatsApp, can read, listen to, or share them. This includes your:"),e.k0s()(),e.j41(19,"div",459)(20,"div",460),e.qSk(),e.j41(21,"svg",23),e.nrm(22,"path",374),e.k0s(),e.EFF(23," Text and voice messages "),e.k0s(),e.joV(),e.j41(24,"div",460),e.qSk(),e.j41(25,"svg",23),e.nrm(26,"path",124),e.k0s(),e.EFF(27," Audio and video calls "),e.k0s(),e.joV(),e.j41(28,"div",460),e.qSk(),e.j41(29,"svg",23),e.nrm(30,"rect",296)(31,"circle",297)(32,"polyline",298),e.k0s(),e.EFF(33," Photos, videos and documents "),e.k0s(),e.joV(),e.j41(34,"div",460),e.qSk(),e.j41(35,"svg",23),e.nrm(36,"path",461)(37,"circle",462),e.k0s(),e.EFF(38," Location sharing "),e.k0s(),e.joV(),e.j41(39,"div",460),e.qSk(),e.j41(40,"svg",23),e.nrm(41,"circle",276)(42,"circle",463),e.k0s(),e.EFF(43," Status updates "),e.k0s(),e.joV(),e.j41(44,"a",464),e.EFF(45,"Learn more"),e.k0s()(),e.j41(46,"div",465)(47,"div",423)(48,"div",424)(49,"h4"),e.EFF(50,"Show security notifications on this computer"),e.k0s(),e.j41(51,"p",466),e.EFF(52,"Get notified when your security code changes for a contact's phone. If you have multiple devices, this setting must be enabled on each device where you want to get notifications."),e.k0s(),e.j41(53,"a",464),e.EFF(54,"Learn more"),e.k0s()(),e.j41(55,"label",425)(56,"input",439),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.securitySettings.showNotifications,n)||(s.securitySettings.showNotifications=n),e.Njj(n)}),e.k0s(),e.nrm(57,"span",427),e.k0s()()()(),e.bVm()}if(2&o){const t=e.XpG(2);e.R7$(56),e.R50("ngModel",t.securitySettings.showNotifications)}}function Bi(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",357)(2,"button",75),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("account"))}),e.qSk(),e.j41(3,"svg",76),e.nrm(4,"line",415)(5,"polyline",416),e.k0s(),e.EFF(6," Request account info "),e.k0s(),e.joV(),e.j41(7,"button",320),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.closeSettings())}),e.EFF(8,"\xd7"),e.k0s()(),e.j41(9,"div",360)(10,"div",417)(11,"h3"),e.EFF(12,"Account information"),e.k0s(),e.j41(13,"div",467)(14,"div",468),e.qSk(),e.j41(15,"svg",76),e.nrm(16,"circle",276)(17,"polyline",469),e.k0s()(),e.joV(),e.j41(18,"div",470)(19,"h4"),e.EFF(20,"Request sent"),e.k0s(),e.j41(21,"p"),e.EFF(22,"Ready by January 31, 2026"),e.k0s()()(),e.j41(23,"p",471),e.EFF(24," Your request will be cancelled if you make changes to your account such as changing your number or deleting your account. "),e.k0s(),e.j41(25,"h3"),e.EFF(26,"Channels activity"),e.k0s(),e.j41(27,"div",472),e.qSk(),e.j41(28,"svg",76),e.nrm(29,"path",448)(30,"polyline",449)(31,"line",450)(32,"line",451)(33,"polyline",452),e.k0s(),e.joV(),e.j41(34,"span"),e.EFF(35,"Request Channels report"),e.k0s()(),e.j41(36,"p",473),e.EFF(37," Create a report of updates and information from channels you interact with or manage, which you can access or port to another app. "),e.j41(38,"a",464),e.EFF(39,"Learn more"),e.k0s()()()(),e.bVm()}}function Ai(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",480)(1,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectPrivacySetting("lastSeen","Everyone"))}),e.EFF(2,"Everyone"),e.k0s(),e.j41(3,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectPrivacySetting("lastSeen","My contacts"))}),e.EFF(4,"My contacts"),e.k0s(),e.j41(5,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectPrivacySetting("lastSeen","Nobody"))}),e.EFF(6,"Nobody"),e.k0s()()}if(2&o){const t=e.XpG(3);e.R7$(),e.AVh("selected","Everyone"===t.privacySettings.lastSeen),e.R7$(2),e.AVh("selected","My contacts"===t.privacySettings.lastSeen),e.R7$(2),e.AVh("selected","Nobody"===t.privacySettings.lastSeen)}}function Ui(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",480)(1,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectPrivacySetting("profilePhoto","Everyone"))}),e.EFF(2,"Everyone"),e.k0s(),e.j41(3,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectPrivacySetting("profilePhoto","My contacts"))}),e.EFF(4,"My contacts"),e.k0s(),e.j41(5,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectPrivacySetting("profilePhoto","Nobody"))}),e.EFF(6,"Nobody"),e.k0s()()}if(2&o){const t=e.XpG(3);e.R7$(),e.AVh("selected","Everyone"===t.privacySettings.profilePhoto),e.R7$(2),e.AVh("selected","My contacts"===t.privacySettings.profilePhoto),e.R7$(2),e.AVh("selected","Nobody"===t.privacySettings.profilePhoto)}}function Xi(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",480)(1,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectPrivacySetting("about","Everyone"))}),e.EFF(2,"Everyone"),e.k0s(),e.j41(3,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectPrivacySetting("about","My contacts"))}),e.EFF(4,"My contacts"),e.k0s(),e.j41(5,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectPrivacySetting("about","Nobody"))}),e.EFF(6,"Nobody"),e.k0s()()}if(2&o){const t=e.XpG(3);e.R7$(),e.AVh("selected","Everyone"===t.privacySettings.about),e.R7$(2),e.AVh("selected","My contacts"===t.privacySettings.about),e.R7$(2),e.AVh("selected","Nobody"===t.privacySettings.about)}}function $i(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",480)(1,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectPrivacySetting("status","My contacts"))}),e.EFF(2,"My contacts"),e.k0s(),e.j41(3,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectPrivacySetting("status","My contacts except..."))}),e.EFF(4,"My contacts except... "),e.k0s(),e.j41(5,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectPrivacySetting("status","Only share with..."))}),e.EFF(6,"Only share with... "),e.k0s()()}if(2&o){const t=e.XpG(3);e.R7$(),e.AVh("selected","My contacts"===t.privacySettings.status),e.R7$(2),e.AVh("selected","My contacts except..."===t.privacySettings.status),e.R7$(2),e.AVh("selected","Only share with..."===t.privacySettings.status)}}function Di(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",480)(1,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectPrivacySetting("defaultTimer","Off"))}),e.EFF(2,"Off"),e.k0s(),e.j41(3,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectPrivacySetting("defaultTimer","24 Hours"))}),e.EFF(4,"24 Hours"),e.k0s(),e.j41(5,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectPrivacySetting("defaultTimer","7 Days"))}),e.EFF(6,"7 Days"),e.k0s(),e.j41(7,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectPrivacySetting("defaultTimer","90 Days"))}),e.EFF(8,"90 Days"),e.k0s()()}if(2&o){const t=e.XpG(3);e.R7$(),e.AVh("selected","Off"===t.privacySettings.defaultTimer),e.R7$(2),e.AVh("selected","24 Hours"===t.privacySettings.defaultTimer),e.R7$(2),e.AVh("selected","7 Days"===t.privacySettings.defaultTimer),e.R7$(2),e.AVh("selected","90 Days"===t.privacySettings.defaultTimer)}}function qi(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",480)(1,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectPrivacySetting("groups","Everyone"))}),e.EFF(2,"Everyone"),e.k0s(),e.j41(3,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectPrivacySetting("groups","My contacts"))}),e.EFF(4,"My contacts"),e.k0s(),e.j41(5,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectPrivacySetting("groups","My contacts except..."))}),e.EFF(6,"My contacts except... "),e.k0s()()}if(2&o){const t=e.XpG(3);e.R7$(),e.AVh("selected","Everyone"===t.privacySettings.groups),e.R7$(2),e.AVh("selected","My contacts"===t.privacySettings.groups),e.R7$(2),e.AVh("selected","My contacts except..."===t.privacySettings.groups)}}function Yi(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",357)(2,"button",75),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("main"))}),e.qSk(),e.j41(3,"svg",76),e.nrm(4,"line",415)(5,"polyline",416),e.k0s(),e.EFF(6," Privacy "),e.k0s(),e.joV(),e.j41(7,"button",320),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.closeSettings())}),e.EFF(8,"\xd7"),e.k0s()(),e.j41(9,"div",360)(10,"div",417)(11,"h3",474),e.EFF(12,"Who can see my personal info"),e.k0s(),e.j41(13,"div",475),e.bIt("click",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.toggleNotifDropdown("lastSeen",n))}),e.j41(14,"div",419)(15,"h4"),e.EFF(16,"Last seen and online"),e.k0s(),e.j41(17,"p"),e.EFF(18),e.k0s()(),e.DNE(19,Ai,7,6,"div",476),e.qSk(),e.j41(20,"svg",420),e.nrm(21,"polyline",421),e.k0s()(),e.joV(),e.j41(22,"div",475),e.bIt("click",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.toggleNotifDropdown("profilePhoto",n))}),e.j41(23,"div",419)(24,"h4"),e.EFF(25,"Profile photo"),e.k0s(),e.j41(26,"p"),e.EFF(27),e.k0s()(),e.DNE(28,Ui,7,6,"div",476),e.qSk(),e.j41(29,"svg",420),e.nrm(30,"polyline",421),e.k0s()(),e.joV(),e.j41(31,"div",475),e.bIt("click",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.toggleNotifDropdown("about",n))}),e.j41(32,"div",419)(33,"h4"),e.EFF(34,"About"),e.k0s(),e.j41(35,"p"),e.EFF(36),e.k0s()(),e.DNE(37,Xi,7,6,"div",476),e.qSk(),e.j41(38,"svg",420),e.nrm(39,"polyline",421),e.k0s()(),e.joV(),e.j41(40,"div",475),e.bIt("click",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.toggleNotifDropdown("status",n))}),e.j41(41,"div",419)(42,"h4"),e.EFF(43,"Status"),e.k0s(),e.j41(44,"p"),e.EFF(45),e.k0s()(),e.DNE(46,$i,7,6,"div",476),e.qSk(),e.j41(47,"svg",420),e.nrm(48,"polyline",421),e.k0s()(),e.joV(),e.j41(49,"div",477)(50,"div",419)(51,"h4"),e.EFF(52,"Read receipts"),e.k0s(),e.j41(53,"p",429),e.EFF(54,"If turned off, you won't send or receive read receipts. Read receipts are always sent for group chats."),e.k0s()(),e.j41(55,"label",425)(56,"input",426),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.privacySettings.readReceipts,n)||(s.privacySettings.readReceipts=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(57,"span",427),e.k0s()()(),e.nrm(58,"hr",422),e.j41(59,"div",417)(60,"h3",474),e.EFF(61,"Disappearing messages"),e.k0s(),e.j41(62,"div",475),e.bIt("click",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.toggleNotifDropdown("defaultTimer",n))}),e.j41(63,"div",419)(64,"h4"),e.EFF(65,"Default message timer"),e.k0s(),e.j41(66,"p"),e.EFF(67),e.k0s()(),e.DNE(68,Di,9,8,"div",476),e.qSk(),e.j41(69,"svg",420),e.nrm(70,"polyline",421),e.k0s()()(),e.joV(),e.nrm(71,"hr",422),e.j41(72,"div",417)(73,"div",475),e.bIt("click",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.toggleNotifDropdown("groups",n))}),e.j41(74,"div",419)(75,"h4"),e.EFF(76,"Groups"),e.k0s(),e.j41(77,"p"),e.EFF(78),e.k0s()(),e.DNE(79,qi,7,6,"div",476),e.qSk(),e.j41(80,"svg",420),e.nrm(81,"polyline",421),e.k0s()(),e.joV(),e.j41(82,"div",418),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("app-lock"))}),e.j41(83,"div",419)(84,"h4"),e.EFF(85,"App lock"),e.k0s(),e.j41(86,"p",429),e.EFF(87,"Require password to unlock WhatsApp"),e.k0s()(),e.j41(88,"div",478)(89,"span",479),e.EFF(90),e.k0s(),e.qSk(),e.j41(91,"svg",420),e.nrm(92,"polyline",421),e.k0s()()()(),e.joV(),e.nrm(93,"hr",422),e.j41(94,"div",417)(95,"h3",474),e.EFF(96,"Advanced"),e.k0s(),e.j41(97,"div",477)(98,"div",419)(99,"h4"),e.EFF(100,"Block unknown account messages"),e.k0s(),e.j41(101,"p",429),e.EFF(102,"To protect your account and improve device performance, WhatsApp will block messages from unknown accounts if they exceed a certain volume. "),e.j41(103,"a",464),e.EFF(104,"Learn more"),e.k0s()()(),e.j41(105,"label",425)(106,"input",426),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.privacySettings.blockUnknownMessages,n)||(s.privacySettings.blockUnknownMessages=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(107,"span",427),e.k0s()()()(),e.bVm()}if(2&o){const t=e.XpG(2);e.R7$(18),e.JRh(t.privacySettings.lastSeen),e.R7$(),e.Y8G("ngIf","lastSeen"===t.activeNotifDropdown),e.R7$(),e.AVh("open","lastSeen"===t.activeNotifDropdown),e.R7$(7),e.JRh(t.privacySettings.profilePhoto),e.R7$(),e.Y8G("ngIf","profilePhoto"===t.activeNotifDropdown),e.R7$(),e.AVh("open","profilePhoto"===t.activeNotifDropdown),e.R7$(7),e.JRh(t.privacySettings.about),e.R7$(),e.Y8G("ngIf","about"===t.activeNotifDropdown),e.R7$(),e.AVh("open","about"===t.activeNotifDropdown),e.R7$(7),e.JRh(t.privacySettings.status),e.R7$(),e.Y8G("ngIf","status"===t.activeNotifDropdown),e.R7$(),e.AVh("open","status"===t.activeNotifDropdown),e.R7$(9),e.R50("ngModel",t.privacySettings.readReceipts),e.R7$(11),e.JRh(t.privacySettings.defaultTimer),e.R7$(),e.Y8G("ngIf","defaultTimer"===t.activeNotifDropdown),e.R7$(),e.AVh("open","defaultTimer"===t.activeNotifDropdown),e.R7$(9),e.JRh(t.privacySettings.groups),e.R7$(),e.Y8G("ngIf","groups"===t.activeNotifDropdown),e.R7$(),e.AVh("open","groups"===t.activeNotifDropdown),e.R7$(10),e.JRh(t.privacySettings.appLock?"Enabled":"Disabled"),e.R7$(16),e.R50("ngModel",t.privacySettings.blockUnknownMessages)}}function zi(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",483)(1,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectNotifSetting("showBanner","Always"))}),e.EFF(2,"Always"),e.k0s(),e.j41(3,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectNotifSetting("showBanner","When app is open"))}),e.EFF(4,"When app is open "),e.k0s(),e.j41(5,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectNotifSetting("showBanner","Never"))}),e.EFF(6,"Never"),e.k0s()()}if(2&o){const t=e.XpG(3);e.R7$(),e.AVh("selected","Always"===t.notificationSettings.showBanner),e.R7$(2),e.AVh("selected","When app is open"===t.notificationSettings.showBanner),e.R7$(2),e.AVh("selected","Never"===t.notificationSettings.showBanner)}}function Li(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",483)(1,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectNotifSetting("showTaskbarBadge","Always"))}),e.EFF(2,"Always"),e.k0s(),e.j41(3,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectNotifSetting("showTaskbarBadge","When app is open"))}),e.EFF(4,"When app is open"),e.k0s(),e.j41(5,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectNotifSetting("showTaskbarBadge","Never"))}),e.EFF(6,"Never"),e.k0s()()}if(2&o){const t=e.XpG(3);e.R7$(),e.AVh("selected","Always"===t.notificationSettings.showTaskbarBadge),e.R7$(2),e.AVh("selected","When app is open"===t.notificationSettings.showTaskbarBadge),e.R7$(2),e.AVh("selected","Never"===t.notificationSettings.showTaskbarBadge)}}function Hi(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",446),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(4);return e.Njj(s.selectNotifSetting("messageTone",n))}),e.EFF(1),e.k0s()}if(2&o){const t=r.$implicit,i=e.XpG(4);e.AVh("selected",i.notificationSettings.messageTone===t),e.R7$(),e.JRh(t)}}function Ji(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",445)(1,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectNotifSetting("messageTone","None"))}),e.EFF(2,"None"),e.k0s(),e.DNE(3,Hi,2,3,"div",484),e.k0s()}if(2&o){const t=e.XpG(3);e.R7$(),e.AVh("selected","None"===t.notificationSettings.messageTone),e.R7$(2),e.Y8G("ngForOf",t.notificationTones)}}function Wi(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",446),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(4);return e.Njj(s.selectNotifSetting("groupTone",n))}),e.EFF(1),e.k0s()}if(2&o){const t=r.$implicit,i=e.XpG(4);e.AVh("selected",i.notificationSettings.groupTone===t),e.R7$(),e.JRh(t)}}function Qi(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",445)(1,"div",446),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectNotifSetting("groupTone","None"))}),e.EFF(2,"None"),e.k0s(),e.DNE(3,Wi,2,3,"div",484),e.k0s()}if(2&o){const t=e.XpG(3);e.R7$(),e.AVh("selected","None"===t.notificationSettings.groupTone),e.R7$(2),e.Y8G("ngForOf",t.notificationTones)}}function Ki(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",357)(2,"button",75),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("main"))}),e.qSk(),e.j41(3,"svg",76),e.nrm(4,"line",415)(5,"polyline",416),e.k0s(),e.EFF(6," Notifications "),e.k0s(),e.joV(),e.j41(7,"button",320),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.closeSettings())}),e.EFF(8,"\xd7"),e.k0s()(),e.j41(9,"div",360)(10,"div",417)(11,"div",475),e.bIt("click",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.toggleNotifDropdown("banner",n))}),e.j41(12,"div",419)(13,"h4"),e.EFF(14,"Show notification banner"),e.k0s(),e.j41(15,"p"),e.EFF(16),e.k0s()(),e.DNE(17,zi,7,6,"div",481),e.qSk(),e.j41(18,"svg",420),e.nrm(19,"polyline",421),e.k0s()(),e.joV(),e.j41(20,"div",475),e.bIt("click",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.toggleNotifDropdown("badge",n))}),e.j41(21,"div",419)(22,"h4"),e.EFF(23,"Show taskbar notification badge"),e.k0s(),e.j41(24,"p"),e.EFF(25),e.k0s()(),e.DNE(26,Li,7,6,"div",481),e.qSk(),e.j41(27,"svg",420),e.nrm(28,"polyline",421),e.k0s()(),e.joV(),e.nrm(29,"hr",422),e.j41(30,"h3"),e.EFF(31,"Messages"),e.k0s(),e.j41(32,"div",423)(33,"div",424)(34,"h4"),e.EFF(35,"Message notifications"),e.k0s(),e.j41(36,"p"),e.EFF(37,"Show notifications for new messages"),e.k0s()(),e.j41(38,"label",425)(39,"input",426),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.notificationSettings.messageNotifications,n)||(s.notificationSettings.messageNotifications=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(40,"span",427),e.k0s()(),e.j41(41,"div",423)(42,"div",424)(43,"h4"),e.EFF(44,"Show previews"),e.k0s()(),e.j41(45,"label",425)(46,"input",426),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.notificationSettings.showPreviews,n)||(s.notificationSettings.showPreviews=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(47,"span",427),e.k0s()(),e.j41(48,"div",423)(49,"div",424)(50,"h4"),e.EFF(51,"Show reaction notifications"),e.k0s()(),e.j41(52,"label",425)(53,"input",426),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.notificationSettings.reactionNotifications,n)||(s.notificationSettings.reactionNotifications=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(54,"span",427),e.k0s()(),e.j41(55,"div",423)(56,"div",424)(57,"h4"),e.EFF(58,"Status reactions"),e.k0s(),e.j41(59,"p"),e.EFF(60,"Show notifications when you get likes on a status"),e.k0s()(),e.j41(61,"label",425)(62,"input",426),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.notificationSettings.statusReactions,n)||(s.notificationSettings.statusReactions=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(63,"span",427),e.k0s()(),e.nrm(64,"hr",422),e.j41(65,"h3"),e.EFF(66,"Calls"),e.k0s(),e.j41(67,"div",423)(68,"div",424)(69,"h4"),e.EFF(70,"Call notifications"),e.k0s(),e.j41(71,"p"),e.EFF(72,"Show notifications for incoming calls"),e.k0s()(),e.j41(73,"label",425)(74,"input",426),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.notificationSettings.callNotifications,n)||(s.notificationSettings.callNotifications=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(75,"span",427),e.k0s()(),e.j41(76,"div",423)(77,"div",424)(78,"h4"),e.EFF(79,"Incoming calls"),e.k0s(),e.j41(80,"p"),e.EFF(81,"Play sounds for incoming calls"),e.k0s()(),e.j41(82,"label",425)(83,"input",426),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.notificationSettings.incomingCallSounds,n)||(s.notificationSettings.incomingCallSounds=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(84,"span",427),e.k0s()(),e.nrm(85,"hr",422),e.j41(86,"h3"),e.EFF(87,"Notification tones"),e.k0s(),e.j41(88,"div",423)(89,"div",424)(90,"h4"),e.EFF(91,"Incoming sounds"),e.k0s(),e.j41(92,"p"),e.EFF(93,"Play sounds for incoming messages"),e.k0s()(),e.j41(94,"label",425)(95,"input",426),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.notificationSettings.incomingSounds,n)||(s.notificationSettings.incomingSounds=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(96,"span",427),e.k0s()(),e.j41(97,"div",423)(98,"div",424)(99,"h4"),e.EFF(100,"Outgoing sounds"),e.k0s(),e.j41(101,"p"),e.EFF(102,"Play sounds for outgoing messages"),e.k0s()(),e.j41(103,"label",425)(104,"input",426),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.notificationSettings.outgoingSounds,n)||(s.notificationSettings.outgoingSounds=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(105,"span",427),e.k0s()(),e.nrm(106,"br"),e.j41(107,"h3"),e.EFF(108,"Messages"),e.k0s(),e.j41(109,"div",440),e.bIt("click",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.toggleNotifDropdown("messageTone",n))}),e.j41(110,"div",441),e.qSk(),e.j41(111,"svg",482),e.nrm(112,"path",300)(113,"circle",301)(114,"circle",302),e.k0s(),e.EFF(115),e.k0s(),e.j41(116,"svg",442),e.nrm(117,"polyline",90),e.k0s(),e.DNE(118,Ji,4,3,"div",443),e.k0s(),e.joV(),e.j41(119,"h3"),e.EFF(120,"Group messages"),e.k0s(),e.j41(121,"div",440),e.bIt("click",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.toggleNotifDropdown("groupTone",n))}),e.j41(122,"div",441),e.qSk(),e.j41(123,"svg",482),e.nrm(124,"path",59)(125,"circle",60)(126,"path",61)(127,"path",62),e.k0s(),e.EFF(128),e.k0s(),e.j41(129,"svg",442),e.nrm(130,"polyline",90),e.k0s(),e.DNE(131,Qi,4,3,"div",443),e.k0s()()(),e.bVm()}if(2&o){const t=e.XpG(2);e.R7$(16),e.JRh(t.notificationSettings.showBanner),e.R7$(),e.Y8G("ngIf","banner"===t.activeNotifDropdown),e.R7$(8),e.JRh(t.notificationSettings.showTaskbarBadge),e.R7$(),e.Y8G("ngIf","badge"===t.activeNotifDropdown),e.R7$(13),e.R50("ngModel",t.notificationSettings.messageNotifications),e.R7$(7),e.R50("ngModel",t.notificationSettings.showPreviews),e.R7$(7),e.R50("ngModel",t.notificationSettings.reactionNotifications),e.R7$(9),e.R50("ngModel",t.notificationSettings.statusReactions),e.R7$(12),e.R50("ngModel",t.notificationSettings.callNotifications),e.R7$(9),e.R50("ngModel",t.notificationSettings.incomingCallSounds),e.R7$(12),e.R50("ngModel",t.notificationSettings.incomingSounds),e.R7$(9),e.R50("ngModel",t.notificationSettings.outgoingSounds),e.R7$(11),e.SpI(" ",t.notificationSettings.messageTone," "),e.R7$(),e.AVh("open","messageTone"===t.activeNotifDropdown),e.R7$(2),e.Y8G("ngIf","messageTone"===t.activeNotifDropdown),e.R7$(10),e.SpI(" ",t.notificationSettings.groupTone," "),e.R7$(),e.AVh("open","groupTone"===t.activeNotifDropdown),e.R7$(2),e.Y8G("ngIf","groupTone"===t.activeNotifDropdown)}}function Zi(o,r){if(1&o&&(e.qex(0),e.EFF(1),e.bVm()),2&o){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.label)}}function eo(o,r){if(1&o&&(e.qex(0),e.DNE(1,Zi,2,1,"ng-container",37),e.bVm()),2&o){const t=r.$implicit,i=e.XpG(3);e.R7$(),e.Y8G("ngIf",t.deviceId===i.videoSettings.cameraDeviceId)}}function to(o,r){1&o&&(e.j41(0,"span"),e.EFF(1,"Select Camera"),e.k0s())}function no(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",446),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(4);return e.Njj(s.selectVideoSetting("cameraDeviceId",n.deviceId))}),e.EFF(1),e.k0s()}if(2&o){const t=r.$implicit,i=e.XpG(4);e.AVh("selected",i.videoSettings.cameraDeviceId===t.deviceId),e.R7$(),e.SpI("",t.label," ")}}function io(o,r){1&o&&(e.j41(0,"div",487),e.EFF(1," No cameras found "),e.k0s())}function oo(o,r){if(1&o&&(e.j41(0,"div",445),e.DNE(1,no,2,3,"div",484)(2,io,2,0,"div",486),e.k0s()),2&o){const t=e.XpG(3);e.R7$(),e.Y8G("ngForOf",t.videoInputDevices),e.R7$(),e.Y8G("ngIf",0===t.videoInputDevices.length)}}function ro(o,r){if(1&o&&(e.qex(0),e.EFF(1),e.bVm()),2&o){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.label)}}function so(o,r){if(1&o&&(e.qex(0),e.DNE(1,ro,2,1,"ng-container",37),e.bVm()),2&o){const t=r.$implicit,i=e.XpG(3);e.R7$(),e.Y8G("ngIf",t.deviceId===i.videoSettings.micDeviceId)}}function ao(o,r){1&o&&(e.j41(0,"span"),e.EFF(1,"Select Microphone"),e.k0s())}function co(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",446),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(4);return e.Njj(s.selectVideoSetting("micDeviceId",n.deviceId))}),e.EFF(1),e.k0s()}if(2&o){const t=r.$implicit,i=e.XpG(4);e.AVh("selected",i.videoSettings.micDeviceId===t.deviceId),e.R7$(),e.SpI("",t.label," ")}}function lo(o,r){1&o&&(e.j41(0,"div",487),e.EFF(1," No microphones found "),e.k0s())}function po(o,r){if(1&o&&(e.j41(0,"div",445),e.DNE(1,co,2,3,"div",484)(2,lo,2,0,"div",486),e.k0s()),2&o){const t=e.XpG(3);e.R7$(),e.Y8G("ngForOf",t.audioInputDevices),e.R7$(),e.Y8G("ngIf",0===t.audioInputDevices.length)}}function _o(o,r){if(1&o&&(e.qex(0),e.EFF(1),e.bVm()),2&o){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.label)}}function go(o,r){if(1&o&&(e.qex(0),e.DNE(1,_o,2,1,"ng-container",37),e.bVm()),2&o){const t=r.$implicit,i=e.XpG(3);e.R7$(),e.Y8G("ngIf",t.deviceId===i.videoSettings.speakerDeviceId)}}function uo(o,r){1&o&&(e.j41(0,"span"),e.EFF(1,"Select Speakers"),e.k0s())}function ho(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",446),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(4);return e.Njj(s.selectVideoSetting("speakerDeviceId",n.deviceId))}),e.EFF(1),e.k0s()}if(2&o){const t=r.$implicit,i=e.XpG(4);e.AVh("selected",i.videoSettings.speakerDeviceId===t.deviceId),e.R7$(),e.SpI("",t.label," ")}}function fo(o,r){1&o&&(e.j41(0,"div",487),e.EFF(1," No speakers found "),e.k0s())}function mo(o,r){if(1&o&&(e.j41(0,"div",445),e.DNE(1,ho,2,3,"div",484)(2,fo,2,0,"div",486),e.k0s()),2&o){const t=e.XpG(3);e.R7$(),e.Y8G("ngForOf",t.audioOutputDevices),e.R7$(),e.Y8G("ngIf",0===t.audioOutputDevices.length)}}function vo(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",357)(2,"button",75),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("main"))}),e.qSk(),e.j41(3,"svg",76),e.nrm(4,"line",415)(5,"polyline",416),e.k0s(),e.EFF(6," Video & voice "),e.k0s(),e.joV(),e.j41(7,"button",320),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.closeSettings())}),e.EFF(8,"\xd7"),e.k0s()(),e.j41(9,"div",360)(10,"div",417)(11,"h3"),e.EFF(12,"Camera"),e.k0s(),e.j41(13,"div",440),e.bIt("click",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.toggleNotifDropdown("camera",n))}),e.j41(14,"div",441),e.DNE(15,eo,2,1,"ng-container",485)(16,to,2,0,"span",37),e.k0s(),e.qSk(),e.j41(17,"svg",442),e.nrm(18,"polyline",90),e.k0s(),e.DNE(19,oo,3,2,"div",443),e.k0s(),e.joV(),e.j41(20,"h3"),e.EFF(21,"Microphone"),e.k0s(),e.j41(22,"div",440),e.bIt("click",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.toggleNotifDropdown("microphone",n))}),e.j41(23,"div",441),e.DNE(24,so,2,1,"ng-container",485)(25,ao,2,0,"span",37),e.k0s(),e.qSk(),e.j41(26,"svg",442),e.nrm(27,"polyline",90),e.k0s(),e.DNE(28,po,3,2,"div",443),e.k0s(),e.joV(),e.j41(29,"h3"),e.EFF(30,"Speakers"),e.k0s(),e.j41(31,"div",440),e.bIt("click",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.toggleNotifDropdown("speakers",n))}),e.j41(32,"div",441),e.DNE(33,go,2,1,"ng-container",485)(34,uo,2,0,"span",37),e.k0s(),e.qSk(),e.j41(35,"svg",442),e.nrm(36,"polyline",90),e.k0s(),e.DNE(37,mo,3,2,"div",443),e.k0s()()(),e.bVm()}if(2&o){const t=e.XpG(2);e.R7$(13),e.xc7("z-index","camera"===t.activeNotifDropdown?100:1),e.R7$(2),e.Y8G("ngForOf",t.videoInputDevices),e.R7$(),e.Y8G("ngIf",!t.videoSettings.cameraDeviceId),e.R7$(),e.AVh("open","camera"===t.activeNotifDropdown),e.R7$(2),e.Y8G("ngIf","camera"===t.activeNotifDropdown),e.R7$(3),e.xc7("z-index","microphone"===t.activeNotifDropdown?100:1),e.R7$(2),e.Y8G("ngForOf",t.audioInputDevices),e.R7$(),e.Y8G("ngIf",!t.videoSettings.micDeviceId),e.R7$(),e.AVh("open","microphone"===t.activeNotifDropdown),e.R7$(2),e.Y8G("ngIf","microphone"===t.activeNotifDropdown),e.R7$(3),e.xc7("z-index","speakers"===t.activeNotifDropdown?100:1),e.R7$(2),e.Y8G("ngForOf",t.audioOutputDevices),e.R7$(),e.Y8G("ngIf",!t.videoSettings.speakerDeviceId),e.R7$(),e.AVh("open","speakers"===t.activeNotifDropdown),e.R7$(2),e.Y8G("ngIf","speakers"===t.activeNotifDropdown)}}function xo(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",357)(2,"button",75),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("privacy"))}),e.qSk(),e.j41(3,"svg",76),e.nrm(4,"line",415)(5,"polyline",416),e.k0s(),e.EFF(6," App lock "),e.k0s(),e.joV(),e.j41(7,"button",320),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.closeSettings())}),e.EFF(8,"\xd7"),e.k0s()(),e.j41(9,"div",360)(10,"div",488)(11,"div",489),e.qSk(),e.j41(12,"svg",490),e.nrm(13,"path",491),e.k0s(),e.joV(),e.j41(14,"div",492),e.qSk(),e.j41(15,"svg",493),e.nrm(16,"circle",24),e.k0s()()(),e.joV(),e.j41(17,"h2",494),e.EFF(18,"Lock with a password"),e.k0s(),e.j41(19,"p",495),e.EFF(20," You can lock WhatsApp instead of logging out. This makes it easier to access again later. "),e.j41(21,"a",464),e.EFF(22,"Learn more"),e.k0s()()(),e.j41(23,"div",417)(24,"div",477)(25,"div",419)(26,"h4"),e.EFF(27,"Enable app lock"),e.k0s()(),e.j41(28,"label",425)(29,"input",426),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.privacySettings.appLock,n)||(s.privacySettings.appLock=n),e.Njj(n)}),e.bIt("change",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.toggleAppLock(n))}),e.k0s(),e.nrm(30,"span",427),e.k0s()()(),e.j41(31,"div",496)(32,"p"),e.EFF(33,"When app lock is enabled you can lock WhatsApp from the Chats menu."),e.k0s(),e.j41(34,"p"),e.EFF(35,"You won't get notifications when WhatsApp is locked. App lock will reset if you log out."),e.k0s()()(),e.bVm()}if(2&o){const t=e.XpG(2);e.R7$(29),e.R50("ngModel",t.privacySettings.appLock)}}function bo(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",355),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeSettings())}),e.j41(1,"div",356),e.bIt("click",function(n){return e.eBV(t),e.Njj(n.stopPropagation())}),e.DNE(2,bi,79,4,"ng-container",37)(3,Pi,35,6,"ng-container",37)(4,Oi,77,5,"ng-container",37)(5,Fi,29,6,"ng-container",37)(6,Ti,49,4,"ng-container",37)(7,Gi,49,10,"ng-container",37)(8,Vi,35,0,"ng-container",37)(9,Ni,58,1,"ng-container",37)(10,Bi,40,0,"ng-container",37)(11,Yi,108,27,"ng-container",37)(12,Ki,132,20,"ng-container",37)(13,vo,38,21,"ng-container",37)(14,xo,36,1,"ng-container",37),e.k0s()()}if(2&o){const t=e.XpG();e.R7$(2),e.Y8G("ngIf","main"===t.settingsView),e.R7$(),e.Y8G("ngIf","profile"===t.settingsView),e.R7$(),e.Y8G("ngIf","chats"===t.settingsView),e.R7$(),e.Y8G("ngIf","media-quality"===t.settingsView),e.R7$(),e.Y8G("ngIf","media-auto-download"===t.settingsView),e.R7$(),e.Y8G("ngIf","general"===t.settingsView),e.R7$(),e.Y8G("ngIf","account"===t.settingsView),e.R7$(),e.Y8G("ngIf","security"===t.settingsView),e.R7$(),e.Y8G("ngIf","request-info"===t.settingsView),e.R7$(),e.Y8G("ngIf","privacy"===t.settingsView),e.R7$(),e.Y8G("ngIf","notifications"===t.settingsView),e.R7$(),e.Y8G("ngIf","video-voice"===t.settingsView),e.R7$(),e.Y8G("ngIf","app-lock"===t.settingsView)}}function ko(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",317)(1,"div",497)(2,"h2"),e.EFF(3,"Set password"),e.k0s(),e.j41(4,"div",498)(5,"label"),e.EFF(6,"Enter password"),e.k0s(),e.j41(7,"input",499),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.tempPassword,n)||(s.tempPassword=n),e.Njj(n)}),e.k0s(),e.nrm(8,"div",500),e.k0s(),e.j41(9,"div",498)(10,"label"),e.EFF(11,"Re-enter password"),e.k0s(),e.j41(12,"input",501),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.tempConfirmPassword,n)||(s.tempConfirmPassword=n),e.Njj(n)}),e.k0s(),e.nrm(13,"div",500),e.k0s(),e.j41(14,"p",502),e.EFF(15," Password must be 6-128 characters, and may only contain letters, numbers, and common punctuation "),e.k0s(),e.j41(16,"div",503)(17,"button",504),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeSetPasswordModal())}),e.EFF(18,"Cancel"),e.k0s(),e.j41(19,"button",505),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmSetPassword())}),e.EFF(20,"OK"),e.k0s()()()()}if(2&o){const t=e.XpG();e.R7$(7),e.R50("ngModel",t.tempPassword),e.R7$(5),e.R50("ngModel",t.tempConfirmPassword)}}function Co(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",317)(1,"div",506)(2,"h2"),e.EFF(3,"Password set"),e.k0s(),e.j41(4,"p",507),e.EFF(5,"You can lock WhatsApp from the Chats menu."),e.k0s(),e.j41(6,"p",508),e.EFF(7,"Update app lock anytime in Settings > Privacy > App lock."),e.k0s(),e.j41(8,"div",509)(9,"button",510),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closePasswordSetModal())}),e.EFF(10,"Done"),e.k0s(),e.j41(11,"button",511),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.lockApp())}),e.EFF(12,"Lock now"),e.k0s()()()()}}function jo(o,r){if(1&o&&e.nrm(0,"img",528),2&o){const t=e.XpG(2);e.Y8G("src",t.getAvatarUrl(null==t.currentUser?null:t.currentUser.avatar),e.B4B)}}function yo(o,r){if(1&o&&(e.j41(0,"div",529),e.EFF(1),e.k0s()),2&o){let t;const i=e.XpG(2);e.R7$(),e.JRh(null==i.currentUser||null==i.currentUser.username||null==(t=i.currentUser.username.charAt(0))?null:t.toUpperCase())}}function wo(o,r){1&o&&(e.qSk(),e.j41(0,"svg",23),e.nrm(1,"path",530)(2,"circle",24),e.k0s())}function Mo(o,r){1&o&&(e.qSk(),e.j41(0,"svg",23),e.nrm(1,"path",531)(2,"line",112),e.k0s())}function Po(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",512)(1,"div",513)(2,"div",514),e.DNE(3,jo,1,1,"img",515)(4,yo,2,1,"div",516),e.k0s(),e.j41(5,"h2",517),e.EFF(6),e.k0s(),e.j41(7,"p",518),e.EFF(8,"App lock is on. Enter your password to use WhatsApp Windows."),e.k0s(),e.j41(9,"div",519)(10,"input",520),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.unlockPasswordInput,n)||(s.unlockPasswordInput=n),e.Njj(n)}),e.bIt("keyup.enter",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.attemptUnlock())}),e.k0s(),e.j41(11,"button",521),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.togglePasswordVisibility())}),e.DNE(12,wo,3,0,"svg",52)(13,Mo,3,0,"svg",52),e.k0s()(),e.nrm(14,"div",522),e.j41(15,"button",523),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.attemptUnlock())}),e.EFF(16,"Unlock"),e.k0s(),e.j41(17,"div",524)(18,"a",525),e.EFF(19,"Forgot password?"),e.k0s(),e.j41(20,"p",526),e.EFF(21,"Log out and link again from your phone."),e.k0s(),e.j41(22,"button",527),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onLogout())}),e.EFF(23,"Log out"),e.k0s()()()()}if(2&o){const t=e.XpG();e.R7$(3),e.Y8G("ngIf",null==t.currentUser?null:t.currentUser.avatar),e.R7$(),e.Y8G("ngIf",!(null!=t.currentUser&&t.currentUser.avatar)),e.R7$(2),e.JRh((null==t.currentUser?null:t.currentUser.fullName)||(null==t.currentUser?null:t.currentUser.username)),e.R7$(4),e.Y8G("type",t.isPasswordVisible?"text":"password"),e.R50("ngModel",t.unlockPasswordInput),e.R7$(2),e.Y8G("ngIf",!t.isPasswordVisible),e.R7$(),e.Y8G("ngIf",t.isPasswordVisible)}}function Oo(o,r){1&o&&e.nrm(0,"div",433)}function So(o,r){1&o&&e.nrm(0,"div",433)}function Io(o,r){1&o&&e.nrm(0,"div",433)}function Fo(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",317)(1,"div",532)(2,"h2"),e.EFF(3,"Theme"),e.k0s(),e.j41(4,"div",533),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.tempTheme="Light")}),e.j41(5,"div",534),e.DNE(6,Oo,1,0,"div",432),e.k0s(),e.j41(7,"span"),e.EFF(8,"Light"),e.k0s()(),e.j41(9,"div",533),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.tempTheme="Dark")}),e.j41(10,"div",534),e.DNE(11,So,1,0,"div",432),e.k0s(),e.j41(12,"span"),e.EFF(13,"Dark"),e.k0s()(),e.j41(14,"div",533),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.tempTheme="System default")}),e.j41(15,"div",534),e.DNE(16,Io,1,0,"div",432),e.k0s(),e.j41(17,"span"),e.EFF(18,"System default"),e.k0s()(),e.j41(19,"div",503)(20,"button",504),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeThemeModal())}),e.EFF(21,"Cancel"),e.k0s(),e.j41(22,"button",505),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.applyTheme())}),e.EFF(23,"OK"),e.k0s()()()()}if(2&o){const t=e.XpG();e.R7$(6),e.Y8G("ngIf","Light"===t.tempTheme),e.R7$(5),e.Y8G("ngIf","Dark"===t.tempTheme),e.R7$(5),e.Y8G("ngIf","System default"===t.tempTheme)}}function To(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",317)(1,"div",535)(2,"h2"),e.EFF(3,"Permission Denied"),e.k0s(),e.j41(4,"p",536),e.EFF(5),e.k0s(),e.j41(6,"div",503)(7,"button",505),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closePermissionModal())}),e.EFF(8,"OK"),e.k0s()()()()}if(2&o){const t=e.XpG();e.R7$(5),e.SpI(" ",t.permissionMessage," ")}}function Ro(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",558),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.selectWallpaperColor(n))}),e.k0s()}if(2&o){const t=r.$implicit,i=e.XpG(2);e.xc7("background-color",t),e.AVh("selected",i.tempWallpaper.color===t)}}function Eo(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",537),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeWallpaperModal())}),e.j41(1,"div",538),e.bIt("click",function(n){return e.eBV(t),e.Njj(n.stopPropagation())}),e.j41(2,"div",539)(3,"button",75),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeWallpaperModal())}),e.qSk(),e.j41(4,"svg",76),e.nrm(5,"line",415)(6,"polyline",416),e.k0s(),e.EFF(7," Set chat wallpaper "),e.k0s()(),e.joV(),e.j41(8,"div",540)(9,"div",541)(10,"div",542),e.EFF(11,"Hello there!"),e.k0s(),e.j41(12,"div",543),e.EFF(13,"Wallpaper preview \u2728"),e.k0s()()(),e.j41(14,"div",544)(15,"div",545)(16,"label",546)(17,"input",346),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.tempWallpaper.doodles,n)||(s.tempWallpaper.doodles=n),e.Njj(n)}),e.k0s(),e.nrm(18,"span",547),e.EFF(19," Add WhatsApp doodles "),e.k0s()(),e.j41(20,"div",548),e.EFF(21,"Solid Colors"),e.k0s(),e.j41(22,"div",549)(23,"input",12,0),e.bIt("change",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.onWallpaperFileSelected(n))}),e.k0s(),e.j41(25,"div",550),e.bIt("click",function(){e.eBV(t);const n=e.sdS(24);return e.Njj(n.click())}),e.j41(26,"div",551),e.qSk(),e.j41(27,"svg",191),e.nrm(28,"path",192)(29,"polyline",552)(30,"line",553),e.k0s()()(),e.DNE(31,Ro,1,4,"div",554),e.k0s()(),e.joV(),e.j41(32,"div",555)(33,"label",556)(34,"input",346),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.tempWallpaper.doodles,n)||(s.tempWallpaper.doodles=n),e.Njj(n)}),e.k0s(),e.nrm(35,"span",547),e.EFF(36," Add Doodles "),e.k0s(),e.nrm(37,"div",557),e.j41(38,"button",326),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeWallpaperModal())}),e.EFF(39,"Cancel"),e.k0s(),e.j41(40,"button",327),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveWallpaper())}),e.EFF(41,"Set Wallpaper"),e.k0s()()()()}if(2&o){const t=e.XpG();e.R7$(9),e.xc7("background-color",t.tempWallpaper.color)("background-image",t.tempWallpaper.image?"url("+t.tempWallpaper.image+")":null),e.AVh("has-doodles",t.tempWallpaper.doodles&&!t.tempWallpaper.image),e.R7$(8),e.R50("ngModel",t.tempWallpaper.doodles),e.R7$(14),e.Y8G("ngForOf",t.wallpaperColors),e.R7$(3),e.R50("ngModel",t.tempWallpaper.doodles)}}function Go(o,r){if(1&o&&e.nrm(0,"img",528),2&o){const t=e.XpG().$implicit,i=e.XpG(2);e.Y8G("src",i.getAvatarUrl(t.avatar),e.B4B)}}function Vo(o,r){if(1&o&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(),e.JRh(((null==t?null:t.username)||"").charAt(0).toUpperCase())}}function No(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",567),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.forwardToUser(n))}),e.j41(1,"div",49),e.DNE(2,Go,1,1,"img",515)(3,Vo,2,1,"span",37),e.k0s(),e.j41(4,"div",54)(5,"div",55),e.EFF(6),e.k0s(),e.j41(7,"div",56),e.EFF(8),e.k0s()(),e.j41(9,"button",568),e.qSk(),e.j41(10,"svg",23),e.nrm(11,"line",328)(12,"polygon",329),e.k0s()()()}if(2&o){const t=r.$implicit;e.R7$(2),e.Y8G("ngIf",t.avatar),e.R7$(),e.Y8G("ngIf",!t.avatar),e.R7$(3),e.JRh((null==t?null:t.fullName)||(null==t?null:t.username)),e.R7$(2),e.JRh(null!=t&&t.isOnline?"Online":"Offline")}}function Bo(o,r){1&o&&(e.j41(0,"div",569),e.EFF(1," No contacts found "),e.k0s())}function Ao(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",559),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeForwardModal())}),e.j41(1,"div",560),e.bIt("click",function(n){return e.eBV(t),e.Njj(n.stopPropagation())}),e.j41(2,"div",561)(3,"h3"),e.EFF(4,"Forward to"),e.k0s(),e.j41(5,"button",320),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeForwardModal())}),e.EFF(6,"\xd7"),e.k0s()(),e.j41(7,"div",562)(8,"input",563),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.forwardSearchQuery,n)||(s.forwardSearchQuery=n),e.Njj(n)}),e.k0s()(),e.j41(9,"div",564),e.DNE(10,No,13,4,"div",565)(11,Bo,2,0,"div",566),e.k0s()()()}if(2&o){const t=e.XpG();e.R7$(8),e.R50("ngModel",t.forwardSearchQuery),e.R7$(2),e.Y8G("ngForOf",t.filteredForwardUsers),e.R7$(),e.Y8G("ngIf",0===t.filteredForwardUsers.length)}}function Uo(o,r){if(1&o&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.username)}}function Xo(o,r){if(1&o&&(e.qex(0),e.DNE(1,Uo,2,1,"span",37),e.bVm()),2&o){const t=r.$implicit,i=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",t._id===i)}}function $o(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",584),e.DNE(1,Xo,2,1,"ng-container",485),e.j41(2,"button",585),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(4);return e.Njj(s.toggleParticipant(n))}),e.EFF(3,"\u2715"),e.k0s()()}if(2&o){const t=e.XpG(4);e.R7$(),e.Y8G("ngForOf",t.users)}}function Do(o,r){if(1&o&&(e.j41(0,"div",582),e.DNE(1,$o,4,1,"div",583),e.k0s()),2&o){const t=e.XpG(3);e.R7$(),e.Y8G("ngForOf",t.selectedParticipants)}}function qo(o,r){if(1&o){const t=e.RV6();e.j41(0,"img",591),e.bIt("error",function(n){e.eBV(t);const s=e.XpG(4);return e.Njj(s.handleImageError(n))}),e.k0s()}if(2&o){const t=e.XpG().$implicit,i=e.XpG(3);e.Y8G("src",i.getAvatarUrl(t.avatar),e.B4B)}}function Yo(o,r){1&o&&(e.qSk(),e.j41(0,"svg",592),e.nrm(1,"polyline",180),e.k0s())}function zo(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",586),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(3);return e.Njj(s.toggleParticipant(n._id))}),e.j41(1,"div",49),e.DNE(2,qo,1,1,"img",587),e.j41(3,"span",588),e.EFF(4),e.k0s()(),e.j41(5,"div",54)(6,"div",55),e.EFF(7),e.k0s(),e.j41(8,"div",56),e.EFF(9),e.k0s()(),e.j41(10,"div",589),e.DNE(11,Yo,2,0,"svg",590),e.k0s()()}if(2&o){const t=r.$implicit,i=e.XpG(3);e.AVh("selected",i.selectedParticipants.has(t._id)),e.R7$(2),e.Y8G("ngIf",t.avatar),e.R7$(),e.xc7("display",t.avatar?"none":"flex"),e.R7$(),e.JRh(((null==t?null:t.username)||"").charAt(0).toUpperCase()),e.R7$(3),e.JRh((null==t?null:t.fullName)||(null==t?null:t.username)),e.R7$(2),e.JRh(null!=t&&t.isOnline?"Online":"Offline"),e.R7$(),e.AVh("checked",i.selectedParticipants.has(t._id)),e.R7$(),e.Y8G("ngIf",i.selectedParticipants.has(t._id))}}function Lo(o,r){1&o&&(e.j41(0,"div",569),e.EFF(1," No contacts found "),e.k0s())}function Ho(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",571)(2,"button",572),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.closeNewGroupModal())}),e.EFF(3,"\u2715"),e.k0s(),e.j41(4,"div",573)(5,"h3"),e.EFF(6,"Add group participants"),e.k0s(),e.j41(7,"span",574),e.EFF(8),e.k0s()(),e.j41(9,"button",575),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.nextGroupStep())}),e.qSk(),e.j41(10,"svg",576),e.nrm(11,"polyline",421),e.k0s()()(),e.joV(),e.j41(12,"div",577),e.DNE(13,Do,2,1,"div",578),e.j41(14,"input",579),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.groupSearchQuery,n)||(s.groupSearchQuery=n),e.Njj(n)}),e.k0s()(),e.j41(15,"div",580),e.DNE(16,zo,12,11,"div",581)(17,Lo,2,0,"div",566),e.k0s(),e.bVm()}if(2&o){const t=e.XpG(2);e.R7$(8),e.SpI("",t.selectedParticipants.size," selected"),e.R7$(),e.Y8G("disabled",0===t.selectedParticipants.size),e.R7$(4),e.Y8G("ngIf",t.selectedParticipants.size>0),e.R7$(),e.R50("ngModel",t.groupSearchQuery),e.R7$(2),e.Y8G("ngForOf",t.filteredGroupUsers),e.R7$(),e.Y8G("ngIf",0===t.filteredGroupUsers.length)}}function Jo(o,r){if(1&o&&e.nrm(0,"img",606),2&o){const t=e.XpG(3);e.Y8G("src",t.newGroupIconPreview,e.B4B)}}function Wo(o,r){1&o&&(e.qSk(),e.j41(0,"svg",607),e.nrm(1,"path",18)(2,"circle",19),e.k0s())}function Qo(o,r){if(1&o&&e.nrm(0,"img",134),2&o){const t=e.XpG(2).$implicit,i=e.XpG(4);e.Y8G("src",i.getAvatarUrl(t.avatar),e.B4B)}}function Ko(o,r){if(1&o&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&o){let t;const i=e.XpG(2).$implicit;e.R7$(),e.JRh(null==i||null==i.username||null==(t=i.username.charAt(0))?null:t.toUpperCase())}}function Zo(o,r){if(1&o&&(e.j41(0,"div",610)(1,"div",611),e.DNE(2,Qo,1,1,"img",119)(3,Ko,2,1,"span",37),e.k0s(),e.j41(4,"span",612),e.EFF(5),e.k0s()()),2&o){const t=e.XpG().$implicit;e.R7$(2),e.Y8G("ngIf",t.avatar),e.R7$(),e.Y8G("ngIf",!t.avatar),e.R7$(2),e.JRh(t.username)}}function er(o,r){if(1&o&&(e.qex(0),e.DNE(1,Zo,6,3,"div",609),e.bVm()),2&o){const t=r.$implicit,i=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",t._id===i)}}function tr(o,r){if(1&o&&(e.j41(0,"div",608),e.DNE(1,er,2,1,"ng-container",485),e.k0s()),2&o){const t=e.XpG(3);e.R7$(),e.Y8G("ngForOf",t.users)}}function nr(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",571)(2,"button",572),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.newGroupStep=1)}),e.qSk(),e.j41(3,"svg",76),e.nrm(4,"polyline",593),e.k0s()(),e.joV(),e.j41(5,"div",573)(6,"h3"),e.EFF(7,"New group"),e.k0s()(),e.j41(8,"button",594),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.createGroup())}),e.qSk(),e.j41(9,"svg",576),e.nrm(10,"polyline",180),e.k0s()()(),e.joV(),e.j41(11,"div",595)(12,"input",12,7),e.bIt("change",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onGroupIconSelected(n))}),e.k0s(),e.j41(14,"div",596),e.bIt("click",function(){e.eBV(t);const n=e.sdS(13);return e.Njj(n.click())}),e.j41(15,"div",597),e.DNE(16,Jo,1,1,"img",598)(17,Wo,3,0,"svg",599),e.k0s(),e.j41(18,"span"),e.EFF(19),e.k0s()(),e.j41(20,"div",600)(21,"input",601),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.newGroupName,n)||(s.newGroupName=n),e.Njj(n)}),e.k0s(),e.j41(22,"span",602),e.EFF(23),e.k0s()(),e.j41(24,"div",603)(25,"label"),e.EFF(26),e.k0s(),e.j41(27,"div",604),e.DNE(28,tr,2,1,"div",605),e.k0s()()(),e.bVm()}if(2&o){const t=e.XpG(2);e.R7$(8),e.Y8G("disabled",!t.newGroupName.trim()),e.R7$(8),e.Y8G("ngIf",t.newGroupIconPreview),e.R7$(),e.Y8G("ngIf",!t.newGroupIconPreview),e.R7$(2),e.JRh(t.newGroupIconPreview?"Change group icon":"Add group icon"),e.R7$(2),e.R50("ngModel",t.newGroupName),e.R7$(2),e.JRh(25-t.newGroupName.length),e.R7$(3),e.SpI("Participants: ",t.selectedParticipants.size,""),e.R7$(2),e.Y8G("ngForOf",t.selectedParticipants)}}function ir(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",559),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeNewGroupModal())}),e.j41(1,"div",570),e.bIt("click",function(n){return e.eBV(t),e.Njj(n.stopPropagation())}),e.DNE(2,Ho,18,6,"ng-container",37)(3,nr,29,8,"ng-container",37),e.k0s()()}if(2&o){const t=e.XpG();e.R7$(2),e.Y8G("ngIf",1===t.newGroupStep),e.R7$(),e.Y8G("ngIf",2===t.newGroupStep)}}function or(o,r){if(1&o&&e.nrm(0,"img",134),2&o){const t=e.XpG(2);e.Y8G("src",null!=t.selectedUser&&null!=t.selectedUser.avatar&&t.selectedUser.avatar.startsWith("data:")?null==t.selectedUser?null:t.selectedUser.avatar:t.getAvatarUrl(null==t.selectedUser?null:t.selectedUser.avatar),e.B4B)}}function rr(o,r){1&o&&(e.qSk(),e.j41(0,"svg",332),e.nrm(1,"path",59)(2,"circle",60)(3,"path",61)(4,"path",62),e.k0s())}function sr(o,r){if(1&o){const t=e.RV6();e.j41(0,"img",644),e.bIt("error",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.handleImageError(n))}),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("src",t.getAvatarUrl(null==t.currentUser?null:t.currentUser.avatar),e.B4B)}}function ar(o,r){if(1&o){const t=e.RV6();e.j41(0,"img",644),e.bIt("error",function(n){e.eBV(t);const s=e.XpG(4);return e.Njj(s.handleImageError(n))}),e.k0s()}if(2&o){const t=e.XpG().ngIf,i=e.XpG(3);e.Y8G("src",i.getAvatarUrl(t.avatar),e.B4B)}}function cr(o,r){if(1&o&&(e.qex(0),e.j41(1,"div",49),e.DNE(2,ar,1,1,"img",636),e.j41(3,"span",588),e.EFF(4),e.k0s()(),e.j41(5,"div",54)(6,"div",55),e.EFF(7),e.k0s(),e.j41(8,"div",639),e.EFF(9),e.k0s()(),e.bVm()),2&o){const t=r.ngIf;e.R7$(2),e.Y8G("ngIf",t.avatar),e.R7$(),e.xc7("display",t.avatar?"none":"flex"),e.R7$(),e.JRh(((null==t?null:t.username)||"").charAt(0).toUpperCase()),e.R7$(3),e.JRh((null==t?null:t.fullName)||(null==t?null:t.username)),e.R7$(2),e.JRh((null==t?null:t.about)||"Hey there! I am using WhatsApp.")}}function lr(o,r){if(1&o&&(e.j41(0,"div",635),e.DNE(1,cr,10,6,"ng-container",37),e.k0s()),2&o){const t=r.$implicit,i=e.XpG(2);e.R7$(),e.Y8G("ngIf",i.getParticipantInfo(t))}}function dr(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",613),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeGroupInfo())}),e.j41(1,"div",614),e.bIt("click",function(n){return e.eBV(t),e.Njj(n.stopPropagation())}),e.j41(2,"div",615)(3,"button",320),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeGroupInfo())}),e.qSk(),e.j41(4,"svg",76),e.nrm(5,"path",616)(6,"path",617),e.k0s()(),e.joV(),e.j41(7,"div",618)(8,"h3"),e.EFF(9,"Group info"),e.k0s(),e.j41(10,"span",574),e.EFF(11),e.k0s()(),e.j41(12,"button",619),e.qSk(),e.j41(13,"svg",23),e.nrm(14,"circle",28)(15,"line",93),e.k0s()()(),e.joV(),e.j41(16,"div",620)(17,"div",621)(18,"div",622),e.DNE(19,or,1,1,"img",119)(20,rr,5,0,"svg",623),e.k0s(),e.j41(21,"h2"),e.EFF(22),e.k0s(),e.j41(23,"span",624),e.EFF(24),e.k0s()(),e.j41(25,"div",625)(26,"div",626)(27,"div",627),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.openAddMembersModal())}),e.j41(28,"div",628),e.qSk(),e.j41(29,"svg",76),e.nrm(30,"path",629)(31,"circle",60)(32,"line",630)(33,"line",631),e.k0s()(),e.joV(),e.j41(34,"div",632),e.EFF(35,"Add members"),e.k0s()(),e.j41(36,"div",627),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.openInviteModal())}),e.j41(37,"div",628),e.qSk(),e.j41(38,"svg",76),e.nrm(39,"path",128)(40,"path",129),e.k0s()(),e.joV(),e.j41(41,"div",632),e.EFF(42,"Invite via link or QR code"),e.k0s()(),e.j41(43,"div",633)(44,"div",628),e.qSk(),e.j41(45,"svg",76),e.nrm(46,"path",629)(47,"circle",60)(48,"path",61)(49,"path",62),e.k0s()(),e.joV(),e.j41(50,"div",632),e.EFF(51,"Add members to contacts"),e.k0s()()(),e.j41(52,"div",634)(53,"div",635)(54,"div",49),e.DNE(55,sr,1,1,"img",636),e.j41(56,"span",588),e.EFF(57),e.k0s()(),e.j41(58,"div",54)(59,"div",637)(60,"span",55),e.EFF(61,"You"),e.k0s(),e.j41(62,"span",638),e.EFF(63,"Group Admin"),e.k0s()(),e.j41(64,"div",639),e.EFF(65,"Add member tag"),e.k0s()()(),e.DNE(66,lr,2,1,"div",640),e.k0s()(),e.j41(67,"div",641)(68,"button",642),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exitGroup())}),e.qSk(),e.j41(69,"svg",23),e.nrm(70,"path",376)(71,"polyline",643)(72,"line",378),e.k0s(),e.joV(),e.j41(73,"span"),e.EFF(74,"Exit group"),e.k0s()()()()()()}if(2&o){const t=e.XpG();e.R7$(11),e.SpI("",((null==t.selectedUser||null==t.selectedUser.participants?null:t.selectedUser.participants.length)||0)+1," participants"),e.R7$(8),e.Y8G("ngIf",null==t.selectedUser?null:t.selectedUser.avatar),e.R7$(),e.Y8G("ngIf",!(null!=t.selectedUser&&t.selectedUser.avatar)),e.R7$(2),e.JRh((null==t.selectedUser?null:t.selectedUser.fullName)||(null==t.selectedUser?null:t.selectedUser.username)),e.R7$(2),e.SpI("Group \u2022 ",((null==t.selectedUser||null==t.selectedUser.participants?null:t.selectedUser.participants.length)||0)+1," participants"),e.R7$(31),e.Y8G("ngIf",null==t.currentUser?null:t.currentUser.avatar),e.R7$(),e.xc7("display",null!=t.currentUser&&t.currentUser.avatar?"none":"flex"),e.R7$(),e.JRh(((null==t.currentUser?null:t.currentUser.username)||"").charAt(0).toUpperCase()),e.R7$(9),e.Y8G("ngForOf",null==t.selectedUser?null:t.selectedUser.participants)}}function pr(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",559),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeExitGroupConfirm())}),e.j41(1,"div",535)(2,"h2"),e.EFF(3,"Exit Group?"),e.k0s(),e.j41(4,"p",536),e.EFF(5),e.k0s(),e.j41(6,"div",645)(7,"button",646),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeExitGroupConfirm())}),e.EFF(8,"Cancel"),e.k0s(),e.j41(9,"button",647),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmExitGroup())}),e.EFF(10,"Exit"),e.k0s()()()()}if(2&o){const t=e.XpG();e.R7$(5),e.SpI(' Are you sure you want to exit "',(null==t.selectedUser?null:t.selectedUser.fullName)||(null==t.selectedUser?null:t.selectedUser.username),'" group? ')}}function _r(o,r){if(1&o){const t=e.RV6();e.j41(0,"img",664),e.bIt("error",function(n){e.eBV(t);const s=e.XpG(3);return e.Njj(s.handleImageError(n))}),e.k0s()}if(2&o){const t=e.XpG().$implicit,i=e.XpG(2);e.Y8G("src",i.getAvatarUrl(t.avatar),e.B4B)}}function gr(o,r){1&o&&(e.qSk(),e.j41(0,"svg",665),e.nrm(1,"polyline",180),e.k0s())}function ur(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",657),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.toggleParticipant(n._id))}),e.j41(1,"div",658),e.DNE(2,_r,1,1,"img",659),e.j41(3,"span",588),e.EFF(4),e.k0s()(),e.j41(5,"div",557)(6,"div",660),e.EFF(7),e.k0s(),e.j41(8,"div",661),e.EFF(9),e.k0s()(),e.j41(10,"div",662),e.DNE(11,gr,2,0,"svg",663),e.k0s()()}if(2&o){const t=r.$implicit,i=e.XpG(2);e.AVh("selected",i.selectedParticipants.has(t._id)),e.R7$(2),e.Y8G("ngIf",t.avatar),e.R7$(),e.xc7("display",t.avatar?"none":"flex"),e.R7$(),e.JRh(((null==t?null:t.username)||"").charAt(0).toUpperCase()),e.R7$(3),e.JRh(t.fullName||t.username),e.R7$(2),e.JRh(t.about||"Available"),e.R7$(),e.AVh("checked",i.selectedParticipants.has(t._id)),e.R7$(),e.Y8G("ngIf",i.selectedParticipants.has(t._id))}}function hr(o,r){1&o&&(e.j41(0,"div",666),e.EFF(1," All contacts are already in this group. "),e.k0s())}function fr(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",559),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeAddMembersModal())}),e.j41(1,"div",648),e.bIt("click",function(n){return e.eBV(t),e.Njj(n.stopPropagation())}),e.j41(2,"div",649)(3,"h2",650),e.EFF(4,"Add Members"),e.k0s(),e.j41(5,"button",320),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeAddMembersModal())}),e.EFF(6,"\xd7"),e.k0s()(),e.j41(7,"div",651),e.DNE(8,ur,12,11,"div",652)(9,hr,2,0,"div",653),e.k0s(),e.j41(10,"div",654)(11,"button",655),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeAddMembersModal())}),e.EFF(12,"Cancel"),e.k0s(),e.j41(13,"button",656),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmAddMembers())}),e.EFF(14),e.k0s()()()()}if(2&o){const t=e.XpG();e.R7$(8),e.Y8G("ngForOf",t.getUsersNotInGroup()),e.R7$(),e.Y8G("ngIf",0===t.getUsersNotInGroup().length),e.R7$(4),e.Y8G("disabled",0===t.selectedParticipants.size),e.R7$(),e.SpI("Add Members (",t.selectedParticipants.size,")")}}function mr(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",559),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeInviteModal())}),e.j41(1,"div",667),e.bIt("click",function(n){return e.eBV(t),e.Njj(n.stopPropagation())}),e.j41(2,"h2",668),e.EFF(3,"Invite to Group"),e.k0s(),e.j41(4,"p",669),e.EFF(5,"Share this link to invite participants:"),e.k0s(),e.j41(6,"div",670),e.nrm(7,"img",671),e.k0s(),e.j41(8,"div",672)(9,"span",673),e.EFF(10),e.k0s(),e.j41(11,"button",674),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.copyInviteLink())}),e.EFF(12,"Copy"),e.k0s()(),e.j41(13,"button",675),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeInviteModal())}),e.EFF(14,"Done"),e.k0s()()()}if(2&o){const t=e.XpG();e.R7$(7),e.Y8G("src","https://api.qrserver.com/v1/create-qr-code/?size=150x150&data="+t.groupInviteLink,e.B4B),e.R7$(3),e.JRh(t.groupInviteLink)}}function vr(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",684),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.reactToMessage(n,s.contextMenuMessage))}),e.EFF(1),e.k0s()}if(2&o){const t=r.$implicit;e.R7$(),e.SpI(" ",t," ")}}function xr(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",676),e.bIt("click",function(n){return e.eBV(t),e.Njj(n.stopPropagation())}),e.j41(1,"div",677),e.DNE(2,vr,2,1,"button",678),e.j41(3,"button",679),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return n.toggleEmojiPicker(),e.Njj(n.closeContextMenu())}),e.qSk(),e.j41(4,"svg",680),e.nrm(5,"line",353)(6,"line",354),e.k0s()()(),e.joV(),e.nrm(7,"div",681),e.j41(8,"div",367),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.viewMessageInfo(n.contextMenuMessage))}),e.qSk(),e.j41(9,"svg",27),e.nrm(10,"circle",276)(11,"line",454)(12,"line",455),e.k0s(),e.joV(),e.j41(13,"span"),e.EFF(14,"Message info"),e.k0s()(),e.j41(15,"div",367),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.setReply(n.contextMenuMessage))}),e.qSk(),e.j41(16,"svg",27),e.nrm(17,"polyline",160)(18,"path",161),e.k0s(),e.joV(),e.j41(19,"span"),e.EFF(20,"Reply"),e.k0s()(),e.j41(21,"div",367),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.copyMessageText(n.contextMenuMessage))}),e.qSk(),e.j41(22,"svg",27),e.nrm(23,"rect",258)(24,"path",259),e.k0s(),e.joV(),e.j41(25,"span"),e.EFF(26,"Copy"),e.k0s()(),e.j41(27,"div",367),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.forwardMessage(n.contextMenuMessage))}),e.qSk(),e.j41(28,"svg",27),e.nrm(29,"polyline",261)(30,"path",262),e.k0s(),e.joV(),e.j41(31,"span"),e.EFF(32,"Forward"),e.k0s()(),e.j41(33,"div",367),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.starMessage(n.contextMenuMessage))}),e.qSk(),e.j41(34,"svg",27),e.nrm(35,"polygon",236),e.k0s(),e.joV(),e.j41(36,"span"),e.EFF(37),e.k0s()(),e.j41(38,"div",367),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.pinMessage(n.contextMenuMessage))}),e.qSk(),e.j41(39,"svg",27),e.nrm(40,"line",682)(41,"path",234),e.k0s(),e.joV(),e.j41(42,"span"),e.EFF(43),e.k0s()(),e.nrm(44,"div",681),e.j41(45,"div",367),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.enableSelectMode())}),e.qSk(),e.j41(46,"svg",27),e.nrm(47,"rect",296)(48,"polyline",138),e.k0s(),e.joV(),e.j41(49,"span"),e.EFF(50,"Select"),e.k0s()(),e.nrm(51,"div",681),e.j41(52,"div",683),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteMessage(n.contextMenuMessage))}),e.qSk(),e.j41(53,"svg",27),e.nrm(54,"polyline",141)(55,"path",142),e.k0s(),e.joV(),e.j41(56,"span"),e.EFF(57,"Delete"),e.k0s()()()}if(2&o){const t=e.XpG();e.xc7("left",t.contextMenuPosition.x,"px")("top",t.contextMenuPosition.y,"px"),e.R7$(2),e.Y8G("ngForOf",t.reactionEmojis),e.R7$(35),e.JRh(null!=t.contextMenuMessage&&t.contextMenuMessage.isStarred?"Unstar":"Star"),e.R7$(6),e.JRh(null!=t.contextMenuMessage&&t.contextMenuMessage.isPinned?"Unpin":"Pin")}}function br(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",691),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.selectEmojiForReaction(n))}),e.EFF(1),e.k0s()}if(2&o){const t=r.$implicit;e.R7$(),e.SpI(" ",t," ")}}function kr(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",685),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeEmojiPickerModal())}),e.j41(1,"div",686),e.bIt("click",function(n){return e.eBV(t),e.Njj(n.stopPropagation())}),e.j41(2,"div",687)(3,"h3"),e.EFF(4,"Select Emoji"),e.k0s(),e.j41(5,"button",320),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeEmojiPickerModal())}),e.EFF(6,"\xd7"),e.k0s()(),e.j41(7,"div",688)(8,"div",689),e.DNE(9,br,2,1,"button",690),e.k0s()()()()}if(2&o){const t=e.XpG();e.R7$(9),e.Y8G("ngForOf",t.emojis)}}function Cr(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",559),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeConfirmModal())}),e.j41(1,"div",692),e.bIt("click",function(n){return e.eBV(t),e.Njj(n.stopPropagation())}),e.j41(2,"h2",693),e.EFF(3),e.k0s(),e.j41(4,"p",694),e.EFF(5),e.k0s(),e.j41(6,"div",503)(7,"button",695),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeConfirmModal())}),e.EFF(8,"Cancel"),e.k0s(),e.j41(9,"button",696),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.executeConfirmAction())}),e.EFF(10,"Delete"),e.k0s()()()()}if(2&o){const t=e.XpG();e.R7$(3),e.JRh(t.confirmTitle),e.R7$(2),e.JRh(t.confirmMessage)}}function jr(o,r){if(1&o&&(e.j41(0,"div",702)(1,"span",703),e.EFF(2,"Read at:"),e.k0s(),e.j41(3,"span",704),e.EFF(4),e.nI1(5,"date"),e.k0s()()),2&o){const t=e.XpG(3);e.R7$(4),e.JRh(e.i5U(5,1,t.selectedMessageInfo.seenAt,"MMM d, y, h:mm a"))}}function yr(o,r){if(1&o&&(e.j41(0,"div",701)(1,"div",702)(2,"span",703),e.EFF(3,"Sent:"),e.k0s(),e.j41(4,"span",704),e.EFF(5),e.nI1(6,"date"),e.k0s()(),e.j41(7,"div",702)(8,"span",703),e.EFF(9,"Status:"),e.k0s(),e.j41(10,"span",705),e.EFF(11),e.k0s()(),e.DNE(12,jr,6,4,"div",706),e.j41(13,"div",702)(14,"span",703),e.EFF(15,"Message Type:"),e.k0s(),e.j41(16,"span",707),e.EFF(17),e.k0s()()()),2&o){const t=e.XpG(2);e.R7$(5),e.JRh(e.i5U(6,6,t.selectedMessageInfo.createdAt,"MMM d, y, h:mm a")),e.R7$(5),e.AVh("read",t.selectedMessageInfo.seen),e.R7$(),e.SpI(" ",t.selectedMessageInfo.seen?"Read":t.selectedMessageInfo.delivered?"Delivered":"Sent"," "),e.R7$(),e.Y8G("ngIf",t.selectedMessageInfo.seenAt),e.R7$(5),e.JRh(t.selectedMessageInfo.messageType)}}function wr(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",559),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeMessageInfoModal())}),e.j41(1,"div",697),e.bIt("click",function(n){return e.eBV(t),e.Njj(n.stopPropagation())}),e.j41(2,"div",698)(3,"h2",650),e.EFF(4,"Message Info"),e.k0s(),e.j41(5,"button",320),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeMessageInfoModal())}),e.EFF(6,"\xd7"),e.k0s()(),e.DNE(7,yr,18,9,"div",699),e.j41(8,"div",700)(9,"button",675),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeMessageInfoModal())}),e.EFF(10,"Close"),e.k0s()()()()}if(2&o){const t=e.XpG();e.R7$(7),e.Y8G("ngIf",t.selectedMessageInfo)}}function Mr(o,r){if(1&o&&e.nrm(0,"img",134),2&o){const t=e.XpG(2);e.Y8G("src",t.getAvatarUrl(null==t.selectedUser?null:t.selectedUser.avatar),e.B4B)}}function Pr(o,r){if(1&o&&(e.j41(0,"div",719),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.SpI(" ",((null==t.selectedUser?null:t.selectedUser.username)||"").charAt(0).toUpperCase()," ")}}function Or(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",613),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeContactInfo())}),e.j41(1,"div",614),e.bIt("click",function(n){return e.eBV(t),e.Njj(n.stopPropagation())}),e.j41(2,"div",615)(3,"button",320),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeContactInfo())}),e.qSk(),e.j41(4,"svg",76),e.nrm(5,"path",616)(6,"path",617),e.k0s()(),e.joV(),e.j41(7,"div",618)(8,"h3"),e.EFF(9,"Contact info"),e.k0s()()(),e.j41(10,"div",620)(11,"div",621)(12,"div",708),e.DNE(13,Mr,1,1,"img",119)(14,Pr,2,1,"div",709),e.k0s(),e.j41(15,"h2"),e.EFF(16),e.k0s(),e.j41(17,"span",624),e.EFF(18),e.k0s(),e.j41(19,"div",710)(20,"div",711),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toastService.show("Search feature coming soon"))}),e.j41(21,"div",712),e.qSk(),e.j41(22,"svg",713),e.nrm(23,"circle",28)(24,"line",93),e.k0s()(),e.joV(),e.j41(25,"span"),e.EFF(26,"Search"),e.k0s()(),e.j41(27,"div",711),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return n.onVideoCall(),e.Njj(n.closeContactInfo())}),e.j41(28,"div",712),e.qSk(),e.j41(29,"svg",713),e.nrm(30,"path",220)(31,"rect",88),e.k0s()(),e.joV(),e.j41(32,"span"),e.EFF(33,"Video"),e.k0s()(),e.j41(34,"div",711),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return n.onVoiceCall(),e.Njj(n.closeContactInfo())}),e.j41(35,"div",712),e.qSk(),e.j41(36,"svg",713),e.nrm(37,"path",124),e.k0s()(),e.joV(),e.j41(38,"span"),e.EFF(39,"Voice"),e.k0s()()()(),e.j41(40,"div",625)(41,"div",714)(42,"div",715),e.EFF(43,"About"),e.k0s(),e.j41(44,"div",716),e.EFF(45),e.k0s()()(),e.j41(46,"div",641)(47,"button",642),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.blockUser())}),e.qSk(),e.j41(48,"svg",23),e.nrm(49,"path",717)(50,"line",718),e.k0s(),e.joV(),e.j41(51,"span"),e.EFF(52),e.k0s()()()()()()}if(2&o){const t=e.XpG();e.R7$(13),e.Y8G("ngIf",null==t.selectedUser?null:t.selectedUser.avatar),e.R7$(),e.Y8G("ngIf",!(null!=t.selectedUser&&t.selectedUser.avatar)),e.R7$(2),e.JRh((null==t.selectedUser?null:t.selectedUser.fullName)||(null==t.selectedUser?null:t.selectedUser.username)),e.R7$(),e.AVh("online",null==t.selectedUser?null:t.selectedUser.isOnline),e.R7$(),e.JRh(null!=t.selectedUser&&t.selectedUser.isOnline?"Online":"Offline"),e.R7$(27),e.JRh((null==t.selectedUser?null:t.selectedUser.about)||"(^._.^) ram ram bhai saryane"),e.R7$(7),e.SpI("Block ",(null==t.selectedUser?null:t.selectedUser.fullName)||(null==t.selectedUser?null:t.selectedUser.username),"")}}let Sr=(()=>{class o{authService;socketService;chatService;themeService;router;toastService;cdr;messagesContainer;currentUser=null;users=[];selectedUser=null;messages=[];newMessage="";searchQuery="";typingUsers={};showSettings=!1;settingsView="main";generalSettings={startAtLogin:!1,minimizeToTray:!0,language:"English",fontSize:"100% (default)"};securitySettings={showNotifications:!1};privacySettings={lastSeen:"Everyone",profilePhoto:"Everyone",about:"Everyone",status:"My contacts",readReceipts:!0,defaultTimer:"Off",groups:"Everyone",appLock:!1,blockUnknownMessages:!1};notificationSettings={showBanner:"Always",showTaskbarBadge:"Always",messageNotifications:!0,showPreviews:!0,reactionNotifications:!0,statusReactions:!0,callNotifications:!0,incomingCallSounds:!0,incomingSounds:!0,outgoingSounds:!1,messageTone:"Default",groupTone:"Default"};videoSettings={cameraDeviceId:"",micDeviceId:"",speakerDeviceId:""};chatSettings={theme:"System default",wallpaper:{color:"#0b141a",image:null,doodles:!0},mediaQuality:"Standard",autoDownload:{photos:!0,audio:!0,videos:!0,documents:!0},spellCheck:!0,replaceEmoji:!0,enterIsSend:!0};isAppLocked=!1;showSetPasswordModal=!1;showPasswordSetModal=!1;appLockPassword="";tempPassword="";tempConfirmPassword="";showWallpaperModal=!1;wallpaperColors=["#0b141a","#ffffff","#e9edef","#d1d7db","#aeac99","#7acba5","#c7e9fa","#adbdcc","#d6d0f0","#cecece","#f2fce5","#fef3bd","#fee2e9","#e1f9f2","#ffe9e6","#fff6d6","#f3f6f9","#2a3942","#622f42","#1f2c34"];notificationTones=["Default","Alert 1","Alert 2","Alert 3","Alert 4","Alert 5","Alert 6"];notificationAudio=new Audio;tempWallpaper={color:"#0b141a",image:null,doodles:!0};currentTheme="system";availableDevices=[];activeNotifDropdown=null;isEditingName=!1;isEditingAbout=!1;tempProfileName="";tempProfileAbout="";showPermissionModal=!1;permissionMessage="";replyingToMessage=null;showContextMenu=!1;contextMenuPosition={x:0,y:0};contextMenuMessage=null;reactionEmojis=["\u{1f44d}","\u2764\ufe0f","\u{1f602}","\u{1f62e}","\u{1f622}","\u{1f64f}"];emojiPickerMessage=null;typingTimeout;subscriptions=[];shouldScrollToBottom=!1;showContactInfo=!1;showConfirmModal=!1;confirmTitle="";confirmMessage="";confirmAction=()=>{};showMessageInfoModal=!1;selectedMessageInfo=null;constructor(t,i,n,s,a,c,l){this.authService=t,this.socketService=i,this.chatService=n,this.themeService=s,this.router=a,this.toastService=c,this.cdr=l,this.currentTheme=this.themeService.getTheme()}ngOnInit(){this.loadSettings(),this.notificationSettings.messageNotifications&&"Notification"in window&&"granted"!==Notification.permission&&Notification.requestPermission(),this.applyFontSize(),this.subscriptions.push(this.authService.currentUser$.subscribe(t=>{this.currentUser=t,t&&!this.socketService.isConnected()&&(this.socketService.connect(t._id),this.loadUsers(),this.setupSocketListeners())}))}loadSettings(){const t=localStorage.getItem("generalSettings");t&&(this.generalSettings=JSON.parse(t));const i=localStorage.getItem("securitySettings");i&&(this.securitySettings=JSON.parse(i));const n=localStorage.getItem("privacySettings");n&&(this.privacySettings=JSON.parse(n));const s=localStorage.getItem("videoSettings");s&&(this.videoSettings=JSON.parse(s));const a=localStorage.getItem("chatSettings");a&&(this.chatSettings=JSON.parse(a));const c=localStorage.getItem("notificationSettings");c&&(this.notificationSettings={...this.notificationSettings,...JSON.parse(c)});const l=this.themeService.getTheme();this.currentTheme=l,"dark"===l?this.chatSettings.theme="Dark":"light"===l?this.chatSettings.theme="Light":"system"===l&&(this.chatSettings.theme="System default");const u=localStorage.getItem("appLockPassword");u&&(this.appLockPassword=u,"true"===localStorage.getItem("isAppLocked")&&(this.isAppLocked=!0))}saveSettings(){localStorage.setItem("generalSettings",JSON.stringify(this.generalSettings)),localStorage.setItem("securitySettings",JSON.stringify(this.securitySettings)),localStorage.setItem("privacySettings",JSON.stringify(this.privacySettings)),localStorage.setItem("videoSettings",JSON.stringify(this.videoSettings)),localStorage.setItem("chatSettings",JSON.stringify(this.chatSettings)),localStorage.setItem("notificationSettings",JSON.stringify(this.notificationSettings))}onWallpaperFileSelected(t){const i=t.target.files[0];if(i){const n=new FileReader;n.onload=s=>{this.tempWallpaper.image=s.target.result,this.tempWallpaper.color="#0b141a"},n.readAsDataURL(i)}}openWallpaperModal(){this.tempWallpaper="string"==typeof this.chatSettings.wallpaper?{color:"#0b141a",image:null,doodles:!0}:{color:this.chatSettings.wallpaper.color||"#0b141a",image:this.chatSettings.wallpaper.image||null,doodles:this.chatSettings.wallpaper.doodles},this.showWallpaperModal=!0,this.showSettings=!1}closeWallpaperModal(){this.showWallpaperModal=!1,this.showSettings=!0}selectWallpaperColor(t){this.tempWallpaper.color=t,this.tempWallpaper.image=null}saveWallpaper(){this.chatSettings.wallpaper={...this.tempWallpaper},this.saveSettings(),this.showWallpaperModal=!1,this.showSettings=!0}toggleSecurityNotifications(){this.saveSettings(),this.toastService.show("Security notifications "+(this.securitySettings.showNotifications?"enabled":"disabled"))}ngAfterViewChecked(){this.shouldScrollToBottom&&(this.scrollToBottom(),this.shouldScrollToBottom=!1)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.socketService.disconnect()}get filteredUsers(){return this.searchQuery?this.users.filter(t=>t.username.toLowerCase().includes(this.searchQuery.toLowerCase())):this.users}loadUsers(){(0,Ce.p)({users:this.chatService.getUsers(),groups:this.chatService.getGroups()}).subscribe({next:({users:t,groups:i})=>{const n=i.map(a=>({_id:a._id,username:a.name,fullName:a.name,email:"",avatar:a.avatar,isOnline:!0,isGroup:!0,participants:a.members.map(c=>c._id||c)}));this.users=[...n,...t];const s=sessionStorage.getItem("selectedUserId");if(s){const a=this.users.find(c=>c._id===s);a&&this.selectUser(a)}},error:t=>console.error("Failed to load users/groups:",t)})}selectUser(t){this.selectedUser=t,sessionStorage.setItem("selectedUserId",t._id),t.unreadCount=0,this.loadMessages(t._id),this.markMessagesAsRead(t._id)}loadMessages(t){this.chatService.getMessages(t).subscribe({next:i=>{console.log("ChatComponent: Loaded messages:",i),this.messages=i,this.shouldScrollToBottom=!0},error:i=>console.error("Failed to load messages:",i)})}setupSocketListeners(){this.subscriptions.push(this.socketService.onMessageSent().subscribe(t=>{console.log("Socket: Message sent confirmed",t);const i=this.messages.findIndex(n=>n.localId&&n.localId.startsWith("temp-")&&n.content===t.content&&n.receiver._id===t.receiver._id);-1!==i?(this.messages[i]={...this.messages[i],...t,localId:void 0},this.cdr.detectChanges()):this.selectedUser&&(t.receiver._id===this.selectedUser._id||t.sender._id===this.selectedUser._id)&&(this.messages.push(t),this.shouldScrollToBottom=!0,this.cdr.detectChanges())}),this.socketService.onReceiveMessage().subscribe(t=>{if(console.log("Socket: Message received",t),this.selectedUser&&t.sender._id===this.selectedUser._id)this.messages.push(t),this.shouldScrollToBottom=!0,this.markMessagesAsRead(t.sender._id),this.socketService.markMessagesSeen([t._id],t.sender._id,this.currentUser._id),this.notificationSettings.incomingSounds&&this.playNotificationSound("message"),this.cdr.detectChanges();else{const i=this.users.find(n=>n._id===t.sender._id);i&&(i.unreadCount=(i.unreadCount||0)+1),this.handleIncomingNotification(t)}}),this.socketService.onUserTyping().subscribe(t=>{this.typingUsers[t.userId]=t.isTyping,this.cdr.detectChanges()}),this.socketService.onMessagesSeen().subscribe(t=>{this.messages.forEach(i=>{t.messageIds.includes(i._id)&&(i.seen=!0,i.seenAt=t.seenAt)}),this.cdr.detectChanges()}),this.socketService.onMessageDelivered().subscribe(t=>{const i=this.messages.find(n=>n._id===t.messageId);i&&(i.delivered=!0,i.deliveredAt=t.deliveredAt),this.cdr.detectChanges()}),this.socketService.onMessageReaction().subscribe(t=>{const i=this.messages.find(n=>n._id===t.messageId);if(i){i.reactions||(i.reactions=[]);const n=i.reactions.findIndex(s=>s.userId===t.userId);n>-1?i.reactions[n].emoji=t.emoji:i.reactions.push({emoji:t.emoji,userId:t.userId}),this.cdr.detectChanges()}}))}sendMessage(){if(!this.newMessage.trim()||!this.selectedUser||!this.currentUser)return;const t=this.newMessage.trim(),i="temp-"+Date.now();this.messages.push({_id:i,localId:i,sender:this.currentUser,receiver:this.selectedUser,content:t,messageType:"text",delivered:!1,seen:!1,createdAt:new Date,updatedAt:new Date}),this.shouldScrollToBottom=!0;const s=this.replyingToMessage?._id;this.newMessage="",this.replyingToMessage=null,this.cdr.detectChanges(),this.socketService.sendMessage({senderId:this.currentUser._id,receiverId:this.selectedUser._id,content:t,replyToId:s}),this.socketService.sendTyping({senderId:this.currentUser._id,receiverId:this.selectedUser._id,isTyping:!1})}setReply(t){this.replyingToMessage=t}cancelReply(){this.replyingToMessage=null}scrollToMessage(t){const i=document.getElementById("msg-"+t);i&&(i.scrollIntoView({behavior:"smooth",block:"center"}),i.classList.add("highlight-message"),setTimeout(()=>{i.classList.remove("highlight-message")},2e3))}onTyping(){!this.selectedUser||!this.currentUser||(this.typingTimeout&&clearTimeout(this.typingTimeout),this.socketService.sendTyping({senderId:this.currentUser._id,receiverId:this.selectedUser._id,isTyping:!0}),this.typingTimeout=setTimeout(()=>{this.socketService.sendTyping({senderId:this.currentUser._id,receiverId:this.selectedUser._id,isTyping:!1})},2e3))}markMessagesAsRead(t){this.chatService.markMessagesAsRead(t).subscribe()}callModal;isUserOnline(t){return this.socketService.isUserOnline(t)}onVideoCall(){!this.selectedUser||!this.currentUser||this.callModal.startCall(this.selectedUser._id,this.selectedUser.fullName||this.selectedUser.username,"video")}onVoiceCall(){!this.selectedUser||!this.currentUser||this.callModal.startCall(this.selectedUser._id,this.selectedUser.fullName||this.selectedUser.username,"audio")}formatTime(t){return new Date(t).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})}getAvatarUrl(t){if(!t)return"";if(t.startsWith("http"))return t;const i=t.replace(/\\/g,"/");return`${U.c.socketUrl}/${i}`}scrollToBottom(){try{this.messagesContainer&&(this.messagesContainer.nativeElement.scrollTop=this.messagesContainer.nativeElement.scrollHeight)}catch{}}avatarVersion=Date.now();onFileSelected(t){const i=t.target.files[0];i&&(console.log("Uploading file:",i.name),this.authService.uploadAvatar(i).subscribe({next:n=>{console.log("Avatar upload response:",n),this.avatarVersion=Date.now(),this.currentUser&&(this.currentUser={...this.currentUser,avatar:n.avatar}),this.cdr.detectChanges()},error:n=>{console.error("Avatar upload failed:",n),alert("Failed to upload avatar: "+(n.error?.message||n.message))}}))}onLogout(){this.authService.logout().subscribe({next:()=>{this.socketService.disconnect(),this.toastService.success("Logged out successfully"),this.router.navigate(["/login"])},error:()=>{sessionStorage.clear(),this.router.navigate(["/login"])}})}onAvatarError(){this.currentUser&&(this.currentUser.avatar=void 0)}onProfilePhotoSelected(t){this.onFileSelected(t)}deselectUser(){this.selectedUser=null}previewFile=null;previewUrl=null;isUploading=!1;uploadProgress=0;onChatFileSelected(t){const i=t.target.files[0];if(!i||!this.selectedUser||!this.currentUser)return;const n=i.type,s=this.chatSettings.autoDownload;if(n.startsWith("image/")){if(!s.photos)return this.permissionMessage="Photos are disabled in Media Settings.",void(this.showPermissionModal=!0)}else if(n.startsWith("video/")){if(!s.videos)return this.permissionMessage="Videos are disabled in Media Settings.",void(this.showPermissionModal=!0)}else if(n.startsWith("audio/")){if(!s.audio)return this.permissionMessage="Audio is disabled in Media Settings.",void(this.showPermissionModal=!0)}else if(!s.documents)return this.permissionMessage="Documents are disabled in Media Settings.",void(this.showPermissionModal=!0);if(this.previewFile=i,this.previewUrl=null,i.type.startsWith("image/")||i.type.startsWith("video/")){const a=new FileReader;a.onload=c=>{this.previewUrl=c.target.result},a.readAsDataURL(i)}}cancelPreview(){this.previewFile=null,this.previewUrl=null}confirmSendFile(){if(!this.previewFile||!this.selectedUser||!this.currentUser)return;const t=this.previewFile;let i="file";t.type.startsWith("image/")?i="image":t.type.startsWith("video/")?i="video":t.type.startsWith("audio/")&&(i="audio");const n="temp-"+Date.now();this.messages.push({_id:n,sender:this.currentUser,receiver:this.selectedUser,content:"image"===i?"Image":"video"===i?"Video":t.name,messageType:i,fileUrl:this.previewUrl||"",delivered:!1,seen:!1,createdAt:new Date,updatedAt:new Date,uploadProgress:0,localId:n}),this.shouldScrollToBottom=!0,this.cdr.detectChanges(),this.cancelPreview(),this.chatService.uploadFile(t).subscribe({next:a=>{const c=this.messages.findIndex(l=>l.localId===n);if(-1!==c||a.type===O.hv.Response)if(a.type===O.hv.UploadProgress){if(a.total){const l=Math.round(100*a.loaded/a.total);-1!==c&&(this.messages[c].uploadProgress=l,this.cdr.detectChanges())}}else if(a.type===O.hv.Response){const l=a.body;console.log("File uploaded:",l),-1!==c&&(this.messages[c].fileUrl=l.fileUrl,this.messages[c].uploadProgress=void 0,this.messages[c].localId=void 0,this.cdr.detectChanges()),this.socketService.sendMessage({senderId:this.currentUser._id,receiverId:this.selectedUser._id,content:"image"===i?"Image":"video"===i?"Video":t.name,fileUrl:l.fileUrl,messageType:i})}},error:a=>{console.error("Upload failed:",a),alert("Failed to send file"),this.messages=this.messages.filter(c=>c.localId!==n),this.cdr.detectChanges()}})}showEmojiPicker=!1;emojis=["\u{1f600}","\u{1f603}","\u{1f604}","\u{1f601}","\u{1f606}","\u{1f605}","\u{1f602}","\u{1f923}","\u{1f972}","\u{1f60a}","\u{1f607}","\u{1f642}","\u{1f643}","\u{1f609}","\u{1f60c}","\u{1f60d}","\u{1f970}","\u{1f618}","\u{1f617}","\u{1f619}","\u{1f61a}","\u{1f60b}","\u{1f61b}","\u{1f61d}","\u{1f61c}","\u{1f92a}","\u{1f928}","\u{1f9d0}","\u{1f913}","\u{1f60e}","\u{1f978}","\u{1f929}","\u{1f973}","\u{1f60f}","\u{1f612}","\u{1f61e}","\u{1f614}","\u{1f61f}","\u{1f615}","\u{1f641}","\u2639\ufe0f","\u{1f623}","\u{1f616}","\u{1f62b}","\u{1f629}","\u{1f97a}","\u{1f622}","\u{1f62d}","\u{1f624}","\u{1f620}","\u{1f621}","\u{1f92c}","\u{1f92f}","\u{1f633}","\u{1f975}","\u{1f976}","\u{1f631}","\u{1f628}","\u{1f630}","\u{1f625}","\u{1f613}","\u{1f917}","\u{1f914}","\u{1f92d}","\u{1f92b}","\u{1f925}","\u{1f636}","\u{1f610}","\u{1f611}","\u{1f62c}","\u{1f644}","\u{1f62f}","\u{1f626}","\u{1f627}","\u{1f62e}","\u{1f632}","\u{1f971}","\u{1f634}","\u{1f924}","\u{1f62a}","\u{1f635}","\u{1f910}","\u{1f974}","\u{1f922}","\u{1f92e}","\u{1f927}","\u{1f637}","\u{1f912}","\u{1f915}","\u{1f911}","\u{1f920}","\u{1f608}","\u{1f47f}","\u{1f479}","\u{1f47a}","\u{1f921}","\u{1f4a9}","\u{1f47b}","\u{1f480}","\u2620\ufe0f","\u{1f47d}","\u{1f47e}","\u{1f916}","\u{1f383}","\u{1f63a}","\u{1f638}","\u{1f639}","\u{1f63b}","\u{1f63c}","\u{1f63d}","\u{1f640}","\u{1f63f}","\u{1f63e}","\u{1f44b}","\u{1f91a}","\u{1f590}\ufe0f","\u270b","\u{1f596}","\u{1f44c}","\u{1f90c}","\u{1f90f}","\u270c\ufe0f","\u{1f91e}","\u{1f91f}","\u{1f918}","\u{1f919}","\u{1f448}","\u{1f449}","\u{1f446}","\u{1f595}","\u{1f447}","\u261d\ufe0f","\u{1f44d}","\u{1f44e}","\u270a","\u{1f44a}","\u{1f91b}","\u{1f91c}","\u{1f44f}","\u{1f64c}","\u{1f450}","\u{1f932}","\u{1f91d}","\u{1f64f}","\u270d\ufe0f","\u{1f485}","\u{1f933}","\u{1f4aa}","\u{1f9e0}","\u{1fac0}","\u{1fac1}","\u{1f9b7}","\u{1f9b4}","\u{1f440}","\u{1f441}\ufe0f","\u{1f445}","\u{1f444}","\u{1f48b}","\u{1fa78}","\u{1f498}","\u{1f49d}","\u{1f496}","\u{1f497}","\u{1f493}","\u{1f49e}","\u{1f495}","\u{1f49f}","\u2763\ufe0f","\u{1f494}","\u2764\ufe0f","\u{1f9e1}","\u{1f49b}","\u{1f49a}","\u{1f499}","\u{1f49c}","\u{1f90e}","\u{1f5a4}","\u{1f90d}","\u{1f4af}","\u{1f4a2}","\u{1f4a5}","\u{1f4ab}","\u{1f4a6}","\u{1f4a8}","\u{1f573}\ufe0f","\u{1f4a3}","\u{1f4ac}","\u{1f441}\ufe0f\u200d\u{1f5e8}\ufe0f","\u{1f5e8}\ufe0f","\u{1f5ef}\ufe0f","\u{1f4ad}","\u{1f4a4}","\u{1f436}","\u{1f431}","\u{1f42d}","\u{1f439}","\u{1f430}","\u{1f98a}","\u{1f43b}","\u{1f43c}","\u{1f428}","\u{1f42f}","\u{1f981}","\u{1f42e}","\u{1f437}","\u{1f43d}","\u{1f438}","\u{1f435}","\u{1f648}","\u{1f649}","\u{1f64a}","\u{1f412}","\u{1f414}","\u{1f427}","\u{1f426}","\u{1f424}","\u{1f423}","\u{1f425}","\u{1f986}","\u{1f985}","\u{1f989}","\u{1f987}","\u{1f43a}","\u{1f417}","\u{1f434}","\u{1f984}","\u{1f41d}","\u{1f41b}","\u{1f98b}","\u{1f40c}","\u{1f41e}","\u{1f41c}","\u{1f99f}","\u{1f997}","\u{1f577}\ufe0f","\u{1f578}\ufe0f","\u{1f982}","\u{1f422}","\u{1f40d}","\u{1f98e}","\u{1f996}","\u{1f995}","\u{1f419}","\u{1f991}","\u{1f990}","\u{1f99e}","\u{1f980}","\u{1f421}","\u{1f420}","\u{1f41f}","\u{1f42c}","\u{1f433}","\u{1f40b}","\u{1f988}","\u{1f40a}","\u{1f405}","\u{1f406}","\u{1f993}","\u{1f98d}","\u{1f9a7}","\u{1f418}","\u{1f99b}","\u{1f98f}","\u{1f42a}","\u{1f42b}","\u{1f992}","\u{1f998}","\u{1f403}","\u{1f402}","\u{1f404}","\u{1f40e}","\u{1f416}","\u{1f40f}","\u{1f411}","\u{1f999}","\u{1f410}","\u{1f98c}","\u{1f415}","\u{1f429}","\u{1f9ae}","\u{1f415}\u200d\u{1f9ba}","\u{1f408}","\u{1f413}","\u{1f983}","\u{1f99a}","\u{1f99c}","\u{1f9a2}","\u{1f9a9}","\u{1f54a}\ufe0f","\u{1f407}","\u{1f99d}","\u{1f9a8}","\u{1f9a1}","\u{1f9a6}","\u{1f9a5}","\u{1f401}","\u{1f400}","\u{1f43f}\ufe0f","\u{1f994}","\u{1f43e}","\u{1f409}","\u{1f432}","\u{1f335}","\u{1f384}","\u{1f332}","\u{1f333}","\u{1f334}","\u{1f331}","\u{1f33f}","\u2618\ufe0f","\u{1f340}","\u{1f38d}","\u{1f38b}","\u{1f343}","\u{1f342}","\u{1f341}","\u{1f344}","\u{1f41a}","\u{1f33e}","\u{1f490}","\u{1f337}","\u{1f339}","\u{1f940}","\u{1f33a}","\u{1f338}","\u{1f33c}","\u{1f33b}","\u{1f31e}","\u{1f31d}","\u{1f31b}","\u{1f31c}","\u{1f31a}","\u{1f315}","\u{1f316}","\u{1f317}","\u{1f318}","\u{1f311}","\u{1f312}","\u{1f313}","\u{1f314}","\u{1f319}","\u{1f30e}","\u{1f30d}","\u{1f30f}","\u{1fa90}","\u{1f4ab}","\u2b50","\u{1f31f}","\u2728","\u26a1","\u2604\ufe0f","\u{1f4a5}","\u{1f525}","\u{1f32a}\ufe0f","\u{1f308}","\u2600\ufe0f","\u{1f324}\ufe0f","\u26c5","\u{1f325}\ufe0f","\u2601\ufe0f","\u{1f326}\ufe0f","\u{1f327}\ufe0f","\u{1f328}\ufe0f","\u{1f329}\ufe0f","\u26a1","\u2744\ufe0f","\u2603\ufe0f","\u26c4","\u{1f32c}\ufe0f","\u{1f4a8}","\u{1f4a7}","\u{1f4a6}","\u2614","\u2602\ufe0f","\u{1f30a}","\u{1f32b}\ufe0f","\u{1f34f}","\u{1f34e}","\u{1f350}","\u{1f34a}","\u{1f34b}","\u{1f34c}","\u{1f349}","\u{1f347}","\u{1f353}","\u{1f348}","\u{1f352}","\u{1f351}","\u{1f96d}","\u{1f34d}","\u{1f965}","\u{1f95d}","\u{1f345}","\u{1f346}","\u{1f951}","\u{1f966}","\u{1f96c}","\u{1f952}","\u{1f336}\ufe0f","\u{1f33d}","\u{1f955}","\u{1f9c4}","\u{1f9c5}","\u{1f954}","\u{1f360}","\u{1f950}","\u{1f96f}","\u{1f35e}","\u{1f956}","\u{1f968}","\u{1f9c0}","\u{1f95a}","\u{1f373}","\u{1f9c8}","\u{1f95e}","\u{1f9c7}","\u{1f953}","\u{1f969}","\u{1f357}","\u{1f356}","\u{1f9b4}","\u{1f32d}","\u{1f354}","\u{1f35f}","\u{1f355}","\u{1f96a}","\u{1f959}","\u{1f9c6}","\u{1f32e}","\u{1f32f}","\u{1f957}","\u{1f958}","\u{1f96b}","\u{1f35d}","\u{1f35c}","\u{1f372}","\u{1f35b}","\u{1f363}","\u{1f371}","\u{1f95f}","\u{1f9aa}","\u{1f364}","\u{1f359}","\u{1f35a}","\u{1f358}","\u{1f365}","\u{1f960}","\u{1f96e}","\u{1f362}","\u{1f361}","\u{1f367}","\u{1f368}","\u{1f366}","\u{1f967}","\u{1f9c1}","\u{1f370}","\u{1f382}","\u{1f36e}","\u{1f36d}","\u{1f36c}","\u{1f36b}","\u{1f37f}","\u{1f369}","\u{1f36a}","\u{1f330}","\u{1f95c}","\u{1f36f}","\u{1f95b}","\u{1f37c}","\u2615","\u{1f375}","\u{1f9c3}","\u{1f964}","\u{1f376}","\u{1f37a}","\u{1f37b}","\u{1f942}","\u{1f377}","\u{1f943}","\u{1f378}","\u{1f379}","\u{1f9c9}","\u{1f37e}","\u{1f9ca}","\u{1f944}","\u{1f374}","\u{1f37d}\ufe0f","\u{1f963}","\u{1f961}","\u{1f962}","\u{1f9c2}","\u26bd","\u{1f3c0}","\u{1f3c8}","\u26be","\u{1f94e}","\u{1f3be}","\u{1f3d0}","\u{1f3c9}","\u{1f94f}","\u{1f3b1}","\u{1fa80}","\u{1f3d3}","\u{1f3f8}","\u{1f3d2}","\u{1f3d1}","\u{1f94d}","\u{1f3cf}","\u{1f945}","\u26f3","\u{1fa81}","\u{1f3f9}","\u{1f3a3}","\u{1f93f}","\u{1f94a}","\u{1f94b}","\u{1f3bd}","\u{1f6f9}","\u{1f6f7}","\u26f8\ufe0f","\u{1f94c}","\u{1f3bf}","\u26f7\ufe0f","\u{1f3c2}","\u{1fa82}","\u{1f3cb}\ufe0f","\u{1f93c}","\u{1f938}","\u26f9\ufe0f","\u{1f93a}","\u{1f93e}","\u{1f3cc}\ufe0f","\u{1f3c7}","\u{1f9d8}","\u{1f3c4}","\u{1f3ca}","\u{1f93d}","\u{1f6a3}","\u{1f9d7}","\u{1f6b5}","\u{1f6b4}","\u{1f3c6}","\u{1f947}","\u{1f948}","\u{1f949}","\u{1f3c5}","\u{1f396}\ufe0f","\u{1f3f5}\ufe0f","\u{1f397}\ufe0f","\u{1f3ab}","\u{1f39f}\ufe0f","\u{1f3aa}","\u{1f939}","\u{1f3ad}","\u{1fa70}","\u{1f3a8}","\u{1f3ac}","\u{1f3a4}","\u{1f3a7}","\u{1f3bc}","\u{1f3b9}","\u{1f941}","\u{1f3b7}","\u{1f3ba}","\u{1f3b8}","\u{1fa95}","\u{1f3bb}","\u{1f3b2}","\u265f\ufe0f","\u{1f3af}","\u{1f3b3}","\u{1f3ae}","\u{1f3b0}","\u{1f9e9}","\u{1f697}","\u{1f695}","\u{1f699}","\u{1f68c}","\u{1f68e}","\u{1f3ce}\ufe0f","\u{1f693}","\u{1f691}","\u{1f692}","\u{1f690}","\u{1f69a}","\u{1f69b}","\u{1f69c}","\u{1f3cd}\ufe0f","\u{1f6f5}","\u{1f6b2}","\u{1f6f4}","\u{1f6fa}","\u{1f694}","\u{1f68d}","\u{1f698}","\u{1f696}","\u{1f6a1}","\u{1f6a0}","\u{1f69f}","\u{1f683}","\u{1f68b}","\u{1f69e}","\u{1f69d}","\u{1f684}","\u{1f685}","\u{1f688}","\u{1f682}","\u{1f686}","\u{1f687}","\u{1f68a}","\u{1f689}","\u2708\ufe0f","\u{1f6eb}","\u{1f6ec}","\u{1f6e9}\ufe0f","\u{1f4ba}","\u{1f6f0}\ufe0f","\u{1f680}","\u{1f6f8}","\u{1f681}","\u{1f6f6}","\u26f5","\u{1f6a4}","\u{1f6e5}\ufe0f","\u{1f6f3}\ufe0f","\u26f4\ufe0f","\u{1f6a2}","\u2693","\u26fd","\u{1f6a7}","\u231a","\u{1f4f1}","\u{1f4f2}","\u{1f4bb}","\u2328\ufe0f","\u{1f5a5}\ufe0f","\u{1f5a8}\ufe0f","\u{1f5b1}\ufe0f","\u{1f5b2}\ufe0f","\u{1f579}\ufe0f","\u{1f5dc}\ufe0f","\u{1f4bd}","\u{1f4be}","\u{1f4bf}","\u{1f4c0}","\u{1f4fc}","\u{1f4f7}","\u{1f4f8}","\u{1f4f9}","\u{1f3a5}","\u{1f4fd}\ufe0f","\u{1f39e}\ufe0f","\u{1f4de}","\u260e\ufe0f","\u{1f4df}","\u{1f4e0}","\u{1f4fa}","\u{1f4fb}","\u{1f399}\ufe0f","\u{1f39a}\ufe0f","\u{1f39b}\ufe0f","\u{1f9ed}","\u23f1\ufe0f","\u23f2\ufe0f","\u23f0","\u{1f570}\ufe0f","\u231b","\u23f3","\u{1f4e1}","\u{1f50b}","\u{1f50c}","\u{1f4a1}","\u{1f526}","\u{1f56f}\ufe0f","\u{1fa94}","\u{1f9ef}","\u{1f6e2}\ufe0f","\u{1f4b8}","\u{1f4b5}","\u{1f4b4}","\u{1f4b6}","\u{1f4b7}","\u{1f4b0}","\u{1f4b3}","\u{1f48e}","\u2696\ufe0f","\u{1f9f0}","\u{1f527}","\u{1f528}","\u2692\ufe0f","\u{1f6e0}\ufe0f","\u26cf\ufe0f","\u{1f529}","\u2699\ufe0f","\u{1f9f1}","\u26d3\ufe0f","\u{1f9f2}","\u{1f52b}","\u{1f4a3}","\u{1f9e8}","\u{1fa93}","\u{1f52a}","\u{1f5e1}\ufe0f","\u2694\ufe0f","\u{1f6e1}\ufe0f","\u{1f6ac}","\u26b0\ufe0f","\u26b1\ufe0f","\u{1f3fa}","\u{1f52e}","\u{1f4ff}","\u{1f9ff}","\u{1f488}","\u2697\ufe0f","\u{1f52d}","\u{1f52c}","\u{1f573}\ufe0f","\u{1f48a}","\u{1f489}","\u{1fa78}","\u{1f9ec}","\u{1fa7a}","\u{1fa79}","\u{1f321}\ufe0f","\u{1f9fc}","\u{1fa92}","\u{1f6bd}","\u{1f6b0}","\u{1f6bf}","\u{1f6c1}","\u{1f6c0}","\u{1f9f9}","\u{1f9fa}","\u{1f9fb}","\u{1f9fd}","\u{1f511}","\u{1f5dd}\ufe0f","\u{1f6cb}\ufe0f","\u{1fa91}","\u{1f6cc}","\u{1f6cf}\ufe0f","\u{1f6aa}","\u{1f4e2}","\u{1f4e3}","\u{1f514}","\u{1f515}","\u{1f3b5}","\u{1f3b6}","\u{1f3e7}","\u{1f6ae}","\u{1f6b0}","\u267f","\u{1f6b9}","\u{1f6ba}","\u{1f6bb}","\u{1f6bc}","\u{1f6be}","\u{1f6c2}","\u{1f6c3}","\u{1f6c4}","\u{1f6c5}","\u26a0\ufe0f","\u{1f6b8}","\u26d4","\u{1f6ab}","\u{1f6b3}","\u{1f6ad}","\u{1f6af}","\u{1f6b1}","\u{1f6b7}","\u{1f4f5}","\u{1f51e}","\u2622\ufe0f","\u2623\ufe0f","\u2b06\ufe0f","\u2197\ufe0f","\u27a1\ufe0f","\u2198\ufe0f","\u2b07\ufe0f","\u2199\ufe0f","\u2b05\ufe0f","\u2196\ufe0f","\u2195\ufe0f","\u2194\ufe0f","\u21a9\ufe0f","\u21aa\ufe0f","\u2934\ufe0f","\u2935\ufe0f","\u{1f503}","\u{1f504}","\u{1f519}","\u{1f51a}","\u{1f51b}","\u{1f51c}","\u{1f51d}","\u{1f6d0}","\u269b\ufe0f","\u{1f549}\ufe0f","\u2721\ufe0f","\u2638\ufe0f","\u262f\ufe0f","\u271d\ufe0f","\u2626\ufe0f","\u262a\ufe0f","\u262e\ufe0f","\u{1f54e}","\u{1f52f}","\u2648","\u2649","\u264a","\u264b","\u264c","\u264d","\u264e","\u264f","\u2650","\u2651","\u2652","\u2653","\u26ce","\u{1f500}","\u{1f501}","\u{1f502}","\u25b6\ufe0f","\u23e9","\u23ed\ufe0f","\u23ef\ufe0f","\u25c0\ufe0f","\u23ea","\u23ee\ufe0f","\u{1f53c}","\u23eb","\u{1f53d}","\u23ec","\u23f8\ufe0f","\u23f9\ufe0f","\u23fa\ufe0f","\u23cf\ufe0f","\u{1f3a6}","\u{1f505}","\u{1f506}","\u{1f4f6}","\u{1f4f3}","\u{1f4f4}","\u2640\ufe0f","\u2642\ufe0f","\u26a7\ufe0f","\u2716\ufe0f","\u2795","\u2796","\u2797","\u267e\ufe0f","\u203c\ufe0f","\u2049\ufe0f","\u2753","\u2754","\u2755","\u2757","\u3030\ufe0f","\u{1f4b1}","\u{1f4b2}","\u2695\ufe0f","\u267b\ufe0f","\u269c\ufe0f","\u{1f531}","\u{1f4db}","\u{1f530}","\u2b55","\u2705","\u2611\ufe0f","\u2714\ufe0f","\u274c","\u274e","\u27b0","\u27bf","\u303d\ufe0f","\u2733\ufe0f","\u2734\ufe0f","\u2747\ufe0f","\u2122\ufe0f","\xa9\ufe0f","\xae\ufe0f","\u3030\ufe0f","\u{1f517}"];toggleEmojiPicker(){this.contextMenuMessage&&(this.emojiPickerMessage=this.contextMenuMessage),this.showEmojiPicker=!this.showEmojiPicker}closeEmojiPickerModal(){this.showEmojiPicker=!1,this.emojiPickerMessage=null}selectEmojiForReaction(t){this.emojiPickerMessage?(this.reactToMessage(t,this.emojiPickerMessage),this.closeEmojiPickerModal()):(this.newMessage+=t,this.showEmojiPicker=!1)}addEmoji(t){this.newMessage+=t,this.showEmojiPicker=!1}isRecording=!1;isInitializing=!1;mediaRecorder=null;audioChunks=[];startRecording(){var t=this;return(0,b.A)(function*(){if(!t.chatSettings.autoDownload.audio)return t.permissionMessage="Audio is disabled in Media Settings. Cannot record voice notes.",void(t.showPermissionModal=!0);if(!t.isRecording&&!t.isInitializing){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)return void("http:"===window.location.protocol&&"localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname?alert("\u26a0\ufe0f Browser Security Block:\n\nMicrophone is blocked because you are using an IP address ("+window.location.hostname+') without HTTPS.\n\nSOLUTIONS:\n1. Use "http://https://college-final-project-1.onrender.com" instead (if on this PC).\n2. OR go to "chrome://flags" -> Enable "Insecure origins treated as secure"\n   and add: '+window.location.origin):alert("Audio recording not supported or permission denied. Please allow microphone access."));t.isInitializing=!0;try{const i=yield navigator.mediaDevices.getUserMedia({audio:!0});if(!t.isInitializing)return void i.getTracks().forEach(n=>n.stop());t.mediaRecorder=new MediaRecorder(i),t.audioChunks=[],t.isRecording=!0,t.isInitializing=!1,t.mediaRecorder.ondataavailable=n=>{t.audioChunks.push(n.data)},t.mediaRecorder.onstop=()=>{if(!t.isRecording)return;const n=new Blob(t.audioChunks,{type:"audio/webm"});if(n.size>0){const s=new File([n],"voice-message.webm",{type:"audio/webm"});t.uploadAudio(s)}t.isRecording=!1,i.getTracks().forEach(s=>s.stop()),t.mediaRecorder=null},t.mediaRecorder.start(),console.log("Recording started")}catch(i){console.error("Error accessing microphone:",i),t.isInitializing=!1,t.isRecording=!1}}})()}stopRecording(){this.mediaRecorder&&this.isRecording&&"inactive"!==this.mediaRecorder.state&&this.mediaRecorder.stop()}uploadAudio(t){!this.selectedUser||!this.currentUser||this.chatService.uploadFile(t).subscribe({next:i=>{this.socketService.sendMessage({senderId:this.currentUser._id,receiverId:this.selectedUser._id,content:"Voice Message",fileUrl:i.fileUrl,messageType:"audio"})},error:i=>console.error("Audio upload failed",i)})}openSettings(t="main"){this.showSettings=!0,this.settingsView=t,"video-voice"===t&&this.loadMediaDevices()}closeSettings(){this.showSettings=!1}navigateToSettings(t){this.settingsView=t,this.showSettings=!0,"video-voice"===t&&this.loadMediaDevices()}selectTheme(t){this.themeService.setTheme(t),this.currentTheme=t,"dark"===t?this.chatSettings.theme="Dark":"light"===t?this.chatSettings.theme="Light":"system"===t&&(this.chatSettings.theme="System default"),this.saveSettings()}applyFontSize(){const t=this.generalSettings.fontSize;let i="100%";"125%"===t&&(i="125%"),"150%"===t&&(i="150%"),document.body.style.zoom=i}loadMediaDevices(){var t=this;return(0,b.A)(function*(){try{yield navigator.mediaDevices.getUserMedia({audio:!0,video:!0});const i=yield navigator.mediaDevices.enumerateDevices();t.availableDevices=i.map(n=>({kind:n.kind,label:n.label||`${n.kind} (${n.deviceId.slice(0,5)}...)`,deviceId:n.deviceId})),t.videoSettings.micDeviceId&&!t.audioInputDevices.find(n=>n.deviceId===t.videoSettings.micDeviceId)&&(t.videoSettings.micDeviceId=""),t.videoSettings.cameraDeviceId&&!t.videoInputDevices.find(n=>n.deviceId===t.videoSettings.cameraDeviceId)&&(t.videoSettings.cameraDeviceId=""),t.videoSettings.speakerDeviceId&&!t.audioOutputDevices.find(n=>n.deviceId===t.videoSettings.speakerDeviceId)&&(t.videoSettings.speakerDeviceId=""),t.saveSettings()}catch(i){console.error("Error fetching devices",i)}})()}get audioInputDevices(){return this.availableDevices.filter(t=>"audioinput"===t.kind)}get audioOutputDevices(){return this.availableDevices.filter(t=>"audiooutput"===t.kind)}get videoInputDevices(){return this.availableDevices.filter(t=>"videoinput"===t.kind)}toggleAppLock(t){this.privacySettings.appLock?(this.tempPassword="",this.tempConfirmPassword="",this.showSetPasswordModal=!0):(this.appLockPassword="",localStorage.removeItem("appLockPassword"),localStorage.removeItem("isAppLocked"),this.saveSettings())}closeSetPasswordModal(){this.showSetPasswordModal=!1,this.appLockPassword||(this.privacySettings.appLock=!1)}confirmSetPassword(){this.tempPassword&&this.tempConfirmPassword?this.tempPassword.length<6?alert("Password must be at least 6 characters."):this.tempPassword===this.tempConfirmPassword?(this.appLockPassword=this.tempPassword,localStorage.setItem("appLockPassword",this.appLockPassword),this.showSetPasswordModal=!1,this.showPasswordSetModal=!0,this.saveSettings()):alert("Passwords do not match."):alert("Please enter a password.")}shouldShowMedia(t){if(t.sender._id===this.currentUser?._id||t.isManuallyDownloaded)return!0;const i=t.messageType,n=this.chatSettings.autoDownload;return!!("image"===i&&n.photos||"video"===i&&n.videos||"audio"===i&&n.audio||"file"===i&&n.documents)}downloadMedia(t){t.isManuallyDownloaded=!0}downloadFile(t){if(!t)return;const i=this.getAvatarUrl(t);window.open(i,"_blank")}resetAutoDownloadSettings(){this.chatSettings.autoDownload={photos:!0,audio:!0,videos:!0,documents:!0},this.saveSettings()}handleIncomingNotification(t){this.notificationSettings.messageNotifications&&this.playNotificationSound("message"),this.notificationSettings.messageNotifications&&"Never"!==this.notificationSettings.showBanner&&this.showBrowserNotification(t)}playNotificationSound(t){const i="group"===t?this.notificationSettings.groupTone:this.notificationSettings.messageTone;if("None"===i)return;let n="https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3";"Alert 1"===i&&(n="https://assets.mixkit.co/active_storage/sfx/2358/2358-preview.mp3"),"Alert 2"===i&&(n="https://assets.mixkit.co/active_storage/sfx/2354/2354-preview.mp3"),this.notificationAudio.src=n,this.notificationAudio.play().catch(s=>console.warn("Audio play failed",s))}toggleNotifDropdown(t,i){i.stopPropagation(),this.activeNotifDropdown=this.activeNotifDropdown===t?null:t}selectNotifSetting(t,i){this.notificationSettings[t]=i,this.saveSettings(),this.activeNotifDropdown=null}selectGeneralSetting(t,i){this.generalSettings[t]=i,"fontSize"===t&&this.applyFontSize(),this.saveSettings(),this.activeNotifDropdown=null}selectPrivacySetting(t,i){this.privacySettings[t]=i,this.saveSettings(),this.activeNotifDropdown=null}selectVideoSetting(t,i){this.videoSettings[t]=i,this.saveSettings(),this.activeNotifDropdown=null}closeNotifDropdowns(){this.activeNotifDropdown=null}showBrowserNotification(t){if("Notification"in window&&"granted"===Notification.permission){const s=new Notification(t.sender.username||"New Message",{body:this.notificationSettings.showPreviews?t.content||"Sent a file":"New Message",icon:"assets/icons/icon-128x128.png",silent:!0});s.onclick=()=>{window.focus(),s.close()}}}startEditName(){this.isEditingName=!0,this.tempProfileName=this.currentUser?.username||""}saveName(){this.tempProfileName.trim()&&this.tempProfileName!==this.currentUser?.username?this.authService.updateProfile({username:this.tempProfileName}).subscribe({next:t=>{this.isEditingName=!1,this.toastService.show("Name updated successfully")},error:t=>{console.error("Failed to update name",t),this.toastService.show("Failed to update name","error")}}):this.isEditingName=!1}cancelEditName(){this.isEditingName=!1}startEditAbout(){this.isEditingAbout=!0,this.tempProfileAbout=this.currentUser?.about||""}saveAbout(){this.tempProfileAbout!==this.currentUser?.about?this.authService.updateProfile({about:this.tempProfileAbout}).subscribe({next:t=>{this.isEditingAbout=!1,this.toastService.show("About updated successfully")},error:t=>{console.error("Failed to update about",t),this.toastService.show("Failed to update about","error")}}):this.isEditingAbout=!1}cancelEditAbout(){this.isEditingAbout=!1}refreshProfile(){this.authService.getProfile().subscribe()}closePasswordSetModal(){this.showPasswordSetModal=!1}lockApp(){this.isAppLocked=!0,localStorage.setItem("isAppLocked","true"),this.showPasswordSetModal=!1}unlockApp(){this.tempPassword===this.appLockPassword?(this.isAppLocked=!1,localStorage.removeItem("isAppLocked"),this.tempPassword=""):alert("Incorrect password")}unlockPasswordInput="";isPasswordVisible=!1;togglePasswordVisibility(){this.isPasswordVisible=!this.isPasswordVisible}attemptUnlock(){this.unlockPasswordInput===this.appLockPassword?(this.isAppLocked=!1,localStorage.removeItem("isAppLocked"),this.unlockPasswordInput="",this.isPasswordVisible=!1):alert("Incorrect password")}showThemeModal=!1;tempTheme="System default";openThemeModal(){this.tempTheme=this.chatSettings.theme,this.showThemeModal=!0}closeThemeModal(){this.showThemeModal=!1}applyTheme(){let t="system";"Dark"===this.tempTheme?t="dark":"Light"===this.tempTheme?t="light":"System default"===this.tempTheme&&(t="system"),this.selectTheme(t),this.closeThemeModal()}closePermissionModal(){this.showPermissionModal=!1,this.permissionMessage=""}showAttachmentMenu=!1;documentInput;photoInput;audioInput;cameraInput;toggleAttachmentMenu(){this.showAttachmentMenu=!this.showAttachmentMenu,this.showAttachmentMenu&&(this.showEmojiPicker=!1)}selectAttachmentType(t){switch(this.showAttachmentMenu=!1,t){case"document":this.documentInput?.nativeElement.click();break;case"photos":this.photoInput?.nativeElement.click();break;case"camera":this.cameraInput?.nativeElement.click();break;case"audio":this.audioInput?.nativeElement.click();break;case"contact":this.toastService.show("Contact sharing coming soon!");break;case"poll":this.openPollModal();break;case"event":this.toastService.show("Event creation coming soon!");break;case"sticker":this.toastService.show("Sticker creation coming soon!")}}showCallMenu=!1;toggleCallMenu(){this.showCallMenu=!this.showCallMenu,this.showCallMenu&&(this.showAttachmentMenu=!1,this.showEmojiPicker=!1)}handleCallOption(t){switch(this.showCallMenu=!1,t){case"groupCall":this.toastService.show("Group call coming soon!");break;case"callLink":this.toastService.show("Call link copied!");break;case"scheduleCall":this.toastService.show("Schedule call coming soon!")}}showChatSearch=!1;chatSearchQuery="";searchResultCount=0;currentSearchIndex=0;searchResultIndices=[];toggleChatSearch(){this.showChatSearch=!this.showChatSearch,this.showChatSearch||this.closeChatSearch(),this.showCallMenu=!1,this.showMoreMenu=!1}closeChatSearch(){this.showChatSearch=!1,this.chatSearchQuery="",this.searchResultCount=0,this.currentSearchIndex=0,this.searchResultIndices=[]}onChatSearch(){if(!this.chatSearchQuery.trim())return this.searchResultCount=0,this.currentSearchIndex=0,void(this.searchResultIndices=[]);const t=this.chatSearchQuery.toLowerCase();this.searchResultIndices=[],this.messages.forEach((i,n)=>{i.content&&i.content.toLowerCase().includes(t)&&this.searchResultIndices.push(n)}),this.searchResultCount=this.searchResultIndices.length,this.currentSearchIndex=0,this.searchResultCount>0&&this.scrollToSearchResult()}scrollToSearchResult(){if(0===this.searchResultIndices.length)return;const t=this.searchResultIndices[this.currentSearchIndex],i=document.querySelectorAll(".message");i[t]&&(i[t].scrollIntoView({behavior:"smooth",block:"center"}),i[t].classList.add("search-highlight"),setTimeout(()=>{i[t].classList.remove("search-highlight")},2e3))}prevSearchResult(){this.currentSearchIndex>0&&(this.currentSearchIndex--,this.scrollToSearchResult())}nextSearchResult(){this.currentSearchIndex<this.searchResultCount-1&&(this.currentSearchIndex++,this.scrollToSearchResult())}showMoreMenu=!1;toggleMoreMenu(){this.showMoreMenu=!this.showMoreMenu,this.showMoreMenu&&(this.showCallMenu=!1,this.showAttachmentMenu=!1)}mutedChats=new Set;handleMoreOption(t){switch(this.showMoreMenu=!1,t){case"newGroup":this.openNewGroupModal();break;case"selectMessages":this.enableSelectMode();break;case"muteNotifications":this.toggleMuteChat();break;case"clearChat":this.clearChat()}}showGroupInfo=!1;showExitGroupConfirm=!1;showInviteModal=!1;showAddMembersModal=!1;groupInviteLink="";openGroupInfo(){this.selectedUser?.isGroup&&(this.showGroupInfo=!0)}closeGroupInfo(){this.showGroupInfo=!1}openInviteModal(){this.selectedUser&&(this.groupInviteLink=`https://chat.app/join/${this.selectedUser._id}`,this.showInviteModal=!0)}closeInviteModal(){this.showInviteModal=!1}copyInviteLink(){navigator.clipboard.writeText(this.groupInviteLink),this.toastService.show("Invite link copied!")}exitGroup(){this.showExitGroupConfirm=!0}closeExitGroupConfirm(){this.showExitGroupConfirm=!1}confirmExitGroup(){if(!this.selectedUser)return;const t=this.selectedUser.fullName||this.selectedUser.username,i=this.users.findIndex(n=>n._id===this.selectedUser?._id);-1!==i&&this.users.splice(i,1),this.selectedUser=null,this.showGroupInfo=!1,this.showExitGroupConfirm=!1,this.toastService.show(`You left "${t}"`)}openAddMembersModal(){this.selectedUser&&(this.selectedParticipants.clear(),this.showAddMembersModal=!0)}closeAddMembersModal(){this.showAddMembersModal=!1,this.selectedParticipants.clear()}getUsersNotInGroup(){if(!this.selectedUser)return[];const t=new Set(this.selectedUser.participants||[]),i=this.currentUser;if(!i)return[];const n=i._id?.toString(),s=i.username?.toLowerCase(),a=i.email?.toLowerCase();return this.users.filter(c=>!c.isGroup&&!(c._id?.toString()===n||c.username?.toLowerCase()===s||c.email?.toLowerCase()===a||t.has(c._id)))}confirmAddMembers(){if(0!==this.selectedParticipants.size){if(this.selectedUser&&this.selectedUser.isGroup){const t=Array.from(this.selectedParticipants);this.chatService.addGroupMembers(this.selectedUser._id,t).subscribe({next:i=>{this.selectedUser&&(this.selectedUser.participants=i.members.map(n=>n._id||n),this.toastService.show(`${t.length} members added via backend`)),this.closeAddMembersModal()},error:i=>{console.error("Failed to add members:",i),this.toastService.show("Failed to add members")}})}}else this.toastService.show("Select at least one member")}getParticipantInfo(t){return this.users.find(i=>i._id===t)}showNewGroupModal=!1;newGroupStep=1;newGroupName="";selectedParticipants=new Set;groupSearchQuery="";newGroupIconPreview=null;selectedGroupIconFile=null;openNewGroupModal(){this.showNewGroupModal=!0,this.newGroupStep=1,this.selectedParticipants.clear(),this.newGroupName="",this.groupSearchQuery="",this.newGroupIconPreview=null,this.selectedGroupIconFile=null}closeNewGroupModal(){this.showNewGroupModal=!1}get filteredGroupUsers(){const t=this.currentUser,i=this.groupSearchQuery.toLowerCase().trim();return this.users.filter(n=>!n.isGroup&&n._id?.toString()!==t?._id?.toString()&&n.username?.toLowerCase()!==t?.username?.toLowerCase()&&n.email?.toLowerCase()!==t?.email?.toLowerCase()&&(!i||n.fullName&&n.fullName.toLowerCase().includes(i)||n.username&&n.username.toLowerCase().includes(i)))}toggleParticipant(t){this.selectedParticipants.has(t)?this.selectedParticipants.delete(t):this.selectedParticipants.add(t)}nextGroupStep(){0!==this.selectedParticipants.size?this.newGroupStep=2:this.toastService.show("Select at least one participant")}onGroupIconSelected(t){const i=t.target.files[0];if(i){this.selectedGroupIconFile=i;const n=new FileReader;n.onload=()=>{this.newGroupIconPreview=n.result},n.readAsDataURL(i)}}createGroup(){if(!this.newGroupName.trim())return void this.toastService.show("Enter a group name");const t=Array.from(this.selectedParticipants);this.chatService.createGroup({name:this.newGroupName,members:t,avatar:this.newGroupIconPreview||void 0}).subscribe({next:n=>{const s={_id:n._id,username:n.name,fullName:n.name,email:"",avatar:n.avatar,isOnline:!0,isGroup:!0,participants:n.members.map(a=>a._id||a)};this.users.unshift(s),this.selectUser(s),this.toastService.show(`Group "${this.newGroupName}" created!`),this.closeNewGroupModal()},error:n=>{console.error("Create group failed:",n),this.toastService.show("Failed to create group")}})}toggleMuteChat(){if(!this.selectedUser)return;const t=this.selectedUser._id;this.mutedChats.has(t)?(this.mutedChats.delete(t),this.toastService.show("Notifications unmuted")):(this.mutedChats.add(t),this.toastService.show("Notifications muted"))}clearChat(){if(this.selectedUser&&confirm(`Clear all messages with ${this.selectedUser.fullName||this.selectedUser.username}?\n\nThis will only remove messages from your view.`)){const i=this.messages.length;this.messages=[],this.toastService.show(`${i} message(s) cleared`),this.cdr.detectChanges()}}isSelectMode=!1;selectedMessages=new Set;enableSelectMode(){this.isSelectMode=!0,this.selectedMessages.clear(),this.toastService.show("Select messages to delete, copy or forward")}cancelSelectMode(){this.isSelectMode=!1,this.selectedMessages.clear()}toggleMessageSelection(t){this.selectedMessages.has(t._id)?this.selectedMessages.delete(t._id):this.selectedMessages.add(t._id)}copySelectedMessages(){if(0===this.selectedMessages.size)return;const i=this.messages.filter(n=>this.selectedMessages.has(n._id)).map(n=>n.content||"[Media]").join("\n");navigator.clipboard.writeText(i).then(()=>{this.toastService.show("Messages copied!"),this.cancelSelectMode()}).catch(()=>{this.toastService.show("Failed to copy messages")})}forwardSelectedMessages(){0!==this.selectedMessages.size&&this.toastService.show("Forward feature coming soon!")}deleteSelectedMessages(){if(0===this.selectedMessages.size)return;const t=this.selectedMessages.size;this.confirmTitle="Delete Messages?",this.confirmMessage=`Are you sure you want to delete ${t} selected message(s)? This action cannot be undone.`,this.confirmAction=()=>{this.messages=this.messages.filter(i=>!this.selectedMessages.has(i._id)),this.toastService.show(`${t} message(s) deleted`),this.cancelSelectMode(),this.cdr.detectChanges()},this.showConfirmModal=!0}showPollModal=!1;pollQuestion="";pollOptions=["",""];pollAllowMultiple=!1;openPollModal(){this.showPollModal=!0,this.pollQuestion="",this.pollOptions=["",""],this.pollAllowMultiple=!1}closePollModal(){this.showPollModal=!1}addPollOption(){this.pollOptions.length<10&&this.pollOptions.push("")}removePollOption(t){this.pollOptions.length>2&&this.pollOptions.splice(t,1)}canSendPoll(){const t=this.pollQuestion.trim().length>0,i=this.pollOptions.filter(n=>n.trim().length>0);return t&&i.length>=2}sendPoll(){if(!this.canSendPoll()||!this.selectedUser||!this.currentUser)return;const t=this.pollOptions.filter(a=>a.trim().length>0),i=JSON.stringify({type:"poll",question:this.pollQuestion.trim(),options:t.map(a=>({text:a.trim(),votes:[]})),allowMultiple:this.pollAllowMultiple,createdBy:this.currentUser._id}),n="temp-"+Date.now();this.messages.push({_id:n,localId:n,sender:this.currentUser,receiver:this.selectedUser,content:i,messageType:"poll",delivered:!1,seen:!1,createdAt:new Date,updatedAt:new Date}),this.shouldScrollToBottom=!0,this.cdr.detectChanges(),this.socketService.sendMessage({senderId:this.currentUser._id,receiverId:this.selectedUser._id,content:i,messageType:"poll"}),this.closePollModal(),this.toastService.show("Poll sent!")}getPollData(t){try{return t.content?JSON.parse(t.content):null}catch{return null}}trackByIndex(t,i){return t}pollVotes=new Map;isPollOptionSelected(t,i){return this.pollVotes.get(t)===i}votePollOption(t,i){const n=this.getPollData(t);if(!n)return;const s=this.pollVotes.get(t._id)===i;s?this.pollVotes.delete(t._id):this.pollVotes.set(t._id,i),this.currentUser&&(n.options.forEach((a,c)=>{a.votes=a.votes||[];const l=a.votes.indexOf(this.currentUser._id);c===i?-1===l?a.votes.push(this.currentUser._id):s&&a.votes.splice(l,1):n.allowMultiple||l>-1&&a.votes.splice(l,1)}),t.content=JSON.stringify(n)),this.toastService.show(s?"Vote removed":"Vote recorded!"),this.cdr.detectChanges()}getTotalPollVotes(t){const i=this.getPollData(t);if(!i)return 0;const n=new Set;return i.options.forEach(s=>{s.votes&&s.votes.forEach(a=>n.add(a))}),n.size}showForwardModal=!1;forwardSearchQuery="";get filteredForwardUsers(){if(!this.forwardSearchQuery.trim())return this.users;const t=this.forwardSearchQuery.toLowerCase();return this.users.filter(i=>i.fullName&&i.fullName.toLowerCase().includes(t)||i.username&&i.username.toLowerCase().includes(t))}openForwardModal(){0!==this.selectedMessages.size?this.showForwardModal=!0:this.toastService.show("Select messages to forward first")}closeForwardModal(){this.showForwardModal=!1,this.forwardSearchQuery=""}forwardToUser(t){const i=this.messages.filter(n=>this.selectedMessages.has(n._id));i.forEach(n=>{this.socketService.sendMessage({senderId:this.currentUser._id,receiverId:t._id,content:n.content,messageType:n.messageType})}),this.closeForwardModal(),this.cancelSelectMode(),this.toastService.show(`Forwarded ${i.length} message(s) to ${t.fullName||t.username}`)}onMessageContextMenu(t,i){t.preventDefault(),this.contextMenuMessage=i;let c=t.clientX,l=t.clientY;const u=window.innerWidth,g=window.innerHeight;c+240+10>u&&(c=u-240-10),l+400+10>g&&(l=g-400-10),this.contextMenuPosition={x:c,y:l},this.showContextMenu=!0;const v=()=>{this.closeContextMenu(),document.removeEventListener("click",v)};setTimeout(()=>document.addEventListener("click",v),10)}closeContextMenu(){this.showContextMenu=!1,this.contextMenuMessage=null}reactToMessage(t,i){if(!this.currentUser)return;i.reactions||(i.reactions=[]);const n=i.reactions.findIndex(s=>s.userId===this.currentUser._id);n>-1?i.reactions[n].emoji===t?i.reactions.splice(n,1):i.reactions[n].emoji=t:i.reactions.push({emoji:t,userId:this.currentUser._id}),this.socketService.sendReaction({messageId:i._id,emoji:t,userId:this.currentUser._id,receiverId:this.selectedUser._id}),this.closeContextMenu(),this.cdr.detectChanges()}copyMessageText(t){t.content&&(navigator.clipboard.writeText(t.content).then(()=>{this.toastService.show("Message copied!")}),this.closeContextMenu())}deleteMessage(t){this.confirmTitle="Delete Message?",this.confirmMessage="Are you sure you want to delete this message? This action cannot be undone.",this.confirmAction=()=>{this.messages=this.messages.filter(i=>i._id!==t._id),this.toastService.show("Message deleted")},this.showConfirmModal=!0,this.closeContextMenu()}closeConfirmModal(){this.showConfirmModal=!1}executeConfirmAction(){this.confirmAction(),this.closeConfirmModal()}forwardMessage(t){this.selectedMessages.clear(),this.selectedMessages.add(t._id),this.openForwardModal(),this.closeContextMenu()}starMessage(t){t.isStarred=!t.isStarred,this.toastService.show(t.isStarred?"Message starred":"Message unstarred"),this.closeContextMenu()}pinMessage(t){t.isPinned=!t.isPinned,this.toastService.show(t.isPinned?"Message pinned":"Message unpinned"),this.closeContextMenu()}viewMessageInfo(t){this.selectedMessageInfo=t,this.showMessageInfoModal=!0,this.closeContextMenu()}closeMessageInfoModal(){this.showMessageInfoModal=!1,this.selectedMessageInfo=null}handleImageError(t){t.target.style.display="none";const i=t.target.parentElement;if(i){const n=i.querySelector(".avatar-fallback");n&&(n.style.display="flex")}}openContactInfo(){this.showContactInfo=!0}closeContactInfo(){this.showContactInfo=!1}blockUser(){this.toastService.show(`Blocked ${this.selectedUser?.fullName||this.selectedUser?.username}`),this.closeContactInfo()}static \u0275fac=function(i){return new(i||o)(e.rXU(Ft.u),e.rXU(ke),e.rXU(Tt),e.rXU(Rt),e.rXU(Et.Ix),e.rXU(Gt.f),e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:o,selectors:[["app-chat"]],viewQuery:function(i,n){if(1&i&&(e.GBs(Vt,5),e.GBs(Nt,5),e.GBs(Bt,5),e.GBs(At,5),e.GBs(Ut,5),e.GBs(Xt,5)),2&i){let s;e.mGM(s=e.lsd())&&(n.messagesContainer=s.first),e.mGM(s=e.lsd())&&(n.callModal=s.first),e.mGM(s=e.lsd())&&(n.documentInput=s.first),e.mGM(s=e.lsd())&&(n.photoInput=s.first),e.mGM(s=e.lsd())&&(n.audioInput=s.first),e.mGM(s=e.lsd())&&(n.cameraInput=s.first)}},hostBindings:function(i,n){1&i&&e.bIt("click",function(){return n.closeNotifDropdowns()},!1,e.EBC)},standalone:!0,features:[e.aNF],decls:52,vars:38,consts:[["fileInput",""],["callModal",""],["messagesContainer",""],["documentInput",""],["photoInput",""],["audioInput",""],["cameraInput",""],["groupIconInput",""],[1,"chat-container"],[1,"sidebar"],[1,"sidebar-header"],[1,"user-info"],["type","file","accept","image/*",2,"display","none",3,"change"],["title","View Profile",1,"avatar-container",3,"click"],["class","avatar",4,"ngIf"],["class","avatar-img",3,"src","alt","error",4,"ngIf"],[1,"edit-overlay"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"],["cx","12","cy","13","r","4"],[1,"username"],[1,"header-actions"],["title","Settings",1,"icon-btn",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["cx","12","cy","12","r","3"],["d","M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"],[1,"search-box"],["width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["cx","11","cy","11","r","8"],["d","m21 21-4.35-4.35"],["type","text","placeholder","Search or start new chat",3,"ngModelChange","ngModel"],[1,"users-list"],["class","user-item",3,"active","click",4,"ngFor","ngForOf"],["class","no-users",4,"ngIf"],[1,"chat-area"],[1,"chat-wallpaper"],["class","no-chat",4,"ngIf"],[4,"ngIf"],["class","modal-overlay",4,"ngIf"],["class","settings-overlay",3,"click",4,"ngIf"],["class","locked-overlay",4,"ngIf"],["class","wallpaper-modal-overlay",3,"click",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],["class","modal-overlay sidebar-overlay",3,"click",4,"ngIf"],["class","msg-context-menu",3,"left","top","click",4,"ngIf"],["class","modal-overlay emoji-picker-overlay",3,"click",4,"ngIf"],[1,"avatar"],[1,"avatar-img",3,"error","src","alt"],[1,"user-item",3,"click"],[1,"user-avatar"],["class","avatar-img","style","width: 100%; height: 100%; border-radius: 50%; object-fit: cover;",3,"src","error",4,"ngIf"],[1,"avatar-fallback",2,"width","100%","height","100%","align-items","center","justify-content","center"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",4,"ngIf"],["class","status-dot",3,"online",4,"ngIf"],[1,"user-details"],[1,"user-name"],[1,"user-status"],["class","unread-badge",4,"ngIf"],[1,"avatar-img",2,"width","100%","height","100%","border-radius","50%","object-fit","cover",3,"error","src"],["d","M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"],["cx","9","cy","7","r","4"],["d","M23 21v-2a4 4 0 0 0-3-3.87"],["d","M16 3.13a4 4 0 0 1 0 7.75"],[1,"status-dot"],[1,"unread-badge"],[1,"no-users"],[1,"no-chat"],[1,"no-chat-content","animate-fade-in"],["width","80","height","80","viewBox","0 0 24 24","fill","none","stroke","url(#gradient)","stroke-width","1.5"],["id","gradient","x1","0","y1","0","x2","24","y2","24","gradientUnits","userSpaceOnUse"],["offset","0%","stop-color","#3b82f6"],["offset","100%","stop-color","#8b5cf6"],["d","M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"],[1,"chat-header"],[1,"chat-user-info-group"],[1,"back-btn",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","m15 18-6-6 6-6"],[1,"chat-user-avatar",2,"cursor","pointer",3,"click"],["style","width:100%; height:100%; border-radius:14px; object-fit:cover;",3,"src","error",4,"ngIf"],["width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",4,"ngIf"],[1,"chat-user-text",2,"cursor","pointer",3,"click"],[1,"chat-user-name"],["width","14","height","14","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","style","margin-left: 5px; opacity: 0.6; display: inline-block; vertical-align: middle;",4,"ngIf"],[1,"chat-user-status"],[1,"call-dropdown-wrapper"],[1,"call-trigger-btn",3,"click"],["points","23 7 16 12 23 17 23 7"],["x","1","y","5","width","15","height","14","rx","2","ry","2"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"chevron"],["points","6 9 12 15 18 9"],["class","call-dropdown-menu",4,"ngIf"],["title","Search in chat",1,"header-icon-btn",3,"click"],["x1","21","y1","21","x2","16.65","y2","16.65"],[1,"more-menu-wrapper"],["title","More options",1,"header-icon-btn",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","currentColor"],["cx","12","cy","5","r","2"],["cx","12","cy","12","r","2"],["cx","12","cy","19","r","2"],["class","more-dropdown-menu",4,"ngIf"],["class","chat-search-bar",4,"ngIf"],[3,"currentUser"],[1,"messages-container"],["class","message",3,"id","sent","received","selecting","selected","click","contextmenu",4,"ngFor","ngForOf"],["class","no-messages","style","text-align:center; color:rgba(255,255,255,0.3); margin-top:40px;",4,"ngIf"],["class","selection-action-bar",4,"ngIf"],["class","message-input-container",4,"ngIf"],[2,"width","100%","height","100%","border-radius","14px","object-fit","cover",3,"error","src"],["width","14","height","14","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",2,"margin-left","5px","opacity","0.6","display","inline-block","vertical-align","middle"],["d","M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"],["d","M13.73 21a2 2 0 0 1-3.46 0"],["x1","1","y1","1","x2","23","y2","23"],["class","typing-indicator",4,"ngIf"],[1,"typing-indicator"],[1,"online-indicator"],[1,"call-dropdown-menu"],[1,"call-user-section"],[1,"call-user-avatar"],[3,"src",4,"ngIf"],[1,"call-user-name"],["width","14","height","14","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","style","margin-left: 5px; opacity: 0.6;",4,"ngIf"],[1,"call-buttons-row"],[1,"call-action-btn","voice",3,"click"],["d","M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"],[1,"call-action-btn","video",3,"click"],[1,"call-options-list"],[1,"call-option",3,"click"],["d","M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"],["d","M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"],["x","3","y","4","width","18","height","18","rx","2","ry","2"],["x1","16","y1","2","x2","16","y2","6"],["x1","8","y1","2","x2","8","y2","6"],["x1","3","y1","10","x2","21","y2","10"],[3,"src"],["width","14","height","14","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",2,"margin-left","5px","opacity","0.6"],[1,"more-dropdown-menu"],[1,"more-option",3,"click"],["points","9 11 12 14 22 4"],["d","M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"],[1,"more-option","divider"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"],[1,"chat-search-bar"],[1,"search-input-wrapper"],["type","text","placeholder","Search messages...","autofocus","",3,"ngModelChange","input","ngModel"],[1,"close-search-btn",3,"click"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],["class","search-results-info",4,"ngIf"],[1,"search-results-info"],["class","search-nav-btns",4,"ngIf"],[1,"search-nav-btns"],[3,"click","disabled"],["points","18 15 12 9 6 15"],[1,"message",3,"click","contextmenu","id"],["class","selection-checkbox",4,"ngIf"],[1,"message-bubble"],["class","quoted-message",3,"click",4,"ngIf"],["title","Reply",1,"message-reply-btn",3,"click"],["points","9 17 4 12 9 7"],["d","M20 18v-2a4 4 0 0 0-4-4H4"],["class","message-text",4,"ngIf"],["class","message-image",4,"ngIf"],["class","message-video",4,"ngIf"],["class","message-file","style","background: rgba(0,0,0,0.2); padding: 10px; border-radius: 8px;",4,"ngIf"],["class","message-audio",4,"ngIf"],["class","call-log-bubble",3,"click",4,"ngIf"],["class","poll-message",4,"ngIf"],[1,"message-meta"],["class","meta-icon pin","width","10","height","10","viewBox","0 0 24 24","fill","currentColor","style","margin-right: 4px; opacity: 0.6;",4,"ngIf"],["class","meta-icon star","width","10","height","10","viewBox","0 0 24 24","fill","currentColor","style","margin-right: 4px; opacity: 0.6; color: #ffbc00;",4,"ngIf"],[1,"message-time"],["class","message-status",4,"ngIf"],["class","message-reactions",4,"ngIf"],["class","upload-overlay","style","position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); border-radius: inherit; display: flex; align-items: center; justify-content: center; flex-direction: column;",4,"ngIf"],[1,"selection-checkbox"],[1,"checkbox"],["width","14","height","14","viewBox","0 0 24 24","fill","none","stroke","white","stroke-width","3",4,"ngIf"],["width","14","height","14","viewBox","0 0 24 24","fill","none","stroke","white","stroke-width","3"],["points","20 6 9 17 4 12"],[1,"quoted-message",3,"click"],[1,"quoted-sender"],[1,"quoted-text"],[1,"message-text"],[1,"message-image"],["alt","Image","title","Click to open","style","max-width: 150px; max-height: 200px; object-fit: cover; border-radius: 12px; cursor: pointer;",3,"src","click",4,"ngIf"],["class","media-placeholder",3,"click",4,"ngIf"],["alt","Image","title","Click to open",2,"max-width","150px","max-height","200px","object-fit","cover","border-radius","12px","cursor","pointer",3,"click","src"],[1,"media-placeholder",3,"click"],[1,"download-icon-wrapper"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","7 10 12 15 17 10"],["x1","12","y1","15","x2","12","y2","3"],[1,"message-video"],["controls","","style","max-width: 250px; max-height: 250px; border-radius: 12px;",3,"src",4,"ngIf"],["controls","",2,"max-width","250px","max-height","250px","border-radius","12px",3,"src"],[1,"message-file",2,"background","rgba(0,0,0,0.2)","padding","10px","border-radius","8px"],["target","_blank","style","text-decoration: none; color: inherit; display: flex; align-items: center; gap: 10px;",3,"href",4,"ngIf"],["class","media-placeholder small","style","display: flex; align-items: center; gap: 10px; cursor: pointer;",3,"click",4,"ngIf"],["target","_blank",2,"text-decoration","none","color","inherit","display","flex","align-items","center","gap","10px",3,"href"],[1,"file-icon"],["d","M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"],["points","13 2 13 9 20 9"],[1,"file-info",2,"display","flex","flex-direction","column"],[1,"file-name",2,"font-weight","500"],[1,"file-label",2,"font-size","0.8em","opacity","0.8"],[1,"media-placeholder","small",2,"display","flex","align-items","center","gap","10px","cursor","pointer",3,"click"],[1,"download-icon-wrapper","small"],[1,"message-audio"],["controls","","style","max-width: 200px;",3,"src",4,"ngIf"],["class","media-placeholder small",3,"click",4,"ngIf"],["controls","",2,"max-width","200px",3,"src"],[1,"media-placeholder","small",3,"click"],[1,"call-log-bubble",3,"click"],[1,"call-log-icon"],[1,"call-log-content"],[1,"call-log-title"],[1,"call-log-subtitle"],["d","M23 7l-7 5 7 5V7z"],["x1","1","y1","1","x2","23","y2","23","stroke","currentColor","stroke-width","2"],[1,"poll-message"],[1,"poll-question"],["class","poll-option",3,"selected","click",4,"ngFor","ngForOf"],[1,"poll-votes"],[1,"poll-option",3,"click"],[1,"option-radio"],["width","12","height","12","viewBox","0 0 24 24","fill","none","stroke","white","stroke-width","3",4,"ngIf"],[1,"option-text"],["class","vote-count",4,"ngIf"],["width","12","height","12","viewBox","0 0 24 24","fill","none","stroke","white","stroke-width","3"],[1,"vote-count"],["width","10","height","10","viewBox","0 0 24 24","fill","currentColor",1,"meta-icon","pin",2,"margin-right","4px","opacity","0.6"],["d","M5 17h14v-2c0-3.3-2.7-6-6-6V3.5h-4V9c-3.3 0-6 2.7-6 6v2z"],["width","10","height","10","viewBox","0 0 24 24","fill","currentColor",1,"meta-icon","star",2,"margin-right","4px","opacity","0.6","color","#ffbc00"],["points","12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"],[1,"message-status"],["class","tick seen",4,"ngIf"],["class","tick delivered",4,"ngIf"],["class","tick",4,"ngIf"],[1,"tick","seen"],[1,"tick","delivered"],[1,"tick"],[1,"message-reactions"],[1,"reaction-item"],["class","reaction-count",4,"ngIf"],[1,"reaction-count"],[1,"upload-overlay",2,"position","absolute","top","0","left","0","right","0","bottom","0","background","rgba(0,0,0,0.5)","border-radius","inherit","display","flex","align-items","center","justify-content","center","flex-direction","column"],[1,"spinner",2,"width","20px","height","20px","border","2px solid rgba(255,255,255,0.3)","border-radius","50%","border-top-color","#fff","animation","spin 1s ease-in-out infinite","margin-bottom","5px"],[2,"color","white","font-size","0.7em","font-weight","bold"],[1,"no-messages",2,"text-align","center","color","rgba(255,255,255,0.3)","margin-top","40px"],[1,"selection-action-bar"],[1,"selection-info"],[1,"cancel-select-btn",3,"click"],[1,"selected-count"],[1,"selection-actions"],["title","Copy",1,"selection-action-btn",3,"click","disabled"],["x","9","y","9","width","13","height","13","rx","2","ry","2"],["d","M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"],["title","Forward",1,"selection-action-btn",3,"click","disabled"],["points","15 17 20 12 15 7"],["d","M4 18v-2a4 4 0 0 1 4-4h12"],["title","Delete",1,"selection-action-btn","delete",3,"click","disabled"],[1,"message-input-container"],["class","reply-preview-bar",4,"ngIf"],["class","emoji-picker",4,"ngIf"],["class","attachment-menu",4,"ngIf"],[1,"input-wrapper"],["title","Attach File",1,"action-btn",3,"click"],["d","M12 5v14M5 12h14"],["type","file","accept",".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.zip,.rar",2,"display","none",3,"change"],["type","file","accept","image/*,video/*",2,"display","none",3,"change"],["type","file","accept","audio/*",2,"display","none",3,"change"],["type","file","accept","image/*","capture","environment",2,"display","none",3,"change"],["title","Emoji",1,"action-btn",3,"click"],["cx","12","cy","12","r","10"],["d","M8 14s1.5 2 4 2 4-2 4-2"],["x1","9","y1","9","x2","9.01","y2","9"],["x1","15","y1","9","x2","15.01","y2","9"],["type","text",3,"ngModelChange","keyup.enter","input","placeholder","ngModel","disabled"],["class","action-btn",3,"title","color","animation","click",4,"ngIf"],["class","send-btn",3,"click",4,"ngIf"],[1,"reply-preview-bar"],[1,"reply-indicator"],[1,"reply-content"],[1,"reply-sender"],[1,"reply-text"],[1,"reply-close",3,"click"],[1,"emoji-picker"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"attachment-menu"],[1,"attachment-option",3,"click"],[1,"attachment-icon","document"],[1,"attachment-icon","photos"],["x","3","y","3","width","18","height","18","rx","2","ry","2"],["cx","8.5","cy","8.5","r","1.5"],["points","21 15 16 10 5 21"],[1,"attachment-icon","audio"],["d","M9 18V5l12-2v13"],["cx","6","cy","18","r","3"],["cx","18","cy","16","r","3"],[1,"attachment-icon","poll"],["x1","18","y1","20","x2","18","y2","10"],["x1","12","y1","20","x2","12","y2","4"],["x1","6","y1","20","x2","6","y2","14"],[1,"action-btn",3,"click","title"],["d","M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"],["d","M19 10v2a7 7 0 0 1-14 0v-2"],["x1","12","y1","19","x2","12","y2","23"],["x1","8","y1","23","x2","16","y2","23"],["x","6","y","6","width","12","height","12","rx","2","fill","currentColor"],[1,"send-btn",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none"],["d","M22 2L11 13","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M22 2L15 22L11 13L2 9L22 2Z","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"modal-overlay"],[1,"preview-modal","animate-scale-in"],[1,"preview-header"],[1,"close-btn",3,"click"],[1,"preview-content"],["alt","Preview",3,"src",4,"ngIf"],["controls","","style","max-width: 100%; max-height: 300px;",3,"src",4,"ngIf"],["class","file-icon",4,"ngIf"],[1,"preview-actions"],[1,"cancel-btn",3,"click"],[1,"confirm-btn",3,"click"],["x1","22","y1","2","x2","11","y2","13"],["points","22 2 15 22 11 13 2 9 22 2"],["alt","Preview",3,"src"],["controls","",2,"max-width","100%","max-height","300px",3,"src"],["width","60","height","60","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5"],[1,"poll-modal","animate-scale-in"],[1,"poll-header"],[1,"send-poll-btn",3,"click","disabled"],[1,"poll-content"],[1,"poll-question-section"],["type","text","placeholder","Ask a question","maxlength","200",3,"ngModelChange","ngModel"],[1,"char-count"],[1,"poll-options-section"],["class","poll-option-item",4,"ngFor","ngForOf","ngForTrackBy"],["class","add-option-btn",3,"click",4,"ngIf"],[1,"poll-settings-section"],[1,"poll-setting"],[1,"toggle-switch"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"toggle-slider"],[1,"poll-option-item"],["type","text","maxlength","100",3,"ngModelChange","ngModel","placeholder"],["class","remove-option-btn",3,"click",4,"ngIf"],[1,"remove-option-btn",3,"click"],[1,"add-option-btn",3,"click"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"],[1,"settings-overlay",3,"click"],[1,"settings-modal",3,"click"],[1,"settings-header"],[1,"setting-search-container"],["type","text","placeholder","Search settings",1,"settings-search"],[1,"settings-content"],[1,"settings-profile-card",3,"click"],[1,"profile-avatar-large"],["style","width: 100%; height: 100%; object-fit: cover;",3,"src",4,"ngIf"],[1,"profile-info"],[1,"profile-status"],[1,"settings-menu"],[1,"menu-item",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"menu-icon"],["x1","3","y1","9","x2","21","y2","9"],[1,"menu-text"],["d","M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"],["x","3","y","11","width","18","height","11","rx","2","ry","2"],["d","M7 11V7a5 5 0 0 1 10 0v4"],["d","M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"],[1,"menu-item","logout-item",3,"click"],["d","M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"],["points","16,17 21,12 16,7"],["x1","21","y1","12","x2","9","y2","12"],[2,"width","100%","height","100%","object-fit","cover",3,"src"],[1,"settings-header","profile-header"],["viewBox","0 0 24 24","height","24","width","24","preserveAspectRatio","xMidYMid meet","fill","none","stroke","currentColor","stroke-width","2.5",1,""],["d","M20 12H4"],["d","M10 18l-6-6 6-6"],[1,"header-title"],[1,"settings-content","profile-content-premium","animate-fade-in"],[1,"profile-section-centered"],[1,"profile-avatar-large-wrapper",3,"click"],["class","large-avatar",4,"ngIf"],["class","large-avatar-img","alt","Profile Picture",3,"src",4,"ngIf"],[1,"edit-icon-overlay"],["width","32","height","32","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["type","file","hidden","","accept","image/*",3,"change"],[1,"profile-section-group"],[1,"profile-section"],[1,"section-label"],["class","edit-field",4,"ngIf"],["class","edit-input-wrapper animate-slide-in-right",4,"ngIf"],[1,"section-note"],[1,"divider-inset"],[1,"large-avatar"],["alt","Profile Picture",1,"large-avatar-img",3,"src"],[1,"edit-field"],[1,"field-value"],["title","Edit Name",1,"edit-btn",3,"click"],["viewBox","0 0 24 24","height","24","width","24","preserveAspectRatio","xMidYMid meet","fill","currentColor","enable-background","new 0 0 24 24",1,""],["d","M3.95,16.7v3.4h3.4l9.8-9.9l-3.4-3.4L3.95,16.7z M19.75,7.6c0.4-0.4,0.4-0.9,0-1.3l-2.1-2.1c-0.4-0.4-0.9-0.4-1.3,0l-1.6,1.6l3.4,3.4L19.75,7.6z"],[1,"edit-input-wrapper","animate-slide-in-right"],["type","text","maxlength","100","autofocus","",3,"ngModelChange","keyup.enter","keyup.escape","ngModel"],[1,"edit-actions"],["title","Cancel",1,"action-btn","cancel",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["title","Save",1,"action-btn","save",3,"click"],["title","Edit About",1,"edit-btn",3,"click"],["rows","3","maxlength","1500","autofocus","",1,"edit-textarea",3,"ngModelChange","keyup.enter","keyup.escape","ngModel"],["x1","19","y1","12","x2","5","y2","12"],["points","12 19 5 12 12 5"],[1,"settings-section"],[1,"setting-row",3,"click"],[1,"setting-info"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"chevron-icon"],["points","9 18 15 12 9 6"],[1,"divider"],[1,"checkbox-row"],[1,"checkbox-info"],[1,"switch-container"],["type","checkbox",1,"switch-input",3,"ngModelChange","change","ngModel"],[1,"switch-slider"],[1,"setting-row","radio-row",3,"click"],[1,"description"],[1,"custom-radio"],[1,"radio-outer"],["class","radio-inner",4,"ngIf"],[1,"radio-inner"],[1,"description",2,"padding","0 20px","color","#8696a0","font-size","14px"],[1,"setting-row",2,"margin-top","20px","color","#8696a0",3,"click"],[1,"setting-info",2,"display","flex","align-items","center","gap","10px"],["d","M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"],["d","M3 3v5h5"],["type","checkbox",1,"switch-input",3,"ngModelChange","ngModel"],[1,"custom-select-box",3,"click"],[1,"selected-value"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"chevron-down"],["class","custom-dropdown-menu floating",4,"ngIf"],[1,"help-text",2,"display","block","margin-top","8px","color","var(--text-secondary)","font-size","13px"],[1,"custom-dropdown-menu","floating"],[1,"dropdown-item",3,"click"],["d","M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"],["d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"],["points","14 2 14 8 20 8"],["x1","16","y1","13","x2","8","y2","13"],["x1","16","y1","17","x2","8","y2","17"],["points","10 9 9 9 8 9"],[1,"menu-item"],["x1","12","y1","16","x2","12","y2","12"],["x1","12","y1","8","x2","12.01","y2","8"],[1,"security-hero"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5",1,"security-icon"],["x","3","y","11","width","18","height","11","rx","2","ry","2","fill","#10b981","fill-opacity","0.1"],[1,"privacy-list"],[1,"privacy-item"],["d","M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"],["cx","12","cy","10","r","3"],["cx","12","cy","12","r","6"],[1,"learn-more"],[1,"security-footer"],[2,"margin-bottom","8px"],[1,"info-card"],[1,"info-icon"],["points","12 6 12 12 16 14"],[1,"info-text"],[1,"help-text",2,"color","#94a3b8","font-size","13px","line-height","1.5","margin-bottom","32px"],[1,"report-item"],[1,"help-text",2,"color","#94a3b8","font-size","13px","line-height","1.5","margin-top","24px"],[1,"section-title"],[1,"setting-row","dropdown-container",3,"click"],["class","custom-dropdown-menu floating-left",4,"ngIf"],[1,"setting-row","no-hover"],[2,"display","flex","align-items","center"],[2,"color","#94a3b8","font-size","14px","margin-right","8px"],[1,"custom-dropdown-menu","floating-left"],["class","custom-dropdown-menu",4,"ngIf"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"tone-icon"],[1,"custom-dropdown-menu"],["class","dropdown-item",3,"selected","click",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["class","dropdown-item","style","cursor: default; opacity: 0.6;",4,"ngIf"],[1,"dropdown-item",2,"cursor","default","opacity","0.6"],[1,"lock-hero"],[1,"lock-icon-container"],["viewBox","0 0 24 24","fill","currentColor",1,"lock-icon-large"],["d","M12 2C9.243 2 7 4.243 7 7v3H6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2h-1V7c0-2.757-2.243-5-5-5zm6 10v8H6v-8h12zm-9-5V7c0-1.654 1.346-3 3-3s3 1.346 3 3v3H9z"],[1,"lock-badge"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","3"],[1,"lock-title"],[1,"lock-description"],[1,"lock-footer"],[1,"set-password-modal","animate-scale-in"],[1,"input-group"],["type","password","placeholder","Enter password",1,"password-input",3,"ngModelChange","ngModel"],[1,"input-line"],["type","password","placeholder","Re-enter password",1,"password-input",3,"ngModelChange","ngModel"],[1,"password-hint"],[1,"modal-actions"],[1,"cancel-text-btn",3,"click"],[1,"ok-btn",3,"click"],[1,"password-set-modal","animate-scale-in"],[1,"success-text"],[1,"success-text","sub"],[1,"modal-actions-spread"],[1,"done-text-btn",3,"click"],[1,"lock-now-btn",3,"click"],[1,"locked-overlay"],[1,"locked-content","animate-fade-in"],[1,"locked-avatar"],["alt","Avatar",3,"src",4,"ngIf"],["class","default-initial",4,"ngIf"],[1,"locked-username"],[1,"locked-message"],[1,"unlock-input-wrapper"],["placeholder","Enter password",3,"ngModelChange","keyup.enter","type","ngModel"],[1,"visibility-toggle",3,"click"],[1,"input-line","active"],[1,"unlock-btn",3,"click"],[1,"locked-footer"],[1,"forgot-link"],[1,"logout-hint"],[1,"logout-link",3,"click"],["alt","Avatar",3,"src"],[1,"default-initial"],["d","M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"],["d","M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"],[1,"theme-modal","animate-scale-in"],[1,"radio-option",3,"click"],[1,"radio-circle"],[1,"theme-modal","animate-scale-in",2,"max-width","350px"],[2,"color","var(--text-secondary)","margin","15px 0 25px","line-height","1.5"],[1,"wallpaper-modal-overlay",3,"click"],[1,"wallpaper-modal","animate-scale-in",3,"click"],[1,"wallpaper-header"],[1,"preview-container"],[1,"mini-preview"],[1,"mock-bubble","received"],[1,"mock-bubble","sent"],[1,"wallpaper-content"],[1,"doodle-option"],[1,"checkbox-container"],[1,"checkmark"],[1,"wallpaper-section-title"],[1,"wallpaper-grid"],[1,"wallpaper-item","upload-item",3,"click"],[1,"upload-icon"],["points","17 8 12 3 7 8"],["x1","12","y1","3","x2","12","y2","15"],["class","wallpaper-item",3,"background-color","selected","click",4,"ngFor","ngForOf"],[1,"wallpaper-actions"],[1,"checkbox-container","footer-doodle-checkbox"],[2,"flex","1"],[1,"wallpaper-item",3,"click"],[1,"modal-overlay",3,"click"],[1,"forward-modal","animate-scale-in",3,"click"],[1,"forward-header"],[1,"forward-search"],["type","text","placeholder","Search contacts",3,"ngModelChange","ngModel"],[1,"forward-users-list"],["class","forward-user-item",3,"click",4,"ngFor","ngForOf"],["class","no-results",4,"ngIf"],[1,"forward-user-item",3,"click"],[1,"forward-send-btn"],[1,"no-results"],[1,"group-modal","animate-scale-in",3,"click"],[1,"group-header"],[1,"modal-back-btn",3,"click"],[1,"header-text"],[1,"sub-text"],[1,"next-step-btn",3,"click","disabled"],["width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2.5"],[1,"group-search"],["class","selected-tags",4,"ngIf"],["type","text","placeholder","Type contact name",3,"ngModelChange","ngModel"],[1,"group-users-list"],["class","group-user-item",3,"selected","click",4,"ngFor","ngForOf"],[1,"selected-tags"],["class","participant-tag",4,"ngFor","ngForOf"],[1,"participant-tag"],[1,"remove-tag",3,"click"],[1,"group-user-item",3,"click"],["alt","Avatar",3,"src","error",4,"ngIf"],[1,"avatar-fallback"],[1,"custom-checkbox"],["width","14","height","14","viewBox","0 0 24 24","fill","none","stroke","white","stroke-width","4",4,"ngIf"],["alt","Avatar",3,"error","src"],["width","14","height","14","viewBox","0 0 24 24","fill","none","stroke","white","stroke-width","4"],["points","15 18 9 12 15 6"],[1,"create-group-btn",3,"click","disabled"],[1,"group-setup-content"],[1,"group-icon-setup",3,"click"],[1,"group-icon-placeholder"],["style","width: 100%; height: 100%; border-radius: 50%; object-fit: cover;",3,"src",4,"ngIf"],["width","40","height","40","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5",4,"ngIf"],[1,"group-name-input"],["type","text","placeholder","Group Subject","maxlength","25",3,"ngModelChange","ngModel"],[1,"char-countdown"],[1,"participants-summary"],[1,"participants-grid"],["class","participant-thumb",4,"ngFor","ngForOf"],[2,"width","100%","height","100%","border-radius","50%","object-fit","cover",3,"src"],["width","40","height","40","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5"],[1,"participant-thumb"],["class","thumb-container",4,"ngIf"],[1,"thumb-container"],[1,"avatar-sm"],[1,"name-sm"],[1,"modal-overlay","sidebar-overlay",3,"click"],[1,"sidebar-panel","animate-slide-in-right",3,"click"],[1,"group-info-header"],["d","M19 12H5"],["d","M12 19l-7-7 7-7"],[1,"header-titles"],[1,"search-btn"],[1,"group-info-content"],[1,"group-info-main"],[1,"group-large-avatar"],["width","60","height","60","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5",4,"ngIf"],[1,"group-status-text"],[1,"group-info-section"],[1,"participant-actions"],[1,"action-item",3,"click"],[1,"action-icon","green"],["d","M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"],["x1","19","y1","8","x2","19","y2","14"],["x1","22","y1","11","x2","16","y2","11"],[1,"action-text"],[1,"action-item"],[1,"participants-list"],[1,"participant-item"],[3,"src","error",4,"ngIf"],[1,"user-name-row"],[1,"admin-badge"],[1,"user-bio"],["class","participant-item",4,"ngFor","ngForOf"],[1,"group-info-actions"],[1,"exit-action-btn",3,"click"],["points","16 17 21 12 16 7"],[3,"error","src"],[1,"modal-actions",2,"display","flex","gap","10px","justify-content","flex-end"],[1,"cancel-btn-outline",2,"background","none","border","1px solid var(--border-subtle)","color","var(--text-main)","padding","8px 20px","border-radius","8px","cursor","pointer",3,"click"],[1,"ok-btn",2,"background","#f15c6d","color","white",3,"click"],[1,"theme-modal","animate-scale-in",2,"max-width","450px","height","80vh","display","flex","flex-direction","column",3,"click"],[1,"modal-header",2,"padding-bottom","20px","border-bottom","1px solid var(--border-subtle)"],[2,"margin","0"],[2,"flex","1","overflow-y","auto","padding","20px 0"],["class","user-selection-item","style","display: flex; align-items: center; gap: 15px; padding: 12px 20px; cursor: pointer; transition: background 0.2s;",3,"selected","click",4,"ngFor","ngForOf"],["style","text-align: center; padding: 40px; color: var(--text-muted);",4,"ngIf"],[1,"modal-footer",2,"padding-top","20px","border-top","1px solid var(--border-subtle)","display","flex","justify-content","flex-end","gap","10px"],[1,"cancel-btn-outline",2,"background","none","border","1px solid var(--border-subtle)","color","var(--text-main)","padding","10px 25px","border-radius","8px","cursor","pointer",3,"click"],[1,"ok-btn",3,"click","disabled"],[1,"user-selection-item",2,"display","flex","align-items","center","gap","15px","padding","12px 20px","cursor","pointer","transition","background 0.2s",3,"click"],[1,"user-avatar",2,"width","45px","height","45px","border-radius","50%","background","var(--glass-light)","display","flex","align-items","center","justify-content","center","overflow","hidden","color","var(--text-main)"],["style","width: 100%; height: 100%; object-fit: cover;",3,"src","error",4,"ngIf"],[2,"color","var(--text-main)","font-weight","500"],[2,"color","var(--text-muted)","font-size","0.85rem"],[1,"custom-checkbox",2,"width","20px","height","20px","border","2px solid var(--border-subtle)","border-radius","4px","display","flex","align-items","center","justify-content","center"],["width","12","height","12","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","3",4,"ngIf"],[2,"width","100%","height","100%","object-fit","cover",3,"error","src"],["width","12","height","12","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","3"],[2,"text-align","center","padding","40px","color","var(--text-muted)"],[1,"theme-modal","animate-scale-in",2,"max-width","400px","text-align","center",3,"click"],[2,"margin-bottom","20px"],[2,"color","var(--text-muted)","margin-bottom","25px"],[2,"background","white","padding","15px","border-radius","12px","display","inline-block","margin-bottom","25px"],["alt","Group Invite QR Code",2,"width","150px","height","150px",3,"src"],[2,"background","var(--glass-light)","padding","15px","border-radius","10px","margin-bottom","25px","display","flex","align-items","center","gap","10px","border","1px dashed var(--border-subtle)"],[2,"flex","1","overflow","hidden","text-overflow","ellipsis","white-space","nowrap","font-family","monospace","font-size","0.9rem","color","var(--text-main)"],[2,"background","var(--accent-primary)","border","none","color","white","padding","6px 12px","border-radius","6px","cursor","pointer","font-size","0.8rem",3,"click"],[1,"ok-btn",2,"width","100%",3,"click"],[1,"msg-context-menu",3,"click"],[1,"reactions-row"],["class","reaction-btn",3,"click",4,"ngFor","ngForOf"],[1,"reaction-btn","more-btn",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2.5"],[1,"menu-divider"],["x1","12","y1","17","x2","12","y2","22"],[1,"menu-item","delete-item",3,"click"],[1,"reaction-btn",3,"click"],[1,"modal-overlay","emoji-picker-overlay",3,"click"],[1,"emoji-picker-modal","animate-scale-in",3,"click"],[1,"emoji-picker-header"],[1,"emoji-picker-content"],[1,"emoji-grid"],["class","emoji-btn",3,"click",4,"ngFor","ngForOf"],[1,"emoji-btn",3,"click"],[1,"theme-modal","animate-scale-in","confirm-modal",3,"click"],[1,"modal-title"],[1,"modal-message"],[1,"cancel-btn-outline",3,"click"],[1,"ok-btn","delete-btn",3,"click"],[1,"theme-modal","animate-scale-in","info-modal",3,"click"],[1,"modal-header"],["class","info-body",4,"ngIf"],[1,"modal-footer"],[1,"info-body"],[1,"info-row"],[1,"label"],[1,"value"],[1,"value","status"],["class","info-row",4,"ngIf"],[1,"value",2,"text-transform","capitalize"],[1,"group-large-avatar","contact-large-avatar"],["class","avatar-placeholder",4,"ngIf"],[1,"contact-quick-actions"],[1,"q-action","ripple",3,"click"],[1,"q-icon"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","#22c55e","stroke-width","2.5"],[1,"info-item"],[1,"info-label"],[1,"info-value","about-text"],["d","M18.36 6.64a9 9 0 1 1-12.73 0"],["x1","12","y1","2","x2","12","y2","12"],[1,"avatar-placeholder"]],template:function(i,n){if(1&i){const s=e.RV6();e.j41(0,"div",8)(1,"aside",9)(2,"div",10)(3,"div",11)(4,"input",12,0),e.bIt("change",function(c){return e.eBV(s),e.Njj(n.onFileSelected(c))}),e.k0s(),e.j41(6,"div",13),e.bIt("click",function(){return e.eBV(s),e.Njj(n.openSettings("profile"))}),e.DNE(7,$t,2,1,"div",14)(8,Dt,1,2,"img",15),e.j41(9,"div",16),e.qSk(),e.j41(10,"svg",17),e.nrm(11,"path",18)(12,"circle",19),e.k0s()()(),e.joV(),e.j41(13,"span",20),e.EFF(14),e.k0s()(),e.j41(15,"div",21)(16,"button",22),e.bIt("click",function(){return e.eBV(s),e.Njj(n.openSettings())}),e.qSk(),e.j41(17,"svg",23),e.nrm(18,"circle",24)(19,"path",25),e.k0s()()()(),e.joV(),e.j41(20,"div",26),e.qSk(),e.j41(21,"svg",27),e.nrm(22,"circle",28)(23,"path",29),e.k0s(),e.joV(),e.j41(24,"input",30),e.mxI("ngModelChange",function(c){return e.eBV(s),e.DH7(n.searchQuery,c)||(n.searchQuery=c),e.Njj(c)}),e.k0s()(),e.j41(25,"div",31),e.DNE(26,Jt,13,13,"div",32)(27,Wt,5,0,"div",33),e.k0s()(),e.j41(28,"main",34),e.nrm(29,"div",35),e.DNE(30,Qt,12,0,"div",36)(31,li,48,21,"ng-container",37),e.k0s(),e.DNE(32,gi,19,3,"div",38)(33,mi,32,7,"div",38)(34,bo,15,13,"div",39)(35,ko,21,2,"div",38)(36,Co,13,0,"div",38)(37,Po,24,7,"div",40)(38,Fo,24,3,"div",38)(39,To,9,1,"div",38)(40,Eo,42,9,"div",41),e.k0s(),e.DNE(41,Ao,12,3,"div",42)(42,ir,4,2,"div",42)(43,dr,75,10,"div",43)(44,pr,11,1,"div",42)(45,fr,15,4,"div",42)(46,mr,15,2,"div",42)(47,xr,58,7,"div",44)(48,kr,10,1,"div",45)(49,Cr,11,2,"div",42)(50,wr,11,1,"div",42)(51,Or,53,8,"div",43)}2&i&&(e.R7$(),e.AVh("mobile-hidden",n.selectedUser),e.R7$(6),e.Y8G("ngIf",!(null!=n.currentUser&&n.currentUser.avatar)),e.R7$(),e.Y8G("ngIf",null==n.currentUser?null:n.currentUser.avatar),e.R7$(6),e.JRh((null==n.currentUser?null:n.currentUser.fullName)||(null==n.currentUser?null:n.currentUser.username)),e.R7$(10),e.R50("ngModel",n.searchQuery),e.R7$(2),e.Y8G("ngForOf",n.filteredUsers),e.R7$(),e.Y8G("ngIf",0===n.users.length),e.R7$(),e.AVh("mobile-show",n.selectedUser),e.R7$(),e.xc7("background-color",n.chatSettings.wallpaper.color||"#0b141a")("background-image",n.chatSettings.wallpaper.image?"url("+n.chatSettings.wallpaper.image+")":null),e.AVh("has-doodles",n.chatSettings.wallpaper.doodles&&!n.chatSettings.wallpaper.image),e.R7$(),e.Y8G("ngIf",!n.selectedUser),e.R7$(),e.Y8G("ngIf",n.selectedUser),e.R7$(),e.Y8G("ngIf",n.previewFile),e.R7$(),e.Y8G("ngIf",n.showPollModal),e.R7$(),e.Y8G("ngIf",n.showSettings),e.R7$(),e.Y8G("ngIf",n.showSetPasswordModal),e.R7$(),e.Y8G("ngIf",n.showPasswordSetModal),e.R7$(),e.Y8G("ngIf",n.isAppLocked),e.R7$(),e.Y8G("ngIf",n.showThemeModal),e.R7$(),e.Y8G("ngIf",n.showPermissionModal),e.R7$(),e.Y8G("ngIf",n.showWallpaperModal),e.R7$(),e.Y8G("ngIf",n.showForwardModal),e.R7$(),e.Y8G("ngIf",n.showNewGroupModal),e.R7$(),e.Y8G("ngIf",n.showGroupInfo),e.R7$(),e.Y8G("ngIf",n.showExitGroupConfirm),e.R7$(),e.Y8G("ngIf",n.showAddMembersModal),e.R7$(),e.Y8G("ngIf",n.showInviteModal),e.R7$(),e.Y8G("ngIf",n.showContextMenu),e.R7$(),e.Y8G("ngIf",n.showEmojiPicker&&n.emojiPickerMessage),e.R7$(),e.Y8G("ngIf",n.showConfirmModal),e.R7$(),e.Y8G("ngIf",n.showMessageInfoModal),e.R7$(),e.Y8G("ngIf",n.showContactInfo))},dependencies:[k.MD,k.Sq,k.bT,k.vh,C.YN,C.me,C.Zm,C.BC,C.tU,C.vS,It],styles:['@import"https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap";[_nghost-%COMP%]{display:block;height:100vh;font-family:var(--font-display);background:var(--bg-deep);color:var(--text-main)}.chat-container[_ngcontent-%COMP%]{display:flex;height:100vh;background:var(--bg-deep);position:relative;overflow:hidden}.chat-container[_ngcontent-%COMP%]:before, .chat-container[_ngcontent-%COMP%]:after{content:"";position:absolute;width:600px;height:600px;border-radius:50%;filter:blur(120px);opacity:.2;z-index:0;pointer-events:none;animation:float 15s ease-in-out infinite}.chat-container[_ngcontent-%COMP%]:before{top:-200px;right:-200px;background:var(--primary-dark)}.chat-container[_ngcontent-%COMP%]:after{bottom:-200px;left:-200px;background:var(--accent-dark);animation-delay:-7s}.sidebar[_ngcontent-%COMP%]{width:380px;background:var(--glass-heavy);backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);border-right:1px solid var(--border-subtle);display:flex;flex-direction:column;z-index:10;position:relative;transition:transform .3s cubic-bezier(.4,0,.2,1)}.sidebar-header[_ngcontent-%COMP%]{padding:24px;display:flex;align-items:center;justify-content:space-between}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:14px}.avatar-container[_ngcontent-%COMP%]{width:52px;height:52px;position:relative;cursor:pointer}.avatar[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:18px;background:var(--grad-primary);display:flex;align-items:center;justify-content:center;font-size:20px;font-weight:700;color:#fff;box-shadow:0 8px 20px #00f2fe33;transition:transform .3s cubic-bezier(.34,1.56,.64,1)}.avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05) rotate(3deg)}.avatar-img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:18px;object-fit:cover}.edit-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;border-radius:18px;background:#00000080;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .2s;color:#fff}.avatar-container[_ngcontent-%COMP%]:hover   .edit-overlay[_ngcontent-%COMP%]{opacity:1}.username[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--text-main);letter-spacing:-.02em}.header-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.icon-btn[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:14px;border:1px solid var(--border-subtle);background:#ffffff08;color:var(--text-secondary);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s}.icon-btn[_ngcontent-%COMP%]:hover{background:#00f2fe1a;border-color:var(--primary);color:var(--primary);transform:translateY(-2px)}.search-box[_ngcontent-%COMP%]{margin:0 24px 24px;background:#0f172a99;border:1px solid var(--border-subtle);border-radius:16px;padding:2px 16px;display:flex;align-items:center;transition:all .3s}.search-box[_ngcontent-%COMP%]:focus-within{border-color:var(--primary);box-shadow:0 0 0 3px #00f2fe1a;background:#0f172acc}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:14px 10px;background:transparent;border:none;color:var(--text-main);font-family:inherit;font-size:15px;outline:none}.search-box[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--text-muted)}.users-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:0 16px}.user-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:14px 16px;border-radius:16px;cursor:pointer;transition:all .2s;margin-bottom:8px;border:1px solid transparent}.user-item[_ngcontent-%COMP%]:hover{background:#ffffff0d}.user-item.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(0,242,254,.1),transparent);border-left:3px solid var(--primary)}.user-avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:16px;background:#ffffff0d;display:flex;align-items:center;justify-content:center;font-size:18px;font-weight:600;color:var(--text-main);position:relative;flex-shrink:0}.status-dot[_ngcontent-%COMP%]{position:absolute;bottom:-2px;right:-2px;width:14px;height:14px;border-radius:50%;border:3px solid #0f172a;background:#64748b}.status-dot.online[_ngcontent-%COMP%]{background:#10b981;box-shadow:0 0 10px #10b98199}.user-name[_ngcontent-%COMP%]{font-weight:600;color:var(--text-main);font-size:15px;margin-bottom:2px}.user-status[_ngcontent-%COMP%]{font-size:13px;color:var(--text-muted)}.chat-area[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;position:relative;z-index:5;background:#ffffff03;backdrop-filter:blur(10px)}.no-chat[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;text-align:center}.no-chat-content[_ngcontent-%COMP%]{background:var(--glass-medium);border:1px solid var(--border-subtle);padding:60px;border-radius:32px;backdrop-filter:blur(20px);max-width:440px;box-shadow:var(--shadow-lg)}.no-chat-content[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-bottom:24px;filter:drop-shadow(0 0 30px rgba(0,242,254,.3))}.no-chat-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;font-weight:700;margin-bottom:12px;background:var(--grad-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.no-chat-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);line-height:1.6}.chat-header[_ngcontent-%COMP%]{height:88px;padding:0 32px;display:flex;align-items:center;justify-content:space-between;background:var(--glass-heavy);backdrop-filter:blur(20px);border-bottom:1px solid var(--border-subtle);z-index:20}.chat-user-info-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;width:100%}.chat-user-avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:16px;background:var(--grad-accent);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600;font-size:18px;flex-shrink:0}.chat-user-name[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--text-main)}.chat-user-status[_ngcontent-%COMP%]{font-size:13px;color:var(--text-secondary);display:flex;align-items:center;gap:6px}.online-indicator[_ngcontent-%COMP%]{width:8px;height:8px;background:#10b981;border-radius:50%;box-shadow:0 0 10px #10b981}.typing-indicator[_ngcontent-%COMP%]{color:var(--accent);font-weight:500;animation:pulse 1.5s infinite}.call-actions[_ngcontent-%COMP%]{margin-left:auto;display:flex;gap:8px}.call-btn[_ngcontent-%COMP%]{width:44px;height:44px;background:transparent;border:none;color:var(--text-secondary);border-radius:12px;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}.call-btn[_ngcontent-%COMP%]:hover{color:var(--primary);background:#00f2fe1a}.messages-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:30px 40px;display:flex;flex-direction:column;gap:20px}.message[_ngcontent-%COMP%]{display:flex;width:100%}.message.sent[_ngcontent-%COMP%]{justify-content:flex-end}.message-bubble[_ngcontent-%COMP%]{max-width:65%;padding:16px 20px;border-radius:20px;font-size:15px;line-height:1.5;position:relative;box-shadow:var(--shadow-sm)}.message.sent[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{background:var(--grad-primary);color:#000;font-weight:500;border-bottom-right-radius:4px;box-shadow:0 8px 25px #00f2fe40}.message.received[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{background:#1e293bb3;backdrop-filter:blur(10px);color:var(--text-main);border:1px solid var(--border-subtle);border-bottom-left-radius:4px}.message-meta[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:4px;margin-top:6px;font-size:11px;opacity:.8}.message-input-container[_ngcontent-%COMP%]{padding:24px 32px;background:var(--glass-heavy);backdrop-filter:blur(20px);border-top:1px solid var(--border-subtle)}.input-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;gap:12px;background:#0f172a99;padding:8px 8px 8px 24px;border-radius:24px;border:1px solid var(--border-subtle);box-shadow:var(--shadow-lg);transition:all .3s}.input-wrapper[_ngcontent-%COMP%]:focus-within{border-color:var(--primary);background:#0f172acc;box-shadow:0 0 0 3px #00f2fe1a}.message-input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;background:transparent;border:none;color:var(--text-main);font-size:16px;padding:8px 0;font-family:inherit;outline:none}.action-btn[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:50%;background:transparent;border:none;color:var(--text-secondary);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s;flex-shrink:0}.action-btn[_ngcontent-%COMP%]:hover{background:#ffffff0d;color:var(--text-main)}.send-btn[_ngcontent-%COMP%]{width:52px;height:52px;border-radius:16px;background:var(--grad-primary);border:none;color:#000;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s cubic-bezier(.34,1.56,.64,1);box-shadow:0 4px 15px #00f2fe4d}.send-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.08) rotate(-10deg);box-shadow:0 8px 25px #00f2fe80}.send-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:default;filter:grayscale(1);box-shadow:none}.settings-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000}.settings-overlay[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:#0006;backdrop-filter:blur(4px);animation:_ngcontent-%COMP%_fadeIn .3s forwards}.settings-modal[_ngcontent-%COMP%]{background:var(--glass-heavy);backdrop-filter:blur(30px);width:400px;max-width:100vw;height:100vh;border-right:1px solid var(--border-subtle);display:flex;flex-direction:column;position:relative;z-index:2;animation:_ngcontent-%COMP%_slideInLeft .3s cubic-bezier(.2,.8,.2,1);box-shadow:20px 0 50px #00000080}@keyframes _ngcontent-%COMP%_slideInLeft{0%{transform:translate(-100%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.settings-header[_ngcontent-%COMP%]{padding:24px;display:flex;align-items:center;justify-content:space-between}.settings-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin:0;color:var(--text-main)}.close-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-secondary);font-size:28px;cursor:pointer;line-height:1}.settings-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:24px}.settings-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:13px;text-transform:uppercase;font-weight:600;letter-spacing:.05em;color:var(--text-muted);margin:24px 0 12px}.setting-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px;border-radius:12px;background:#ffffff08;border:1px solid transparent;margin-bottom:8px;cursor:pointer;transition:all .2s}.setting-row[_ngcontent-%COMP%]:hover{background:#ffffff0f;border-color:var(--border-subtle)}.setting-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;color:var(--text-main)}.setting-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-secondary);font-size:13px}.divider[_ngcontent-%COMP%]{height:1px;background:var(--border-subtle);margin:24px 0}.chat-wallpaper[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;z-index:0;opacity:.4;background-size:cover;background-position:center;pointer-events:none}.chat-wallpaper.has-doodles[_ngcontent-%COMP%]{opacity:.1}.emoji-picker[_ngcontent-%COMP%]{position:absolute;bottom:90px;left:32px;background:var(--glass-heavy);backdrop-filter:blur(20px);border:1px solid var(--border-subtle);border-radius:20px;padding:16px;display:grid;grid-template-columns:repeat(6,1fr);gap:8px;box-shadow:var(--shadow-lg);z-index:100;width:320px;max-height:350px;overflow-y:auto}.emoji-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;cursor:pointer;padding:8px;border-radius:8px;transition:background .2s;display:flex;align-items:center;justify-content:center}.emoji-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{background:#ffffff1a}.call-log-bubble[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;background:#1e293b66;border:1px solid var(--border-subtle);border-radius:12px;padding:12px 16px;cursor:pointer;transition:background .2s;max-width:280px;margin:4px 0}.call-log-bubble[_ngcontent-%COMP%]:hover{background:#1e293b99}.call-log-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center}.call-log-icon.missed[_ngcontent-%COMP%]{background:#ef44441a;color:#ef4444}.call-log-icon.ended[_ngcontent-%COMP%]{background:#22c55e1a;color:#22c55e}.call-log-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.call-log-title[_ngcontent-%COMP%]{font-weight:600;color:var(--text-main);font-size:14px}.call-log-subtitle[_ngcontent-%COMP%]{font-size:12px;color:var(--text-muted)}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000b3;backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:1000}.preview-modal[_ngcontent-%COMP%]{background:var(--glass-heavy);border:1px solid var(--border-subtle);border-radius:24px;width:90%;max-width:500px;padding:24px;box-shadow:0 20px 60px #00000080;display:flex;flex-direction:column;gap:20px;animation:_ngcontent-%COMP%_scaleIn .3s cubic-bezier(.16,1,.3,1)}.preview-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.preview-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:20px;color:var(--text-main)}.preview-content[_ngcontent-%COMP%]{background:#0003;border-radius:16px;padding:20px;display:flex;justify-content:center;align-items:center;min-height:200px;max-height:400px;overflow:hidden}.preview-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:300px;border-radius:12px;object-fit:contain}.file-icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:12px;color:var(--text-main)}.preview-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px}.cancel-btn[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--border-subtle);color:var(--text-main);padding:10px 20px;border-radius:12px;cursor:pointer;font-weight:500;transition:all .2s}.cancel-btn[_ngcontent-%COMP%]:hover{background:#ffffff0d}.confirm-btn[_ngcontent-%COMP%]{background:var(--grad-primary);border:none;color:#000;padding:10px 24px;border-radius:12px;cursor:pointer;font-weight:600;display:flex;align-items:center;gap:8px;box-shadow:0 4px 15px #00f2fe4d;transition:all .2s}.confirm-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #00f2fe66}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{width:100%;position:absolute;height:100%}.sidebar.mobile-hidden[_ngcontent-%COMP%]{display:none}.chat-area.mobile-show[_ngcontent-%COMP%]{display:flex;z-index:20;background:var(--bg-deep)}.back-btn[_ngcontent-%COMP%]{display:block!important;margin-right:12px;background:transparent;border:none;color:var(--text-main);padding:4px}.messages-container[_ngcontent-%COMP%]{padding:20px}.message-bubble[_ngcontent-%COMP%]{max-width:85%}.settings-modal[_ngcontent-%COMP%], .wallpaper-modal[_ngcontent-%COMP%]{width:100%;border-radius:0}}.back-btn[_ngcontent-%COMP%]{display:none}.locked-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:9999;background:var(--bg-deep);display:flex;align-items:center;justify-content:center}.locked-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;width:100%;max-width:400px;padding:40px;animation:_ngcontent-%COMP%_fadeIn .5s ease-out}.locked-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;border:3px solid var(--primary);box-shadow:0 0 20px #00f2fe4d;margin-bottom:24px;object-fit:cover}.default-initial[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;border:3px solid var(--primary);display:flex;align-items:center;justify-content:center;font-size:32px;font-weight:700;color:#fff;margin-bottom:24px;background:var(--bg-surface)}.locked-username[_ngcontent-%COMP%]{font-size:24px;color:var(--text-main);margin-bottom:12px}.locked-message[_ngcontent-%COMP%]{color:var(--text-secondary);margin-bottom:32px;font-size:14px}.unlock-input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;margin-bottom:24px}.unlock-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:16px 40px 16px 16px;border-radius:12px;background:#ffffff0d;border:1px solid var(--border-subtle);color:#fff;text-align:center;letter-spacing:4px;font-size:24px;outline:none;transition:all .2s}.unlock-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 2px #00f2fe1a}.visibility-toggle[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);background:transparent;border:none;color:var(--text-muted);cursor:pointer}.unlock-btn[_ngcontent-%COMP%]{width:100%;padding:16px;border-radius:12px;background:var(--grad-primary);border:none;color:#000;font-weight:700;font-size:16px;cursor:pointer;transition:transform .2s;margin-bottom:24px}.unlock-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.locked-footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;font-size:13px}.forgot-link[_ngcontent-%COMP%], .logout-link[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--primary);cursor:pointer;text-decoration:none}.logout-hint[_ngcontent-%COMP%]{color:var(--text-muted)}.theme-modal[_ngcontent-%COMP%]{background:var(--glass-heavy);border:1px solid var(--border-subtle);padding:32px;border-radius:24px;min-width:320px;display:flex;flex-direction:column;gap:16px;box-shadow:var(--shadow-lg)}.radio-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;cursor:pointer;border-radius:8px;transition:background .2s}.radio-option[_ngcontent-%COMP%]:hover{background:#ffffff0d}.radio-circle[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;border:2px solid var(--text-muted);display:flex;align-items:center;justify-content:center}.radio-option[_ngcontent-%COMP%]   .radio-inner[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background:var(--primary)}.wallpaper-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000c;backdrop-filter:blur(5px);z-index:2000;display:flex;align-items:center;justify-content:center}.wallpaper-modal[_ngcontent-%COMP%]{width:800px;height:90vh;background:var(--glass-heavy);border:1px solid var(--border-subtle);border-radius:20px;display:flex;flex-direction:column;overflow:hidden;box-shadow:var(--shadow-lg)}.wallpaper-header[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid var(--border-subtle)}.preview-container[_ngcontent-%COMP%]{height:300px;background:#0b141a;position:relative;display:flex;justify-content:center;align-items:center;padding:40px}.mini-preview[_ngcontent-%COMP%]{width:240px;height:100%;border-radius:12px;position:relative;overflow:hidden;box-shadow:0 10px 30px #00000080;background-size:cover;background-position:center}.mock-bubble[_ngcontent-%COMP%]{padding:8px 12px;border-radius:8px;font-size:12px;margin:8px;width:fit-content;max-width:80%}.mock-bubble.received[_ngcontent-%COMP%]{background:#1e293bcc;color:#fff}.mock-bubble.sent[_ngcontent-%COMP%]{background:var(--grad-primary);color:#000;margin-left:auto}.wallpaper-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:24px}.wallpaper-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(80px,1fr));gap:12px;padding:20px 0}.wallpaper-item[_ngcontent-%COMP%]{height:80px;border-radius:8px;cursor:pointer;border:2px solid transparent;transition:transform .2s}.wallpaper-item[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.wallpaper-item.selected[_ngcontent-%COMP%]{border-color:var(--primary);box-shadow:0 0 10px #00f2fe4d}.upload-item[_ngcontent-%COMP%]{background:#ffffff0d;display:flex;align-items:center;justify-content:center;border:1px dashed var(--text-muted)}.wallpaper-actions[_ngcontent-%COMP%]{padding:20px;border-top:1px solid var(--border-subtle);display:flex;gap:12px;align-items:center;background:var(--glass-heavy)}.set-password-modal[_ngcontent-%COMP%], .password-set-modal[_ngcontent-%COMP%]{background:var(--glass-heavy);padding:32px;border-radius:24px;border:1px solid var(--border-subtle);width:400px;display:flex;flex-direction:column;gap:20px}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:var(--text-secondary);font-size:13px}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px;background:#ffffff0d;border:1px solid var(--border-subtle);border-radius:8px;color:#fff}.password-hint[_ngcontent-%COMP%]{font-size:12px;color:var(--text-muted);line-height:1.4}.modal-actions[_ngcontent-%COMP%], .modal-actions-spread[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:12px}.modal-actions-spread[_ngcontent-%COMP%]{justify-content:space-between}.ok-btn[_ngcontent-%COMP%], .lock-now-btn[_ngcontent-%COMP%]{padding:10px 24px;background:var(--grad-primary);border:none;border-radius:8px;font-weight:600;cursor:pointer;color:#000}.cancel-text-btn[_ngcontent-%COMP%], .done-text-btn[_ngcontent-%COMP%]{padding:10px 20px;background:transparent;border:1px solid var(--border-subtle);border-radius:8px;color:var(--text-main);cursor:pointer}.checkbox-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px;border-radius:12px;background:#ffffff08;margin-bottom:8px;border:1px solid transparent}.checkbox-row[_ngcontent-%COMP%]:hover{background:#ffffff0d}.checkbox-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;color:var(--text-main);font-size:15px}.checkbox-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-secondary);font-size:13px}.switch-container[_ngcontent-%COMP%]{position:relative;display:inline-block;width:44px;height:24px}.switch-input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.switch-slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#334155;transition:.3s;border-radius:24px}.switch-slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:3px;bottom:3px;background-color:#fff;transition:.3s;border-radius:50%}.switch[_ngcontent-%COMP%]{width:36px!important;height:20px!important}.switch-slider[_ngcontent-%COMP%]:before{height:14px!important;width:14px!important;left:3px!important;bottom:3px!important}.switch-input[_ngcontent-%COMP%]:checked + .switch-slider[_ngcontent-%COMP%]:before{transform:translate(16px)!important}.custom-select-box[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid var(--border-subtle);border-radius:12px;padding:12px 16px;display:flex;align-items:center;justify-content:space-between;cursor:pointer;position:relative;margin-bottom:12px}.selected-value[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;color:var(--text-main);font-weight:500}.tone-icon[_ngcontent-%COMP%]{width:20px;height:20px;color:var(--primary)}.custom-dropdown-menu.floating[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;width:100%;background:var(--glass-heavy);border:1px solid var(--border-subtle);border-radius:12px;margin-top:8px;z-index:100;box-shadow:var(--shadow-lg);overflow:hidden;max-height:250px;overflow-y:auto}.custom-dropdown-menu.floating-left[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;left:auto;width:200px;background:var(--glass-heavy);border:1px solid var(--border-subtle);border-radius:12px;margin-top:4px;z-index:100;box-shadow:var(--shadow-lg)}.dropdown-item[_ngcontent-%COMP%]{padding:12px 16px;cursor:pointer;color:var(--text-main);transition:background .2s;border-bottom:1px solid rgba(255,255,255,.03)}.dropdown-item[_ngcontent-%COMP%]:hover{background:#ffffff0d}.dropdown-item.selected[_ngcontent-%COMP%]{background:#00f2fe1a;color:var(--primary)}.chevron-down[_ngcontent-%COMP%]{width:20px;height:20px;color:var(--text-muted);transition:transform .3s}.chevron-down.open[_ngcontent-%COMP%]{transform:rotate(180deg)}.styled-select[_ngcontent-%COMP%]{width:100%;padding:12px;border-radius:12px;background:#ffffff0d;border:1px solid var(--border-subtle);color:var(--text-main);font-size:15px;outline:none;margin-bottom:20px}.styled-select[_ngcontent-%COMP%]:focus{border-color:var(--primary)}.settings-menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px;padding:4px 0}.menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:12px 20px;cursor:pointer;transition:all .2s ease;border-radius:0;background:transparent}.menu-item[_ngcontent-%COMP%]:hover{background:#ffffff0d}.menu-item.logout-item[_ngcontent-%COMP%]{color:#ef4444}.menu-item.logout-item[_ngcontent-%COMP%]:hover{background:#ef44441a}.menu-icon[_ngcontent-%COMP%]{width:24px;height:24px;flex-shrink:0;opacity:.7;stroke-width:2}.menu-item.logout-item[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{opacity:1}.menu-text[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:2px}.menu-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:15px;font-weight:500;color:var(--text-main);line-height:1.3}.menu-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;color:var(--text-secondary);opacity:.8;line-height:1.3}.menu-item.logout-item[_ngcontent-%COMP%]   .menu-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#ef4444}.settings-profile-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px 20px;cursor:pointer;transition:all .2s;background:#ffffff05;border-radius:0;margin-bottom:8px}.settings-profile-card[_ngcontent-%COMP%]:hover{background:#ffffff0d}.profile-avatar-large[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:var(--grad-primary);display:flex;align-items:center;justify-content:center;font-size:32px;font-weight:700;color:#fff;flex-shrink:0;box-shadow:0 4px 12px #00f2fe33;overflow:hidden}.profile-section-centered[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:24px 0}.profile-avatar-large-wrapper[_ngcontent-%COMP%]{width:140px;height:140px;position:relative;cursor:pointer;border-radius:50%;margin:0 auto;box-shadow:0 0 25px #00f2fe40;overflow:hidden;background:var(--bg-surface)}.large-avatar[_ngcontent-%COMP%]{width:100%;height:100%;background:var(--grad-primary);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:56px;font-weight:700;color:#fff}.large-avatar-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%;display:block}.edit-icon-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;border-radius:50%;background:#0009;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;color:#fff;opacity:0;transition:all .3s ease;backdrop-filter:blur(2px);z-index:10}.edit-icon-overlay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:11px;font-weight:600;letter-spacing:1px;text-transform:uppercase;text-shadow:0 2px 4px rgba(0,0,0,.5)}.profile-avatar-large-wrapper[_ngcontent-%COMP%]:hover   .edit-icon-overlay[_ngcontent-%COMP%]{opacity:1}.profile-info[_ngcontent-%COMP%]{flex:1;min-width:0}.profile-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 4px;font-size:17px;font-weight:600;color:var(--text-main);line-height:1.3}.profile-status[_ngcontent-%COMP%]{margin:0;font-size:13px;color:var(--text-secondary);opacity:.8;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.settings-content[_ngcontent-%COMP%]{padding:8px 0!important}.settings-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:12px;text-transform:uppercase;font-weight:600;letter-spacing:.05em;color:var(--text-muted);margin:20px 20px 8px;opacity:.6}.setting-row[_ngcontent-%COMP%]{padding:12px 20px;margin-bottom:0;border-radius:0}.chevron-icon[_ngcontent-%COMP%]{width:20px;height:20px;color:var(--text-muted);opacity:.5;flex-shrink:0}.setting-search-container[_ngcontent-%COMP%]{padding:12px 16px}.settings-search[_ngcontent-%COMP%]{width:100%;padding:10px 16px;background:#ffffff0d;border:1px solid var(--border-subtle);border-radius:8px;color:var(--text-main);font-size:14px;outline:none;transition:all .2s}.settings-search[_ngcontent-%COMP%]:focus{border-color:var(--primary);background:#ffffff14}.profile-content-premium[_ngcontent-%COMP%]{padding:16px!important}.profile-picture-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:24px 16px 32px}.profile-avatar-large-wrapper[_ngcontent-%COMP%]{position:relative;cursor:pointer}.large-avatar[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;background:var(--grad-primary);display:flex;align-items:center;justify-content:center;font-size:40px;font-weight:700;color:#fff;box-shadow:0 6px 16px #00f2fe40}.large-avatar-img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;object-fit:cover}.change-photo-overlay[_ngcontent-%COMP%]{position:absolute;bottom:-8px;left:0;right:0;background:#000000b3;backdrop-filter:blur(8px);padding:8px;border-radius:12px;text-align:center;opacity:0;transition:opacity .2s;display:flex;flex-direction:column;align-items:center;gap:4px}.profile-avatar-large-wrapper[_ngcontent-%COMP%]:hover   .change-photo-overlay[_ngcontent-%COMP%]{opacity:1}.change-photo-overlay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px;font-weight:600;color:#fff;letter-spacing:.5px}.profile-section-group[_ngcontent-%COMP%]{background:#ffffff05;border-radius:12px;margin:0 16px;overflow:hidden}.profile-section[_ngcontent-%COMP%]{padding:16px 20px}.section-label[_ngcontent-%COMP%]{display:block;font-size:12px;text-transform:uppercase;font-weight:600;letter-spacing:.05em;color:var(--text-muted);margin-bottom:12px;opacity:.6}.divider-inset[_ngcontent-%COMP%]{height:1px;background:var(--border-subtle);margin:0 20px;opacity:.3}.edit-field[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.field-value[_ngcontent-%COMP%]{font-size:15px;color:var(--text-main)}.edit-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-muted);cursor:pointer;padding:4px;opacity:.5;transition:opacity .2s}.edit-btn[_ngcontent-%COMP%]:hover{opacity:1}.section-note[_ngcontent-%COMP%]{margin:12px 0 0;font-size:12px;color:var(--text-muted);opacity:.7;line-height:1.4}.edit-input-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.edit-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .edit-textarea[_ngcontent-%COMP%]{width:100%;padding:10px 12px;background:#ffffff0d;border:1px solid var(--border-subtle);border-radius:8px;color:var(--text-main);font-size:15px;font-family:inherit;outline:none;resize:vertical}.edit-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .edit-textarea[_ngcontent-%COMP%]:focus{border-color:var(--primary);background:#ffffff14}.char-count[_ngcontent-%COMP%]{align-self:flex-end;font-size:11px;color:var(--text-muted);opacity:.6}.char-count.low[_ngcontent-%COMP%]{color:#f59e0b}.edit-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:8px;margin-top:8px}.action-btn.cancel[_ngcontent-%COMP%], .action-btn.save[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;padding:6px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s}.action-btn.cancel[_ngcontent-%COMP%]{color:var(--text-muted)}.action-btn.cancel[_ngcontent-%COMP%]:hover{background:#ef44441a;color:#ef4444}.action-btn.save[_ngcontent-%COMP%]{color:var(--primary)}.action-btn.save[_ngcontent-%COMP%]:hover{background:#00f2fe1a}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.animate-slide-in-right[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInRight .2s ease-out}@keyframes _ngcontent-%COMP%_slideInRight{0%{opacity:0;transform:translate(20px)}to{opacity:1;transform:translate(0)}}.settings-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;background:transparent;border:none;color:var(--text-main);font-size:16px;font-weight:600;cursor:pointer;padding:0}.settings-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px}.header-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600}.settings-modal[_ngcontent-%COMP%]{width:420px!important}@media (max-width: 768px){.settings-modal[_ngcontent-%COMP%]{width:100%!important}}.hidden-select[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;cursor:pointer;appearance:none;-webkit-appearance:none;z-index:10}.setting-row[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:space-between;padding:12px 20px;cursor:pointer;transition:background .2s ease;background:transparent;border-radius:0}.setting-row[_ngcontent-%COMP%]:hover:not(.no-hover){background:#ffffff0d}.setting-row[_ngcontent-%COMP%]   .setting-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:2px}.setting-row[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:15px;font-weight:500;color:var(--text-main);line-height:1.4}.setting-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;color:var(--text-secondary);opacity:.8;line-height:1.3}.setting-row[_ngcontent-%COMP%]   .chevron-icon[_ngcontent-%COMP%]{width:20px;height:20px;color:var(--text-muted);opacity:.5;flex-shrink:0;margin-left:12px}.section-title[_ngcontent-%COMP%]{font-size:12px;text-transform:uppercase;font-weight:600;letter-spacing:.05em;color:var(--text-muted);margin:20px 20px 8px;opacity:.6}.divider[_ngcontent-%COMP%]{border:none;border-top:1px solid rgba(255,255,255,.1)!important;margin:8px 0!important;opacity:.5}.security-hero[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;padding:30px 20px}.security-icon[_ngcontent-%COMP%]{width:80px;height:80px;margin-bottom:20px;color:#10b981;background:#10b9811a;border-radius:50%;padding:20px}.security-hero[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:17px;font-weight:600;margin-bottom:12px;color:var(--text-main)}.security-hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;line-height:1.5;color:var(--text-secondary);max-width:450px;margin:0 auto}.privacy-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:0 20px;margin:20px 0}.privacy-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;font-size:15px;color:var(--text-main);padding:0 10px}.privacy-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--text-muted);width:20px;height:20px;flex-shrink:0}.learn-more[_ngcontent-%COMP%]{color:var(--primary);text-decoration:none;cursor:pointer;font-size:14px;margin-left:46px;display:block;margin-top:8px}.learn-more[_ngcontent-%COMP%]:hover{text-decoration:underline}.security-footer[_ngcontent-%COMP%]{border-top:1px solid var(--border-subtle);padding:20px;margin-top:10px}.security-footer[_ngcontent-%COMP%]   .checkbox-row[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;gap:16px;padding:16px;background:transparent}.security-footer[_ngcontent-%COMP%]   .checkbox-info[_ngcontent-%COMP%]{flex:1;min-width:0;padding-right:12px}.security-footer[_ngcontent-%COMP%]   .checkbox-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;font-size:15px;color:var(--text-main);font-weight:500}.security-footer[_ngcontent-%COMP%]   .checkbox-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;font-size:13px;color:var(--text-secondary);line-height:1.4}.security-footer[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{flex-shrink:0;margin-top:2px}.security-footer[_ngcontent-%COMP%]   .learn-more[_ngcontent-%COMP%]{margin-left:0;margin-top:0;display:inline-block}.info-card[_ngcontent-%COMP%], .report-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:16px;padding:12px 20px;margin-bottom:8px;cursor:pointer;transition:background .2s}.report-item[_ngcontent-%COMP%]{align-items:center;color:var(--text-main);font-size:15px}.info-card[_ngcontent-%COMP%]:hover, .report-item[_ngcontent-%COMP%]:hover{background:#ffffff0d}.info-icon[_ngcontent-%COMP%], .report-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--text-muted);width:24px;height:24px;flex-shrink:0;margin-top:2px}.info-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .report-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px}.info-text[_ngcontent-%COMP%]{flex:1}.info-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;font-size:15px;color:var(--text-main);font-weight:500}.info-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;color:var(--text-secondary)}.help-text[_ngcontent-%COMP%]{padding:0 20px}.lock-hero[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;padding:40px 20px 20px}.lock-icon-container[_ngcontent-%COMP%]{position:relative;margin-bottom:24px}.lock-icon-large[_ngcontent-%COMP%]{width:80px;height:80px;color:var(--text-main)}.lock-badge[_ngcontent-%COMP%]{position:absolute;bottom:-5px;right:-5px;width:28px;height:28px;background:var(--bg-surface);border-radius:50%;display:flex;align-items:center;justify-content:center;color:var(--primary)}.lock-badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.lock-title[_ngcontent-%COMP%]{font-size:17px;font-weight:600;margin:0 0 12px;color:var(--text-main)}.lock-description[_ngcontent-%COMP%]{font-size:14px;line-height:1.5;color:var(--text-secondary);max-width:400px;margin:0 auto}.lock-footer[_ngcontent-%COMP%]{padding:20px;margin-top:auto}.lock-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;color:var(--text-muted);line-height:1.5;margin-bottom:12px}.message-status[_ngcontent-%COMP%]{display:inline-flex;margin-left:4px;font-size:11px;vertical-align:bottom}.tick[_ngcontent-%COMP%]{color:#ffffff80;font-weight:700;letter-spacing:-2px;margin-left:2px}.tick.delivered[_ngcontent-%COMP%]{color:#ffffff80}.tick.seen[_ngcontent-%COMP%]{color:#53bdeb!important}.attachment-menu[_ngcontent-%COMP%]{position:absolute;bottom:70px;left:16px;background:var(--glass-heavy);border:1px solid var(--border-subtle);border-radius:16px;padding:12px 8px;display:flex;flex-direction:column;gap:4px;z-index:100;box-shadow:0 8px 32px #0006;backdrop-filter:blur(20px);animation:_ngcontent-%COMP%_slideUp .2s ease-out;min-width:180px}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.attachment-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:14px;padding:12px 16px;border-radius:12px;cursor:pointer;transition:background .2s ease}.attachment-option[_ngcontent-%COMP%]:hover{background:#ffffff14}.attachment-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px;color:var(--text-main);font-weight:500}.attachment-icon[_ngcontent-%COMP%]{width:42px;height:42px;border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0}.attachment-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:22px;height:22px;stroke:#fff}.attachment-icon.document[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7f66ff,#5b47d1)}.attachment-icon.photos[_ngcontent-%COMP%]{background:linear-gradient(135deg,#bf59cf,#a040b0)}.attachment-icon.camera[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff5c84,#e84a72)}.attachment-icon.audio[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff8c42,#f06030)}.attachment-icon.contact[_ngcontent-%COMP%]{background:linear-gradient(135deg,#009de2,#0080c0)}.attachment-icon.poll[_ngcontent-%COMP%]{background:linear-gradient(135deg,#00c06a,#00a050)}.attachment-icon.event[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f9b72d,#e8a020)}.attachment-icon.sticker[_ngcontent-%COMP%]{background:linear-gradient(135deg,#00d9c4,#00b0a0)}.action-btn[_ngcontent-%COMP%]   svg.rotated[_ngcontent-%COMP%]{transform:rotate(45deg);transition:transform .2s ease}.action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:transform .2s ease}.call-dropdown-wrapper[_ngcontent-%COMP%]{position:relative;margin-left:auto}.call-trigger-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:8px 14px;background:transparent;border:1px solid var(--border-subtle);border-radius:20px;color:var(--text-main);font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.call-trigger-btn[_ngcontent-%COMP%]:hover{background:#ffffff14}.call-trigger-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:var(--text-muted)}.call-trigger-btn[_ngcontent-%COMP%]   .chevron[_ngcontent-%COMP%]{transition:transform .2s ease}.call-trigger-btn[_ngcontent-%COMP%]   .chevron.open[_ngcontent-%COMP%]{transform:rotate(180deg)}.call-dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 8px);right:0;background:var(--glass-heavy);border:1px solid var(--border-subtle);border-radius:16px;padding:16px;min-width:280px;z-index:150;box-shadow:0 8px 32px #0006;backdrop-filter:blur(20px);animation:_ngcontent-%COMP%_fadeInDown .2s ease-out}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.call-user-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding-bottom:16px;border-bottom:1px solid var(--border-subtle)}.call-user-avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background:linear-gradient(135deg,var(--accent-primary),var(--accent-secondary));display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden}.call-user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.call-user-avatar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-size:18px;font-weight:600}.call-user-name[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--text-main)}.call-buttons-row[_ngcontent-%COMP%]{display:flex;gap:12px;padding:16px 0}.call-action-btn[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;gap:8px;padding:12px 20px;border:none;border-radius:24px;font-size:15px;font-weight:600;cursor:pointer;transition:all .2s ease}.call-action-btn.voice[_ngcontent-%COMP%], .call-action-btn.video[_ngcontent-%COMP%]{background:linear-gradient(135deg,#25d366,#128c7e);color:#fff}.call-action-btn.voice[_ngcontent-%COMP%]:hover, .call-action-btn.video[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:0 4px 16px #25d3664d}.call-action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:#fff}.call-options-list[_ngcontent-%COMP%]{border-top:1px solid var(--border-subtle);padding-top:8px}.call-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:14px;padding:12px;border-radius:10px;cursor:pointer;transition:background .2s ease}.call-option[_ngcontent-%COMP%]:hover{background:#ffffff14}.call-option[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:var(--text-muted)}.call-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px;color:var(--text-main)}.header-icon-btn[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;border:none;background:transparent;color:var(--text-muted);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.header-icon-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a;color:var(--text-main)}.more-menu-wrapper[_ngcontent-%COMP%]{position:relative}.more-dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 8px);right:0;background:var(--glass-heavy);border:1px solid var(--border-subtle);border-radius:12px;padding:8px 0;min-width:220px;z-index:150;box-shadow:0 8px 32px #0006;backdrop-filter:blur(20px);animation:_ngcontent-%COMP%_fadeInDown .2s ease-out}.more-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:14px;padding:12px 16px;cursor:pointer;transition:background .2s ease}.more-option[_ngcontent-%COMP%]:hover{background:#ffffff14}.more-option[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:var(--text-muted);flex-shrink:0}.more-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px;color:var(--text-main)}.more-option.divider[_ngcontent-%COMP%]{height:1px;background:var(--border-subtle);margin:4px 16px;padding:0;cursor:default}.more-option.divider[_ngcontent-%COMP%]:hover{background:var(--border-subtle)}.more-option.danger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ef4444}.more-option.danger[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:#ef4444}.chat-search-bar[_ngcontent-%COMP%]{background:var(--glass-medium);border-bottom:1px solid var(--border-subtle);padding:12px 16px;display:flex;align-items:center;justify-content:space-between;gap:12px;animation:_ngcontent-%COMP%_slideDown .2s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.search-input-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:10px;background:var(--glass-light);border:1px solid var(--border-subtle);border-radius:24px;padding:8px 14px}.search-input-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:var(--text-muted);flex-shrink:0}.search-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;background:transparent;border:none;outline:none;color:var(--text-main);font-size:14px}.search-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--text-muted)}.close-search-btn[_ngcontent-%COMP%]{background:transparent;border:none;padding:4px;cursor:pointer;color:var(--text-muted);display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s ease}.close-search-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a;color:var(--text-main)}.search-results-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;font-size:13px;color:var(--text-muted);white-space:nowrap}.search-nav-btns[_ngcontent-%COMP%]{display:flex;gap:4px}.search-nav-btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:50%;border:none;background:#ffffff14;color:var(--text-muted);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.search-nav-btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background:#ffffff26;color:var(--text-main)}.search-nav-btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.message.search-highlight[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_highlightPulse 2s ease-out}@keyframes _ngcontent-%COMP%_highlightPulse{0%,to{box-shadow:none}50%{box-shadow:0 0 0 3px #25d36680}}.message.selecting[_ngcontent-%COMP%]{cursor:pointer;transition:all .2s ease}.message.selecting[_ngcontent-%COMP%]:hover{background:#ffffff0d}.message.selected[_ngcontent-%COMP%]{background:#25d36626!important}.message.selecting[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{pointer-events:none}.selection-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:10px}.message.sent[_ngcontent-%COMP%]   .selection-checkbox[_ngcontent-%COMP%]{order:1;margin-right:0;margin-left:10px}.checkbox[_ngcontent-%COMP%]{width:22px;height:22px;border-radius:50%;border:2px solid var(--text-muted);display:flex;align-items:center;justify-content:center;transition:all .2s ease;background:transparent}.checkbox.checked[_ngcontent-%COMP%]{background:linear-gradient(135deg,#25d366,#128c7e);border-color:#25d366}.selection-action-bar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 20px;background:var(--glass-heavy);border-top:1px solid var(--border-subtle);backdrop-filter:blur(20px)}.selection-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.cancel-select-btn[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;border:none;background:transparent;color:var(--text-muted);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.cancel-select-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a;color:var(--text-main)}.selected-count[_ngcontent-%COMP%]{font-size:15px;font-weight:500;color:var(--text-main)}.selection-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.selection-action-btn[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:50%;border:none;background:#ffffff14;color:var(--text-main);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.selection-action-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#ffffff26;transform:scale(1.05)}.selection-action-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.selection-action-btn.delete[_ngcontent-%COMP%]{color:#ef4444}.selection-action-btn.delete[_ngcontent-%COMP%]:hover:not(:disabled){background:#ef444433}.poll-modal[_ngcontent-%COMP%]{background:var(--glass-heavy);border:1px solid var(--border-subtle);border-radius:20px;width:90%;max-width:420px;max-height:85vh;overflow:hidden;display:flex;flex-direction:column}.poll-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;border-bottom:1px solid var(--border-subtle)}.poll-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--text-main);margin:0;flex:1;text-align:center}.poll-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;border:none;background:transparent;color:var(--text-muted);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.poll-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a;color:var(--text-main)}.send-poll-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;border:none;background:linear-gradient(135deg,#25d366,#128c7e);color:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.send-poll-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.05);box-shadow:0 4px 16px #25d3664d}.send-poll-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.poll-content[_ngcontent-%COMP%]{padding:20px;overflow-y:auto;flex:1}.poll-question-section[_ngcontent-%COMP%], .poll-options-section[_ngcontent-%COMP%]{margin-bottom:24px}.poll-question-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .poll-options-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:12px;font-weight:600;color:var(--accent-primary);text-transform:uppercase;letter-spacing:.5px;margin-bottom:10px}.poll-question-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .poll-options-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:14px 16px;background:var(--glass-light);border:1px solid var(--border-subtle);border-radius:12px;color:var(--text-main);font-size:15px;outline:none;transition:border .2s ease}.poll-question-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .poll-options-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--accent-primary)}.poll-question-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .poll-options-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--text-muted)}.char-count[_ngcontent-%COMP%]{display:block;text-align:right;font-size:12px;color:var(--text-muted);margin-top:6px}.poll-option-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:12px}.poll-option-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:14px 16px;background:var(--glass-light);border:1px solid var(--border-subtle);border-radius:12px;color:var(--text-main);font-size:15px;outline:none;transition:border .2s ease}.poll-option-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--accent-primary)}.poll-option-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--text-muted);opacity:1}.remove-option-btn[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;border:none;background:#ef444426;color:#ef4444;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;flex-shrink:0}.remove-option-btn[_ngcontent-%COMP%]:hover{background:#ef444440}.add-option-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px;background:transparent;border:1px dashed var(--border-subtle);border-radius:12px;color:var(--accent-primary);font-size:14px;cursor:pointer;transition:all .2s ease;width:100%;justify-content:center}.add-option-btn[_ngcontent-%COMP%]:hover{background:#ffffff0d;border-color:var(--accent-primary)}.poll-settings-section[_ngcontent-%COMP%]{border-top:1px solid var(--border-subtle);padding-top:20px}.poll-setting[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 0}.poll-setting[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px;color:var(--text-main)}.toggle-switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:48px;height:26px}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.toggle-slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ffffff26;transition:.3s;border-radius:26px}.toggle-slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:20px;width:20px;left:3px;bottom:3px;background-color:#fff;transition:.3s;border-radius:50%}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .toggle-slider[_ngcontent-%COMP%]{background:linear-gradient(135deg,#25d366,#128c7e)}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .toggle-slider[_ngcontent-%COMP%]:before{transform:translate(22px)}.poll-message[_ngcontent-%COMP%]{background:transparent;border-radius:12px;padding:4px 0;min-width:220px}.poll-message[_ngcontent-%COMP%]   .poll-question[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#0a3d4d;margin-bottom:14px}.poll-message[_ngcontent-%COMP%]   .poll-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 14px;background:#fff6;border-radius:10px;margin-bottom:10px;cursor:pointer;transition:all .2s ease;border:2px solid transparent}.poll-message[_ngcontent-%COMP%]   .poll-option[_ngcontent-%COMP%]:hover{background:#fff9;transform:scale(1.02)}.poll-message[_ngcontent-%COMP%]   .poll-option[_ngcontent-%COMP%]   .option-radio[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;border:2px solid #0a5a6d;flex-shrink:0;background:#ffffff80}.poll-message[_ngcontent-%COMP%]   .poll-option.selected[_ngcontent-%COMP%]   .option-radio[_ngcontent-%COMP%]{background:linear-gradient(135deg,#25d366,#128c7e);border-color:#128c7e}.poll-message[_ngcontent-%COMP%]   .poll-option[_ngcontent-%COMP%]   .option-text[_ngcontent-%COMP%]{flex:1;font-size:15px;font-weight:500;color:#0a3d4d}.poll-message[_ngcontent-%COMP%]   .poll-votes[_ngcontent-%COMP%]{font-size:13px;color:#0a5a6d;margin-top:10px;font-weight:500}.message.received[_ngcontent-%COMP%]   .poll-message[_ngcontent-%COMP%]   .poll-question[_ngcontent-%COMP%]{color:var(--text-main)}.message.received[_ngcontent-%COMP%]   .poll-message[_ngcontent-%COMP%]   .poll-option[_ngcontent-%COMP%]{background:#ffffff1a}.message.received[_ngcontent-%COMP%]   .poll-message[_ngcontent-%COMP%]   .poll-option[_ngcontent-%COMP%]:hover{background:#fff3}.message.received[_ngcontent-%COMP%]   .poll-message[_ngcontent-%COMP%]   .poll-option[_ngcontent-%COMP%]   .option-radio[_ngcontent-%COMP%]{border-color:var(--text-muted);background:#ffffff1a}.message.received[_ngcontent-%COMP%]   .poll-message[_ngcontent-%COMP%]   .poll-option[_ngcontent-%COMP%]   .option-text[_ngcontent-%COMP%]{color:var(--text-main)}.message.received[_ngcontent-%COMP%]   .poll-message[_ngcontent-%COMP%]   .poll-votes[_ngcontent-%COMP%]{color:var(--text-muted)}.poll-message[_ngcontent-%COMP%]   .poll-option.selected[_ngcontent-%COMP%]{background:#25d3664d;border:2px solid #25d366}.poll-message[_ngcontent-%COMP%]   .poll-option.selected[_ngcontent-%COMP%]   .option-radio[_ngcontent-%COMP%]{background:linear-gradient(135deg,#25d366,#128c7e);border-color:#25d366;display:flex;align-items:center;justify-content:center}.poll-message[_ngcontent-%COMP%]   .poll-option.selected[_ngcontent-%COMP%]   .option-text[_ngcontent-%COMP%]{font-weight:600}.poll-message[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{background:#0003;color:#0a3d4d;font-size:12px;font-weight:600;padding:2px 8px;border-radius:12px;min-width:20px;text-align:center}.message.received[_ngcontent-%COMP%]   .poll-message[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{background:#ffffff26;color:var(--text-main)}.forward-modal[_ngcontent-%COMP%]{background:var(--glass-heavy);border:1px solid var(--border-subtle);border-radius:24px;width:90%;max-width:400px;max-height:80vh;display:flex;flex-direction:column;overflow:hidden;backdrop-filter:blur(20px)}.forward-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:20px;border-bottom:1px solid var(--border-subtle)}.forward-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.2rem;color:var(--text-main)}.forward-search[_ngcontent-%COMP%]{padding:15px 20px;border-bottom:1px solid var(--border-subtle)}.forward-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;background:var(--glass-light);border:1px solid var(--border-subtle);border-radius:12px;color:var(--text-main);outline:none}.forward-users-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:10px 0}.forward-user-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 20px;cursor:pointer;transition:background .2s ease;gap:15px}.forward-user-item[_ngcontent-%COMP%]:hover{background:var(--glass-light)}.forward-user-item[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;overflow:hidden;display:flex;align-items:center;justify-content:center;background:var(--accent-primary);color:#fff;font-weight:700;font-size:1.2rem}.forward-user-item[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.forward-user-item[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]{flex:1}.forward-user-item[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{color:var(--text-main);font-weight:500}.forward-user-item[_ngcontent-%COMP%]   .user-status[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-muted)}.forward-send-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;border:none;background:var(--accent-primary);color:#fff;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .2s ease}.forward-user-item[_ngcontent-%COMP%]:hover   .forward-send-btn[_ngcontent-%COMP%]{opacity:1}.no-results[_ngcontent-%COMP%]{padding:40px;text-align:center;color:var(--text-muted)}.group-modal[_ngcontent-%COMP%]{background:var(--glass-heavy);border:1px solid var(--border-subtle);border-radius:24px;width:90%;max-width:440px;max-height:85vh;display:flex;flex-direction:column;overflow:hidden;backdrop-filter:blur(25px)}.group-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:15px 20px;background:#ffffff0d;border-bottom:1px solid var(--border-subtle);gap:15px}.modal-back-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-muted);font-size:20px;cursor:pointer;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s}.modal-back-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a;color:var(--text-main)}.header-text[_ngcontent-%COMP%]{flex:1}.header-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;color:var(--text-main)}.header-text[_ngcontent-%COMP%]   .sub-text[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-muted)}.next-step-btn[_ngcontent-%COMP%], .create-group-btn[_ngcontent-%COMP%]{width:45px;height:45px;border-radius:50%;border:none;background:var(--accent-primary);color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:transform .2s,background .2s}.next-step-btn[_ngcontent-%COMP%]:hover, .create-group-btn[_ngcontent-%COMP%]:hover{background:#1ebe5e;transform:scale(1.05)}.next-step-btn[_ngcontent-%COMP%]:disabled, .create-group-btn[_ngcontent-%COMP%]:disabled{background:var(--text-muted);opacity:.5;cursor:not-allowed;transform:none}.group-search[_ngcontent-%COMP%]{padding:10px 20px;border-bottom:1px solid var(--border-subtle)}.selected-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:10px;max-height:100px;overflow-y:auto}.participant-tag[_ngcontent-%COMP%]{background:var(--accent-primary);color:#fff;padding:4px 10px;border-radius:15px;font-size:.85rem;display:flex;align-items:center;gap:6px}.remove-tag[_ngcontent-%COMP%]{background:#0003;border:none;color:#fff;cursor:pointer;border-radius:50%;width:16px;height:16px;display:flex;align-items:center;justify-content:center;font-size:10px}.group-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:transparent;border:none;color:var(--text-main);padding:10px 0;font-size:1rem;outline:none}.group-users-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto}.group-user-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 20px;cursor:pointer;gap:15px;transition:background .2s}.group-user-item[_ngcontent-%COMP%]:hover{background:var(--glass-light)}.group-user-item.selected[_ngcontent-%COMP%]{background:#25d3660d}.custom-checkbox[_ngcontent-%COMP%]{width:22px;height:22px;border:2px solid var(--border-subtle);border-radius:6px;display:flex;align-items:center;justify-content:center;transition:all .2s}.custom-checkbox.checked[_ngcontent-%COMP%]{background:var(--accent-primary);border-color:var(--accent-primary)}.group-setup-content[_ngcontent-%COMP%]{padding:30px 20px;display:flex;flex-direction:column;align-items:center;gap:30px}.group-icon-setup[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:12px;cursor:pointer;color:var(--text-muted)}.group-icon-placeholder[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:var(--glass-light);display:flex;align-items:center;justify-content:center;border:2px dashed var(--border-subtle);transition:all .2s}.group-icon-setup[_ngcontent-%COMP%]:hover   .group-icon-placeholder[_ngcontent-%COMP%]{background:var(--glass-heavy);color:var(--text-main);border-color:var(--accent-primary)}.group-name-input[_ngcontent-%COMP%]{width:100%;position:relative;border-bottom:2px solid var(--accent-primary);padding-bottom:5px}.group-name-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:transparent;border:none;color:var(--text-main);font-size:1.2rem;outline:none;padding-right:30px}.char-countdown[_ngcontent-%COMP%]{position:absolute;right:0;bottom:5px;font-size:.8rem;color:var(--text-muted)}.participants-summary[_ngcontent-%COMP%]{width:100%}.participants-summary[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.9rem;color:var(--text-muted);margin-bottom:15px}.participants-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px;max-height:150px;overflow-y:auto}.participant-thumb[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:5px;width:60px}.avatar-sm[_ngcontent-%COMP%]{width:45px;height:45px;border-radius:50%;background:var(--accent-primary);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;overflow:hidden}.avatar-sm[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.name-sm[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-main);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%;text-align:center}.sidebar-overlay[_ngcontent-%COMP%]{background:#0006;backdrop-filter:none;justify-content:flex-end}.sidebar-panel[_ngcontent-%COMP%]{background:#111b21;width:400px;min-width:400px;height:100%;position:relative;display:flex;flex-direction:column;border-left:1px solid rgba(255,255,255,.05);box-shadow:-8px 0 24px #0000004d}.animate-slide-in-right[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInRight .3s cubic-bezier(.2,0,0,1)}.group-info-header[_ngcontent-%COMP%]{height:54px;display:flex;align-items:center;padding:0 16px;background:#202c33;gap:16px;color:#e9edef}.header-titles[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:19px;font-weight:500}.header-titles[_ngcontent-%COMP%]   .sub-text[_ngcontent-%COMP%]{font-size:13px;color:#8696a0}.group-info-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;color:#aebac1;cursor:pointer;padding:8px;display:flex;align-items:center;justify-content:center;border-radius:50%}.group-info-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#ffffff0d}.group-info-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;background:#0b141a;padding-bottom:40px}.group-info-main[_ngcontent-%COMP%]{padding:12px 20px 4px;display:flex;flex-direction:column;align-items:center;background:#0b141a}.group-large-avatar[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;background:#6a7175;display:flex;align-items:center;justify-content:center;margin-bottom:8px;overflow:hidden;color:#fff;box-shadow:0 4px 12px #0003}.group-large-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.group-info-main[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:24px;color:#e9edef;font-weight:500}.group-status-text[_ngcontent-%COMP%]{color:#00a884;font-size:14px;font-weight:400;margin-top:2px}.participant-actions[_ngcontent-%COMP%]{padding:10px 0}.action-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:15px 25px;gap:15px;cursor:pointer;transition:background .2s}.action-item[_ngcontent-%COMP%]:hover{background:#202c33}.action-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center}.action-icon.green[_ngcontent-%COMP%]{background:#00a884;color:#fff}.action-text[_ngcontent-%COMP%]{color:#e9edef;font-size:1rem}.participants-list[_ngcontent-%COMP%]{padding-top:5px}.participant-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;padding:12px 25px;cursor:pointer}.participant-item[_ngcontent-%COMP%]:hover{background:#202c33}.participant-item[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#6a7175;display:flex;align-items:center;justify-content:center;overflow:hidden;color:#fff;font-weight:500}.participant-item[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.participant-item[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:0}.user-name-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.participant-item[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{color:#e9edef;font-size:1rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.user-bio[_ngcontent-%COMP%]{color:#8696a0;font-size:.9rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.admin-badge[_ngcontent-%COMP%]{background:none;color:#00a884;padding:2px 6px;border-radius:3px;font-size:.75rem;border:1px solid rgba(0,168,132,.3)}.group-info-actions[_ngcontent-%COMP%]{padding:20px 0 40px}.exit-action-btn[_ngcontent-%COMP%]{width:100%;padding:15px 25px;background:none;border:none;color:#f15c6d;display:flex;align-items:center;gap:20px;cursor:pointer;font-size:1rem;transition:background .2s}.exit-action-btn[_ngcontent-%COMP%]:hover{background:#202c33}.exit-action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#f15c6d}.animate-slide-in-right[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInRight .3s ease}@keyframes _ngcontent-%COMP%_slideInRight{0%{transform:translate(100%)}to{transform:translate(0)}}.reveal-overlay[_ngcontent-%COMP%]{background:#0b141ad9!important;display:flex;align-items:center;justify-content:center;z-index:2000}.confirm-modal[_ngcontent-%COMP%]{background:#3b4a54;width:90%;max-width:450px;padding:24px;border-radius:3px;box-shadow:0 4px 20px #00000080}.confirm-modal-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 35px;font-size:1rem;color:#e9edef;line-height:1.4}.confirm-modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:8px}.confirm-modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;padding:10px 16px;font-size:.875rem;font-weight:500;letter-spacing:.05em;cursor:pointer;border-radius:3px;transition:background .2s}.confirm-modal-actions[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%], .confirm-modal-actions[_ngcontent-%COMP%]   .confirm-btn[_ngcontent-%COMP%]{color:#00a884}.confirm-modal-actions[_ngcontent-%COMP%]   .confirm-btn.crimson[_ngcontent-%COMP%]{background:#00a884;color:#111b21}.confirm-modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#ffffff0d}.confirm-modal-actions[_ngcontent-%COMP%]   .confirm-btn.crimson[_ngcontent-%COMP%]:hover{background:#06cf9c}.user-selection-item[_ngcontent-%COMP%]:hover{background:#ffffff0d!important}.user-selection-item.selected[_ngcontent-%COMP%]{background:#00a8841a!important}.custom-checkbox.checked[_ngcontent-%COMP%]{background:var(--accent-primary);border-color:var(--accent-primary)!important;color:#fff}.cancel-btn-outline[_ngcontent-%COMP%]:hover{background:#ffffff0d!important}.close-btn[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-muted);font-size:1.5rem;cursor:pointer;line-height:1}.close-btn[_ngcontent-%COMP%]:hover{color:var(--text-main)}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{width:100%!important;position:absolute;inset:0;z-index:30;transition:transform .3s cubic-bezier(.4,0,.2,1)}.sidebar.mobile-hidden[_ngcontent-%COMP%]{transform:translate(-100%);pointer-events:none}.chat-area[_ngcontent-%COMP%]{width:100%!important;height:100%;position:absolute;inset:0;z-index:20;display:none!important}.chat-area.mobile-show[_ngcontent-%COMP%]{display:flex!important}.back-btn[_ngcontent-%COMP%]{display:flex!important;align-items:center;justify-content:center;background:transparent;border:none;color:var(--text-main);padding:4px;margin-right:8px;cursor:pointer;border-radius:50%;transition:background .2s}.back-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.chat-header[_ngcontent-%COMP%]{padding:0 16px;height:72px}.call-trigger-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.call-trigger-btn[_ngcontent-%COMP%]{padding:8px;border-radius:50%}.chat-user-avatar[_ngcontent-%COMP%]{width:40px;height:40px}.messages-container[_ngcontent-%COMP%]{padding:15px}.message-input-container[_ngcontent-%COMP%]{padding:12px 16px}.no-chat[_ngcontent-%COMP%]{display:none!important}}@media (min-width: 769px){.back-btn[_ngcontent-%COMP%]{display:none!important}}.reply-preview-bar[_ngcontent-%COMP%]{background:#202c33f2;display:flex;align-items:center;padding:8px 16px;border-radius:8px 8px 0 0;margin:-12px -16px 12px;border-bottom:1px solid rgba(255,255,255,.1);position:relative;z-index:10}.reply-indicator[_ngcontent-%COMP%]{width:4px;height:100%;background:#00a884;border-radius:4px;margin-right:12px;position:absolute;left:8px;top:0}.reply-content[_ngcontent-%COMP%]{flex:1;padding-left:8px;overflow:hidden}.reply-sender[_ngcontent-%COMP%]{color:#00a884;font-size:13px;font-weight:600;margin-bottom:2px}.reply-text[_ngcontent-%COMP%]{color:#8696a0;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.reply-close[_ngcontent-%COMP%]{background:transparent;border:none;color:#8696a0;cursor:pointer;padding:4px;border-radius:50%;transition:background .2s}.reply-close[_ngcontent-%COMP%]:hover{background:#ffffff1a}.quoted-message[_ngcontent-%COMP%]{background:#00000026;border-left:4px solid #00a884;padding:8px 12px;border-radius:6px;margin-bottom:8px;cursor:pointer;font-size:13px;transition:background .2s}.quoted-message[_ngcontent-%COMP%]:hover{background:#00000040}.sent[_ngcontent-%COMP%]   .quoted-message[_ngcontent-%COMP%]{background:#ffffff1a;border-left-color:#ffffff80}.quoted-sender[_ngcontent-%COMP%]{font-weight:700;margin-bottom:2px;font-size:12px}.quoted-text[_ngcontent-%COMP%]{color:#ffffffb3;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.message-reply-btn[_ngcontent-%COMP%]{position:absolute;right:-40px;top:50%;transform:translateY(-50%);background:#202c33;color:#8696a0;border:none;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;opacity:0;transition:all .2s;box-shadow:0 1px 3px #0000004d;z-index:5}.received[_ngcontent-%COMP%]   .message-reply-btn[_ngcontent-%COMP%]{right:-40px}.sent[_ngcontent-%COMP%]   .message-reply-btn[_ngcontent-%COMP%]{left:-40px;right:auto}.message[_ngcontent-%COMP%]:hover   .message-reply-btn[_ngcontent-%COMP%]{opacity:1;transform:translateY(-50%) translate(0)}.received[_ngcontent-%COMP%]:hover   .message-reply-btn[_ngcontent-%COMP%]{right:-36px}.sent[_ngcontent-%COMP%]:hover   .message-reply-btn[_ngcontent-%COMP%]{left:-36px}.highlight-message[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_highlightFade 2s ease}@keyframes _ngcontent-%COMP%_highlightFade{0%{background-color:#00a88466}to{background-color:transparent}}.cancel-btn-outline[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(255,255,255,.1);color:#e9edef;padding:10px 20px;border-radius:8px;font-weight:500;cursor:pointer;transition:all .2s}.cancel-btn-outline[_ngcontent-%COMP%]:hover{background:#ffffff0d;border-color:#fff3}.delete-btn[_ngcontent-%COMP%]{padding:10px 24px;border-radius:8px;font-weight:600;border:none;cursor:pointer;transition:all .2s}.msg-context-menu[_ngcontent-%COMP%]{position:fixed;background:#111b21;background:#111b21fa;backdrop-filter:blur(25px);-webkit-backdrop-filter:blur(25px);border:1px solid rgba(255,255,255,.1);min-width:360px!important;width:auto!important;border-radius:12px;box-shadow:0 16px 48px #000000b3;padding:8px 0;z-index:10000;animation:_ngcontent-%COMP%_contextMenuFadeIn .2s cubic-bezier(.16,1,.3,1);overflow:visible!important}@keyframes _ngcontent-%COMP%_contextMenuFadeIn{0%{opacity:0;transform:scale(.95) translateY(5px)}to{opacity:1;transform:scale(1) translateY(0)}}.reactions-row[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;padding:8px 10px;gap:2px;width:100%;box-sizing:border-box}.reaction-btn[_ngcontent-%COMP%]{background:transparent;border:none;font-size:22px;cursor:pointer;padding:4px;border-radius:50%;transition:all .2s cubic-bezier(.175,.885,.32,1.275);display:flex;align-items:center;justify-content:center;width:32px;height:32px;flex-shrink:0}.reaction-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a;transform:scale(1.3) translateY(-4px);z-index:10}.reaction-btn.more-btn[_ngcontent-%COMP%]{background:#ffffff1a;color:#8696a0;font-size:14px;width:32px;height:32px;margin:0}.menu-divider[_ngcontent-%COMP%]{height:1px;background:#ffffff14;margin:4px 0}.menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:12px 18px;cursor:pointer;color:#e9edef;font-size:14.5px;transition:background .15s ease;-webkit-user-select:none;user-select:none}.menu-item[_ngcontent-%COMP%]:hover{background:#ffffff0f}.menu-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#8696a0;width:20px;height:20px;opacity:.9}.menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}.menu-item.delete-item[_ngcontent-%COMP%]{color:#ff5b5c}.menu-item.delete-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#ff5b5c}.message-reactions[_ngcontent-%COMP%]{position:absolute;bottom:-14px;right:10px;background:#202c33;border:1px solid rgba(255,255,255,.12);padding:3px 8px;border-radius:14px;display:flex;align-items:center;gap:3px;font-size:12px;box-shadow:0 2px 6px #0006;z-index:10;transition:transform .2s ease}.message-reactions[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.reaction-item[_ngcontent-%COMP%]{cursor:default;line-height:1}.reaction-count[_ngcontent-%COMP%]{color:#8696a0;font-size:11px;margin-left:2px;font-weight:500}.confirm-modal[_ngcontent-%COMP%]{max-width:400px;background:#1f2c33;border:1px solid rgba(255,255,255,.1);padding:24px;border-radius:16px;text-align:left}.modal-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#e9edef;margin-bottom:12px}.modal-message[_ngcontent-%COMP%]{font-size:14.5px;color:#8696a0;line-height:1.5;margin-bottom:24px}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px}.delete-btn[_ngcontent-%COMP%]{background:#f15c6d!important;color:#fff!important}.delete-btn[_ngcontent-%COMP%]:hover{background:#d44a5a!important}.info-modal[_ngcontent-%COMP%]{max-width:420px;background:#1f2c33;border-radius:16px;padding:0!important;overflow:hidden}.info-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:20px 24px;background:#202c33;border-bottom:1px solid rgba(255,255,255,.05)}.info-body[_ngcontent-%COMP%]{padding:24px;display:flex;flex-direction:column;gap:16px}.info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:12px;border-bottom:1px solid rgba(255,255,255,.03)}.info-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.info-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;color:#8696a0}.info-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:15px;color:#e9edef;font-weight:500}.info-row[_ngcontent-%COMP%]   .value.status.read[_ngcontent-%COMP%]{color:#53bdeb}.info-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:16px 24px;background:#1f2c33}.contact-large-avatar[_ngcontent-%COMP%]{border-radius:50%!important}.contact-large-avatar[_ngcontent-%COMP%]   .avatar-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:60px;font-weight:500;color:#ffffffe6;background:linear-gradient(135deg,#00f2fe,#4facfe);border-radius:50%}.group-status-text.online[_ngcontent-%COMP%]{color:#00a884;font-weight:500}.contact-quick-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:12px;margin-top:12px;width:100%;padding:0 20px}.q-action[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:4px;padding:4px 0;background:transparent;border:none;flex:1;cursor:pointer;transition:all .2s ease}.q-action[_ngcontent-%COMP%]:hover{transform:translateY(-2px);opacity:.8}.q-icon[_ngcontent-%COMP%]{width:24px;height:24px;display:flex;align-items:center;justify-content:center}.q-action[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13.5px;color:#00a884;font-weight:500}.group-info-section[_ngcontent-%COMP%]{background:#0b141a}.info-item[_ngcontent-%COMP%]{padding:8px 30px;background:#111b21}.info-label[_ngcontent-%COMP%]{font-size:14px;color:#8696a0;margin-bottom:4px;font-weight:400}.info-value[_ngcontent-%COMP%]{font-size:16px;color:#e9edef}.about-text[_ngcontent-%COMP%]{line-height:1.5;white-space:pre-wrap;word-break:break-word;color:#e9edef}.group-info-section[_ngcontent-%COMP%]   .setting-row[_ngcontent-%COMP%]{padding:14px 30px;background:#111b21;margin-bottom:0;border-radius:0;border:none;border-bottom:1px solid rgba(255,255,255,.05)}.group-info-section[_ngcontent-%COMP%]   .setting-row[_ngcontent-%COMP%]:hover{background:#202c33}.group-info-section[_ngcontent-%COMP%]   .setting-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:400;color:#e9edef}.group-info-section[_ngcontent-%COMP%]   .setting-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#8696a0}.exit-action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;padding:8px 30px;width:100%;background:transparent;border:none;cursor:pointer;transition:background .2s;color:#f15c6f}.exit-action-btn[_ngcontent-%COMP%]:hover{background:#f15c6f0d}.exit-action-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-weight:400}.group-info-actions[_ngcontent-%COMP%]{padding:0}.emoji-picker-overlay[_ngcontent-%COMP%]{z-index:10001}.emoji-picker-modal[_ngcontent-%COMP%]{background:#111b21fa;backdrop-filter:blur(25px);-webkit-backdrop-filter:blur(25px);border-radius:16px;width:90%;max-width:420px;max-height:70vh;display:flex;flex-direction:column;box-shadow:0 16px 48px #0009;border:1px solid rgba(255,255,255,.1);overflow:hidden}.emoji-picker-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;border-bottom:1px solid rgba(255,255,255,.1)}.emoji-picker-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#e9edef;font-size:18px;font-weight:500}.emoji-picker-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:16px}.emoji-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(8,1fr);gap:8px}.emoji-btn[_ngcontent-%COMP%]{aspect-ratio:1;display:flex;align-items:center;justify-content:center;font-size:26px;background:transparent;border:none;cursor:pointer;border-radius:10px;transition:all .2s cubic-bezier(.175,.885,.32,1.275);padding:8px}.emoji-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a;transform:scale(1.3);z-index:1}.emoji-btn[_ngcontent-%COMP%]:active{transform:scale(1.1)}.emoji-picker-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.emoji-picker-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.emoji-picker-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#fff3;border-radius:3px}.emoji-picker-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ffffff4d}body.light-theme[_nghost-%COMP%]   .emoji-picker-modal[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .emoji-picker-modal[_ngcontent-%COMP%]{background:#fffffffa;border-color:#0000001a}body.light-theme[_nghost-%COMP%]   .emoji-picker-header[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .emoji-picker-header[_ngcontent-%COMP%]{border-bottom-color:#0000001a}body.light-theme[_nghost-%COMP%]   .emoji-picker-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .emoji-picker-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#1a1a1a}body.light-theme[_nghost-%COMP%]   .emoji-btn[_ngcontent-%COMP%]:hover, body.light-theme   [_nghost-%COMP%]   .emoji-btn[_ngcontent-%COMP%]:hover{background:#0000000d}@media (max-width: 480px){.emoji-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(6,1fr)}.emoji-btn[_ngcontent-%COMP%]{font-size:22px;padding:6px}}.unread-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#25d366,#128c7e);color:#fff;font-size:12px;font-weight:600;min-width:20px;height:20px;border-radius:10px;display:flex;align-items:center;justify-content:center;padding:0 6px;margin-left:auto;flex-shrink:0;box-shadow:0 2px 8px #25d36666;animation:_ngcontent-%COMP%_badgePop .3s cubic-bezier(.175,.885,.32,1.275)}@keyframes _ngcontent-%COMP%_badgePop{0%{transform:scale(0);opacity:0}to{transform:scale(1);opacity:1}}body.light-theme[_nghost-%COMP%]   .unread-badge[_ngcontent-%COMP%], body.light-theme   [_nghost-%COMP%]   .unread-badge[_ngcontent-%COMP%]{box-shadow:0 2px 8px #25d3664d}']})}return o})()}}]);