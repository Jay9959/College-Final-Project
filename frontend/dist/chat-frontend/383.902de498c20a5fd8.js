"use strict";(self.webpackChunkchat_frontend=self.webpackChunkchat_frontend||[]).push([[383],{4383:(yi,ne,_)=>{_.r(ne),_.d(ne,{ChatComponent:()=>Ci});var A={};_.r(A),_.d(A,{Decoder:()=>ee,Encoder:()=>lt,PacketType:()=>d,isPacketValid:()=>gt,protocol:()=>ct});var b=_(467),j=_(177),M=_(1626),k=_(4341),U=_(5312),e=_(4438);const m=Object.create(null);m.open="0",m.close="1",m.ping="2",m.pong="3",m.message="4",m.upgrade="5",m.noop="6";const T=Object.create(null);Object.keys(m).forEach(o=>{T[m[o]]=o});const D={type:"error",data:"parser error"},ie="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),oe="function"==typeof ArrayBuffer,se=o=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(o):o&&o.buffer instanceof ArrayBuffer,X=({type:o,data:s},t,i)=>ie&&s instanceof Blob?t?i(s):re(s,i):oe&&(s instanceof ArrayBuffer||se(s))?t?i(s):re(new Blob([s]),i):i(m[o]+(s||"")),re=(o,s)=>{const t=new FileReader;return t.onload=function(){const i=t.result.split(",")[1];s("b"+(i||""))},t.readAsDataURL(o)};function ae(o){return o instanceof Uint8Array?o:o instanceof ArrayBuffer?new Uint8Array(o):new Uint8Array(o.buffer,o.byteOffset,o.byteLength)}let $;const w=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let o=0;o<64;o++)w["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(o)]=o;const je="function"==typeof ArrayBuffer,L=(o,s)=>{if("string"!=typeof o)return{type:"message",data:ce(o,s)};const t=o.charAt(0);return"b"===t?{type:"message",data:we(o.substring(1),s)}:T[t]?o.length>1?{type:T[t],data:o.substring(1)}:{type:T[t]}:D},we=(o,s)=>{if(je){const t=(o=>{let i,r,a,c,l,s=.75*o.length,t=o.length,n=0;"="===o[o.length-1]&&(s--,"="===o[o.length-2]&&s--);const h=new ArrayBuffer(s),u=new Uint8Array(h);for(i=0;i<t;i+=4)r=w[o.charCodeAt(i)],a=w[o.charCodeAt(i+1)],c=w[o.charCodeAt(i+2)],l=w[o.charCodeAt(i+3)],u[n++]=r<<2|a>>4,u[n++]=(15&a)<<4|c>>2,u[n++]=(3&c)<<6|63&l;return h})(o);return ce(t,s)}return{base64:!0,data:o}},ce=(o,s)=>"blob"===s?o instanceof Blob?o:new Blob([o]):o instanceof ArrayBuffer?o:o.buffer;let q;function E(o){return o.reduce((s,t)=>s+t.length,0)}function R(o,s){if(o[0].length===s)return o.shift();const t=new Uint8Array(s);let i=0;for(let n=0;n<s;n++)t[n]=o[0][i++],i===o[0].length&&(o.shift(),i=0);return o.length&&i<o[0].length&&(o[0]=o[0].slice(i)),t}function p(o){if(o)return function Ee(o){for(var s in p.prototype)o[s]=p.prototype[s];return o}(o)}p.prototype.on=p.prototype.addEventListener=function(o,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+o]=this._callbacks["$"+o]||[]).push(s),this},p.prototype.once=function(o,s){function t(){this.off(o,t),s.apply(this,arguments)}return t.fn=s,this.on(o,t),this},p.prototype.off=p.prototype.removeListener=p.prototype.removeAllListeners=p.prototype.removeEventListener=function(o,s){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var t=this._callbacks["$"+o];if(!t)return this;if(1==arguments.length)return delete this._callbacks["$"+o],this;for(var i,n=0;n<t.length;n++)if((i=t[n])===s||i.fn===s){t.splice(n,1);break}return 0===t.length&&delete this._callbacks["$"+o],this},p.prototype.emitReserved=p.prototype.emit=function(o){this._callbacks=this._callbacks||{};for(var s=new Array(arguments.length-1),t=this._callbacks["$"+o],i=1;i<arguments.length;i++)s[i-1]=arguments[i];if(t){i=0;for(var n=(t=t.slice(0)).length;i<n;++i)t[i].apply(this,s)}return this},p.prototype.listeners=function(o){return this._callbacks=this._callbacks||{},this._callbacks["$"+o]||[]},p.prototype.hasListeners=function(o){return!!this.listeners(o).length};const I="function"==typeof Promise&&"function"==typeof Promise.resolve?s=>Promise.resolve().then(s):(s,t)=>t(s,0),g=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function pe(o,...s){return s.reduce((t,i)=>(o.hasOwnProperty(i)&&(t[i]=o[i]),t),{})}const Ie=g.setTimeout,Ne=g.clearTimeout;function N(o,s){s.useNativeTimers?(o.setTimeoutFn=Ie.bind(g),o.clearTimeoutFn=Ne.bind(g)):(o.setTimeoutFn=g.setTimeout.bind(g),o.clearTimeoutFn=g.clearTimeout.bind(g))}function Pe(o){return"string"==typeof o?function Oe(o){let s=0,t=0;for(let i=0,n=o.length;i<n;i++)s=o.charCodeAt(i),s<128?t+=1:s<2048?t+=2:s<55296||s>=57344?t+=3:(i++,t+=4);return t}(o):Math.ceil(1.33*(o.byteLength||o.size))}function _e(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class Ae extends Error{constructor(s,t,i){super(s),this.description=t,this.context=i,this.type="TransportError"}}class Y extends p{constructor(s){super(),this.writable=!1,N(this,s),this.opts=s,this.query=s.query,this.socket=s.socket,this.supportsBinary=!s.forceBase64}onError(s,t,i){return super.emitReserved("error",new Ae(s,t,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(s){"open"===this.readyState&&this.write(s)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(s){const t=L(s,this.socket.binaryType);this.onPacket(t)}onPacket(s){super.emitReserved("packet",s)}onClose(s){this.readyState="closed",super.emitReserved("close",s)}pause(s){}createUri(s,t={}){return s+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const s=this.opts.hostname;return-1===s.indexOf(":")?s:"["+s+"]"}_port(){return this.opts.port&&(this.opts.secure&&443!==Number(this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(s){const t=function Be(o){let s="";for(let t in o)o.hasOwnProperty(t)&&(s.length&&(s+="&"),s+=encodeURIComponent(t)+"="+encodeURIComponent(o[t]));return s}(s);return t.length?"?"+t:""}}class Ue extends Y{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(s){this.readyState="pausing";const t=()=>{this.readyState="paused",s()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||t()})),this.writable||(i++,this.once("drain",function(){--i||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(s){((o,s)=>{const t=o.split("\x1e"),i=[];for(let n=0;n<t.length;n++){const r=L(t[n],s);if(i.push(r),"error"===r.type)break}return i})(s,this.socket.binaryType).forEach(i=>{if("opening"===this.readyState&&"open"===i.type&&this.onOpen(),"close"===i.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const s=()=>{this.write([{type:"close"}])};"open"===this.readyState?s():this.once("open",s)}write(s){this.writable=!1,((o,s)=>{const t=o.length,i=new Array(t);let n=0;o.forEach((r,a)=>{X(r,!1,c=>{i[a]=c,++n===t&&s(i.join("\x1e"))})})})(s,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const s=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=_e()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(s,t)}}let he=!1;try{he=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const De=he;function Xe(){}class $e extends Ue{constructor(s){if(super(s),typeof location<"u"){const t="https:"===location.protocol;let i=location.port;i||(i=t?"443":"80"),this.xd=typeof location<"u"&&s.hostname!==location.hostname||i!==s.port}}doWrite(s,t){const i=this.request({method:"POST",data:s});i.on("success",t),i.on("error",(n,r)=>{this.onError("xhr post error",n,r)})}doPoll(){const s=this.request();s.on("data",this.onData.bind(this)),s.on("error",(t,i)=>{this.onError("xhr poll error",t,i)}),this.pollXhr=s}}let V=(()=>{class o extends p{constructor(t,i,n){super(),this.createRequest=t,N(this,n),this._opts=n,this._method=n.method||"GET",this._uri=i,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var t;const i=pe(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");i.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(i);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let r in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(r)&&n.setRequestHeader(r,this._opts.extraHeaders[r])}}catch{}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}null===(t=this._opts.cookieJar)||void 0===t||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var r;3===n.readyState&&(null===(r=this._opts.cookieJar)||void 0===r||r.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"==typeof n.status?n.status:0)},0))},n.send(this._data)}catch(r){return void this.setTimeoutFn(()=>{this._onError(r)},0)}typeof document<"u"&&(this._index=o.requestsCount++,o.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||null===this._xhr)){if(this._xhr.onreadystatechange=Xe,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete o.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return o.requestsCount=0,o.requests={},o})();function ue(){for(let o in V.requests)V.requests.hasOwnProperty(o)&&V.requests[o].abort()}typeof document<"u"&&("function"==typeof attachEvent?attachEvent("onunload",ue):"function"==typeof addEventListener&&addEventListener("onpagehide"in g?"pagehide":"unload",ue,!1));const Le=function(){const o=ge({xdomain:!1});return o&&null!==o.responseType}();function ge(o){const s=o.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!s||De))return new XMLHttpRequest}catch{}if(!s)try{return new(g[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch{}}const fe=typeof navigator<"u"&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class Ye extends Y{get name(){return"websocket"}doOpen(){const s=this.uri(),t=this.opts.protocols,i=fe?{}:pe(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(s,t,i)}catch(n){return this.emitReserved("error",n)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=s=>this.onClose({description:"websocket connection closed",context:s}),this.ws.onmessage=s=>this.onData(s.data),this.ws.onerror=s=>this.onError("websocket error",s)}write(s){this.writable=!1;for(let t=0;t<s.length;t++){const i=s[t],n=t===s.length-1;X(i,this.supportsBinary,r=>{try{this.doWrite(i,r)}catch{}n&&I(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const s=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=_e()),this.supportsBinary||(t.b64=1),this.createUri(s,t)}}const z=g.WebSocket||g.MozWebSocket,We={websocket:class ze extends Ye{createSocket(s,t,i){return fe?new z(s,t,i):t?new z(s,t):new z(s)}doWrite(s,t){this.ws.send(t)}},webtransport:class He extends Y{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(s){return this.emitReserved("error",s)}this._transport.closed.then(()=>{this.onClose()}).catch(s=>{this.onError("webtransport error",s)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(s=>{const t=function Te(o,s){q||(q=new TextDecoder);const t=[];let i=0,n=-1,r=!1;return new TransformStream({transform(a,c){for(t.push(a);;){if(0===i){if(E(t)<1)break;const l=R(t,1);r=!(128&~l[0]),n=127&l[0],i=n<126?3:126===n?1:2}else if(1===i){if(E(t)<2)break;const l=R(t,2);n=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),i=3}else if(2===i){if(E(t)<8)break;const l=R(t,8),h=new DataView(l.buffer,l.byteOffset,l.length),u=h.getUint32(0);if(u>Math.pow(2,21)-1){c.enqueue(D);break}n=u*Math.pow(2,32)+h.getUint32(4),i=3}else{if(E(t)<n)break;const l=R(t,n);c.enqueue(L(r?l:q.decode(l),s)),i=0}if(0===n||n>o){c.enqueue(D);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=s.readable.pipeThrough(t).getReader(),n=function Me(){return new TransformStream({transform(o,s){!function Ce(o,s){ie&&o.data instanceof Blob?o.data.arrayBuffer().then(ae).then(s):oe&&(o.data instanceof ArrayBuffer||se(o.data))?s(ae(o.data)):X(o,!1,t=>{$||($=new TextEncoder),s($.encode(t))})}(o,t=>{const i=t.length;let n;if(i<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,i);else if(i<65536){n=new Uint8Array(3);const r=new DataView(n.buffer);r.setUint8(0,126),r.setUint16(1,i)}else{n=new Uint8Array(9);const r=new DataView(n.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(i))}o.data&&"string"!=typeof o.data&&(n[0]|=128),s.enqueue(n),s.enqueue(t)})}})}();n.readable.pipeTo(s.writable),this._writer=n.writable.getWriter();const r=()=>{i.read().then(({done:c,value:l})=>{c||(this.onPacket(l),r())}).catch(c=>{})};r();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(s){this.writable=!1;for(let t=0;t<s.length;t++){const n=t===s.length-1;this._writer.write(s[t]).then(()=>{n&&I(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var s;null===(s=this._transport)||void 0===s||s.close()}},polling:class qe extends $e{constructor(s){super(s),this.supportsBinary=Le&&!(s&&s.forceBase64)}request(s={}){return Object.assign(s,{xd:this.xd},this.opts),new V(ge,this.uri(),s)}}},Je=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Qe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function H(o){if(o.length>8e3)throw"URI too long";const s=o,t=o.indexOf("["),i=o.indexOf("]");-1!=t&&-1!=i&&(o=o.substring(0,t)+o.substring(t,i).replace(/:/g,";")+o.substring(i,o.length));let n=Je.exec(o||""),r={},a=14;for(;a--;)r[Qe[a]]=n[a]||"";return-1!=t&&-1!=i&&(r.source=s,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=function Ke(o,s){const i=s.replace(/\/{2,9}/g,"/").split("/");return("/"==s.slice(0,1)||0===s.length)&&i.splice(0,1),"/"==s.slice(-1)&&i.splice(i.length-1,1),i}(0,r.path),r.queryKey=function Ze(o,s){const t={};return s.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,n,r){n&&(t[n]=r)}),t}(0,r.query),r}const W="function"==typeof addEventListener&&"function"==typeof removeEventListener,P=[];W&&addEventListener("offline",()=>{P.forEach(o=>o())},!1);let J=(()=>{class o extends p{constructor(t,i){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&"object"==typeof t&&(i=t,t=null),t){const n=H(t);i.hostname=n.host,i.secure="https"===n.protocol||"wss"===n.protocol,i.port=n.port,n.query&&(i.query=n.query)}else i.host&&(i.hostname=H(i.host).host);N(this,i),this.secure=null!=i.secure?i.secure:typeof location<"u"&&"https:"===location.protocol,i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.hostname=i.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=i.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},i.transports.forEach(n=>{const r=n.prototype.name;this.transports.push(r),this._transportsByName[r]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},i),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function Ge(o){let s={},t=o.split("&");for(let i=0,n=t.length;i<n;i++){let r=t[i].split("=");s[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return s}(this.opts.query)),W&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},P.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const i=Object.assign({},this.opts.query);i.EIO=4,i.transport=t,this.id&&(i.sid=this.id);const n=Object.assign({},this.opts,{query:i,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const t=this.opts.rememberUpgrade&&o.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const i=this.createTransport(t);i.open(),this.setTransport(i)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",i=>this._onClose("transport close",i))}onOpen(){this.readyState="open",o.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const i=new Error("server error");i.code=t.data,this._onError(i);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let i=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(i+=Pe(r)),n>0&&i>this._maxPayload)return this.writeBuffer.slice(0,n);i+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,I(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,i,n){return this._sendPacket("message",t,i,n),this}send(t,i,n){return this._sendPacket("message",t,i,n),this}_sendPacket(t,i,n,r){if("function"==typeof i&&(r=i,i=void 0),"function"==typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const a={type:t,data:i,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),r&&this.once("flush",r),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},i=()=>{this.off("upgrade",i),this.off("upgradeError",i),t()},n=()=>{this.once("upgrade",i),this.once("upgradeError",i)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(o.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,i){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),W&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=P.indexOf(this._offlineEventListener);-1!==n&&P.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,i),this.writeBuffer=[],this._prevBufferLen=0}}}return o.protocol=4,o})();class et extends J{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let s=0;s<this._upgrades.length;s++)this._probe(this._upgrades[s])}_probe(s){let t=this.createTransport(s),i=!1;J.priorWebsocketSuccess=!1;const n=()=>{i||(t.send([{type:"ping",data:"probe"}]),t.once("packet",x=>{if(!i)if("pong"===x.type&&"probe"===x.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;J.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{i||"closed"!==this.readyState&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const F=new Error("probe error");F.transport=t.name,this.emitReserved("upgradeError",F)}}))};function r(){i||(i=!0,u(),t.close(),t=null)}const a=x=>{const F=new Error("probe error: "+x);F.transport=t.name,r(),this.emitReserved("upgradeError",F)};function c(){a("transport closed")}function l(){a("socket closed")}function h(x){t&&x.name!==t.name&&r()}const u=()=>{t.removeListener("open",n),t.removeListener("error",a),t.removeListener("close",c),this.off("close",l),this.off("upgrading",h)};t.once("open",n),t.once("error",a),t.once("close",c),this.once("close",l),this.once("upgrading",h),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==s?this.setTimeoutFn(()=>{i||t.open()},200):t.open()}onHandshake(s){this._upgrades=this._filterUpgrades(s.upgrades),super.onHandshake(s)}_filterUpgrades(s){const t=[];for(let i=0;i<s.length;i++)~this.transports.indexOf(s[i])&&t.push(s[i]);return t}}class me extends et{constructor(s,t={}){const i="object"==typeof s?s:t;(!i.transports||i.transports&&"string"==typeof i.transports[0])&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(n=>We[n]).filter(n=>!!n)),super(s,i)}}const nt="function"==typeof ArrayBuffer,it=o=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(o):o.buffer instanceof ArrayBuffer,ve=Object.prototype.toString,ot="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===ve.call(Blob),st="function"==typeof File||typeof File<"u"&&"[object FileConstructor]"===ve.call(File);function Q(o){return nt&&(o instanceof ArrayBuffer||it(o))||ot&&o instanceof Blob||st&&o instanceof File}function O(o,s){if(!o||"object"!=typeof o)return!1;if(Array.isArray(o)){for(let t=0,i=o.length;t<i;t++)if(O(o[t]))return!0;return!1}if(Q(o))return!0;if(o.toJSON&&"function"==typeof o.toJSON&&1===arguments.length)return O(o.toJSON(),!0);for(const t in o)if(Object.prototype.hasOwnProperty.call(o,t)&&O(o[t]))return!0;return!1}function rt(o){const s=[],i=o;return i.data=K(o.data,s),i.attachments=s.length,{packet:i,buffers:s}}function K(o,s){if(!o)return o;if(Q(o)){const t={_placeholder:!0,num:s.length};return s.push(o),t}if(Array.isArray(o)){const t=new Array(o.length);for(let i=0;i<o.length;i++)t[i]=K(o[i],s);return t}if("object"==typeof o&&!(o instanceof Date)){const t={};for(const i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=K(o[i],s));return t}return o}function at(o,s){return o.data=Z(o.data,s),delete o.attachments,o}function Z(o,s){if(!o)return o;if(o&&!0===o._placeholder){if("number"==typeof o.num&&o.num>=0&&o.num<s.length)return s[o.num];throw new Error("illegal attachments")}if(Array.isArray(o))for(let t=0;t<o.length;t++)o[t]=Z(o[t],s);else if("object"==typeof o)for(const t in o)Object.prototype.hasOwnProperty.call(o,t)&&(o[t]=Z(o[t],s));return o}const ke=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ct=5;var d=function(o){return o[o.CONNECT=0]="CONNECT",o[o.DISCONNECT=1]="DISCONNECT",o[o.EVENT=2]="EVENT",o[o.ACK=3]="ACK",o[o.CONNECT_ERROR=4]="CONNECT_ERROR",o[o.BINARY_EVENT=5]="BINARY_EVENT",o[o.BINARY_ACK=6]="BINARY_ACK",o}(d||{});class lt{constructor(s){this.replacer=s}encode(s){return s.type!==d.EVENT&&s.type!==d.ACK||!O(s)?[this.encodeAsString(s)]:this.encodeAsBinary({type:s.type===d.EVENT?d.BINARY_EVENT:d.BINARY_ACK,nsp:s.nsp,data:s.data,id:s.id})}encodeAsString(s){let t=""+s.type;return(s.type===d.BINARY_EVENT||s.type===d.BINARY_ACK)&&(t+=s.attachments+"-"),s.nsp&&"/"!==s.nsp&&(t+=s.nsp+","),null!=s.id&&(t+=s.id),null!=s.data&&(t+=JSON.stringify(s.data,this.replacer)),t}encodeAsBinary(s){const t=rt(s),i=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(i),n}}class ee extends p{constructor(s){super(),this.reviver=s}add(s){let t;if("string"==typeof s){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(s);const i=t.type===d.BINARY_EVENT;i||t.type===d.BINARY_ACK?(t.type=i?d.EVENT:d.ACK,this.reconstructor=new dt(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!Q(s)&&!s.base64)throw new Error("Unknown type: "+s);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(s),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(s){let t=0;const i={type:Number(s.charAt(0))};if(void 0===d[i.type])throw new Error("unknown packet type "+i.type);if(i.type===d.BINARY_EVENT||i.type===d.BINARY_ACK){const r=t+1;for(;"-"!==s.charAt(++t)&&t!=s.length;);const a=s.substring(r,t);if(a!=Number(a)||"-"!==s.charAt(t))throw new Error("Illegal attachments");i.attachments=Number(a)}if("/"===s.charAt(t+1)){const r=t+1;for(;++t&&","!==s.charAt(t)&&t!==s.length;);i.nsp=s.substring(r,t)}else i.nsp="/";const n=s.charAt(t+1);if(""!==n&&Number(n)==n){const r=t+1;for(;++t;){const a=s.charAt(t);if(null==a||Number(a)!=a){--t;break}if(t===s.length)break}i.id=Number(s.substring(r,t+1))}if(s.charAt(++t)){const r=this.tryParse(s.substr(t));if(!ee.isPayloadValid(i.type,r))throw new Error("invalid payload");i.data=r}return i}tryParse(s){try{return JSON.parse(s,this.reviver)}catch{return!1}}static isPayloadValid(s,t){switch(s){case d.CONNECT:return B(t);case d.DISCONNECT:return void 0===t;case d.CONNECT_ERROR:return"string"==typeof t||B(t);case d.EVENT:case d.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===ke.indexOf(t[0]));case d.ACK:case d.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class dt{constructor(s){this.packet=s,this.buffers=[],this.reconPack=s}takeBinaryData(s){if(this.buffers.push(s),this.buffers.length===this.reconPack.attachments){const t=at(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const _t=Number.isInteger||function(o){return"number"==typeof o&&isFinite(o)&&Math.floor(o)===o};function B(o){return"[object Object]"===Object.prototype.toString.call(o)}function gt(o){return function pt(o){return"string"==typeof o}(o.nsp)&&function ht(o){return void 0===o||_t(o)}(o.id)&&function ut(o,s){switch(o){case d.CONNECT:return void 0===s||B(s);case d.DISCONNECT:return void 0===s;case d.EVENT:return Array.isArray(s)&&("number"==typeof s[0]||"string"==typeof s[0]&&-1===ke.indexOf(s[0]));case d.ACK:return Array.isArray(s);case d.CONNECT_ERROR:return"string"==typeof s||B(s);default:return!1}}(o.type,o.data)}function f(o,s,t){return o.on(s,t),function(){o.off(s,t)}}const ft=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class be extends p{constructor(s,t,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=s,this.nsp=t,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const s=this.io;this.subs=[f(s,"open",this.onopen.bind(this)),f(s,"packet",this.onpacket.bind(this)),f(s,"error",this.onerror.bind(this)),f(s,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...s){return s.unshift("message"),this.emit.apply(this,s),this}emit(s,...t){var i,n,r;if(ft.hasOwnProperty(s))throw new Error('"'+s.toString()+'" is a reserved event name');if(t.unshift(s),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const a={type:d.EVENT,data:t,options:{}};if(a.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const u=this.ids++,x=t.pop();this._registerAckCallback(u,x),a.id=u}const c=null===(n=null===(i=this.io.engine)||void 0===i?void 0:i.transport)||void 0===n?void 0:n.writable,l=this.connected&&!(null!==(r=this.io.engine)&&void 0!==r&&r._hasPingExpired());return this.flags.volatile&&!c||(l?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(s,t){var i;const n=null!==(i=this.flags.timeout)&&void 0!==i?i:this._opts.ackTimeout;if(void 0===n)return void(this.acks[s]=t);const r=this.io.setTimeoutFn(()=>{delete this.acks[s];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===s&&this.sendBuffer.splice(c,1);t.call(this,new Error("operation has timed out"))},n),a=(...c)=>{this.io.clearTimeoutFn(r),t.apply(this,c)};a.withError=!0,this.acks[s]=a}emitWithAck(s,...t){return new Promise((i,n)=>{const r=(a,c)=>a?n(a):i(c);r.withError=!0,t.push(r),this.emit(s,...t)})}_addToQueue(s){let t;"function"==typeof s[s.length-1]&&(t=s.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:s,flags:Object.assign({fromQueue:!0},this.flags)};s.push((n,...r)=>(null!==n?i.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(n)):(this._queue.shift(),t&&t(null,...r)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(s=!1){if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!s||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(s){s.nsp=this.nsp,this.io._packet(s)}onopen(){"function"==typeof this.auth?this.auth(s=>{this._sendConnectPacket(s)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(s){this.packet({type:d.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},s):s})}onerror(s){this.connected||this.emitReserved("connect_error",s)}onclose(s,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",s,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(s=>{if(!this.sendBuffer.some(i=>String(i.id)===s)){const i=this.acks[s];delete this.acks[s],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(s){if(s.nsp===this.nsp)switch(s.type){case d.CONNECT:s.data&&s.data.sid?this.onconnect(s.data.sid,s.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case d.EVENT:case d.BINARY_EVENT:this.onevent(s);break;case d.ACK:case d.BINARY_ACK:this.onack(s);break;case d.DISCONNECT:this.ondisconnect();break;case d.CONNECT_ERROR:this.destroy();const i=new Error(s.data.message);i.data=s.data.data,this.emitReserved("connect_error",i)}}onevent(s){const t=s.data||[];null!=s.id&&t.push(this.ack(s.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(s){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const i of t)i.apply(this,s)}super.emit.apply(this,s),this._pid&&s.length&&"string"==typeof s[s.length-1]&&(this._lastOffset=s[s.length-1])}ack(s){const t=this;let i=!1;return function(...n){i||(i=!0,t.packet({type:d.ACK,id:s,data:n}))}}onack(s){const t=this.acks[s.id];"function"==typeof t&&(delete this.acks[s.id],t.withError&&s.data.unshift(null),t.apply(this,s.data))}onconnect(s,t){this.id=s,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(s=>this.emitEvent(s)),this.receiveBuffer=[],this.sendBuffer.forEach(s=>{this.notifyOutgoingListeners(s),this.packet(s)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(s=>s()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:d.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(s){return this.flags.compress=s,this}get volatile(){return this.flags.volatile=!0,this}timeout(s){return this.flags.timeout=s,this}onAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(s),this}prependAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(s),this}offAny(s){if(!this._anyListeners)return this;if(s){const t=this._anyListeners;for(let i=0;i<t.length;i++)if(s===t[i])return t.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(s){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(s),this}prependAnyOutgoing(s){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(s),this}offAnyOutgoing(s){if(!this._anyOutgoingListeners)return this;if(s){const t=this._anyOutgoingListeners;for(let i=0;i<t.length;i++)if(s===t[i])return t.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(s){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const i of t)i.apply(this,s.data)}}}function y(o){this.ms=(o=o||{}).min||100,this.max=o.max||1e4,this.factor=o.factor||2,this.jitter=o.jitter>0&&o.jitter<=1?o.jitter:0,this.attempts=0}y.prototype.duration=function(){var o=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var s=Math.random(),t=Math.floor(s*this.jitter*o);o=1&Math.floor(10*s)?o+t:o-t}return 0|Math.min(o,this.max)},y.prototype.reset=function(){this.attempts=0},y.prototype.setMin=function(o){this.ms=o},y.prototype.setMax=function(o){this.max=o},y.prototype.setJitter=function(o){this.jitter=o};class te extends p{constructor(s,t){var i;super(),this.nsps={},this.subs=[],s&&"object"==typeof s&&(t=s,s=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,N(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(i=t.randomizationFactor)&&void 0!==i?i:.5),this.backoff=new y({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=s;const n=t.parser||A;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(s){return arguments.length?(this._reconnection=!!s,s||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(s){return void 0===s?this._reconnectionAttempts:(this._reconnectionAttempts=s,this)}reconnectionDelay(s){var t;return void 0===s?this._reconnectionDelay:(this._reconnectionDelay=s,null===(t=this.backoff)||void 0===t||t.setMin(s),this)}randomizationFactor(s){var t;return void 0===s?this._randomizationFactor:(this._randomizationFactor=s,null===(t=this.backoff)||void 0===t||t.setJitter(s),this)}reconnectionDelayMax(s){var t;return void 0===s?this._reconnectionDelayMax:(this._reconnectionDelayMax=s,null===(t=this.backoff)||void 0===t||t.setMax(s),this)}timeout(s){return arguments.length?(this._timeout=s,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(s){if(~this._readyState.indexOf("open"))return this;this.engine=new me(this.uri,this.opts);const t=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const n=f(t,"open",function(){i.onopen(),s&&s()}),r=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),s?s(c):this.maybeReconnectOnOpen()},a=f(t,"error",r);if(!1!==this._timeout){const l=this.setTimeoutFn(()=>{n(),r(new Error("timeout")),t.close()},this._timeout);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(n),this.subs.push(a),this}connect(s){return this.open(s)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const s=this.engine;this.subs.push(f(s,"ping",this.onping.bind(this)),f(s,"data",this.ondata.bind(this)),f(s,"error",this.onerror.bind(this)),f(s,"close",this.onclose.bind(this)),f(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(s){try{this.decoder.add(s)}catch(t){this.onclose("parse error",t)}}ondecoded(s){I(()=>{this.emitReserved("packet",s)},this.setTimeoutFn)}onerror(s){this.emitReserved("error",s)}socket(s,t){let i=this.nsps[s];return i?this._autoConnect&&!i.active&&i.connect():(i=new be(this,s,t),this.nsps[s]=i),i}_destroy(s){const t=Object.keys(this.nsps);for(const i of t)if(this.nsps[i].active)return;this._close()}_packet(s){const t=this.encoder.encode(s);for(let i=0;i<t.length;i++)this.engine.write(t[i],s.options)}cleanup(){this.subs.forEach(s=>s()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(s,t){var i;this.cleanup(),null===(i=this.engine)||void 0===i||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",s,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const s=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{s.skipReconnect||(this.emitReserved("reconnect_attempt",s.backoff.attempts),!s.skipReconnect&&s.open(n=>{n?(s._reconnecting=!1,s.reconnect(),this.emitReserved("reconnect_error",n)):s.onreconnect()}))},t);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const s=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",s)}}const S={};function G(o,s){"object"==typeof o&&(s=o,o=void 0);const t=function tt(o,s="",t){let i=o;t=t||typeof location<"u"&&location,null==o&&(o=t.protocol+"//"+t.host),"string"==typeof o&&("/"===o.charAt(0)&&(o="/"===o.charAt(1)?t.protocol+o:t.host+o),/^(https?|wss?):\/\//.test(o)||(o=typeof t<"u"?t.protocol+"//"+o:"https://"+o),i=H(o)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const r=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+r+":"+i.port+s,i.href=i.protocol+"://"+r+(t&&t.port===i.port?"":":"+i.port),i}(o,(s=s||{}).path||"/socket.io"),i=t.source,n=t.id;let l;return s.forceNew||s["force new connection"]||!1===s.multiplex||S[n]&&t.path in S[n].nsps?l=new te(i,s):(S[n]||(S[n]=new te(i,s)),l=S[n]),t.query&&!s.query&&(s.query=t.queryKey),l.socket(t.path,s)}Object.assign(G,{Manager:te,Socket:be,io:G,connect:G});var mt=_(4412),v=_(1985);let xe=(()=>{class o{socket=null;onlineUsersSubject=new mt.t([]);onlineUsers$=this.onlineUsersSubject.asObservable();constructor(){}connect(t){this.socket?.connected||(this.socket=G(U.c.socketUrl,{transports:["websocket","polling"],autoConnect:!0}),this.socket.on("connect",()=>{console.log("Socket connected:",this.socket?.id),this.socket?.emit("join-user",t)}),this.socket.on("online-users",i=>{this.onlineUsersSubject.next(i)}),this.socket.on("user-status-change",i=>{const n=this.onlineUsersSubject.value;i.isOnline?n.includes(i.userId)||this.onlineUsersSubject.next([...n,i.userId]):this.onlineUsersSubject.next(n.filter(r=>r!==i.userId))}),this.socket.on("disconnect",()=>{console.log("Socket disconnected")}))}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null)}sendMessage(t){this.socket?.emit("send-message",t)}onMessageSent(){return new v.c(t=>{this.socket?.on("message-sent",i=>{t.next(i)})})}onReceiveMessage(){return new v.c(t=>{this.socket?.on("receive-message",i=>{t.next(i)})})}sendTyping(t){this.socket?.emit("typing",t)}onUserTyping(){return new v.c(t=>{this.socket?.on("user-typing",i=>{t.next(i)})})}markMessagesSeen(t,i,n){this.socket?.emit("message-seen",{messageIds:t,senderId:i,seenBy:n})}onMessagesSeen(){return new v.c(t=>{this.socket?.on("messages-seen",i=>{t.next(i)})})}onMessageDelivered(){return new v.c(t=>{this.socket?.on("message-delivered",i=>{t.next(i)})})}callUser(t){this.socket?.emit("call-user",t)}onCallMade(){return new v.c(t=>{this.socket?.on("call-made",i=>{t.next(i)})})}answerCall(t){this.socket?.emit("make-answer",t)}onAnswerMade(){return new v.c(t=>{this.socket?.on("answer-made",i=>{t.next(i)})})}sendIceCandidate(t){this.socket?.emit("ice-candidate",{to:t.target,candidate:t.candidate})}onIceCandidate(){return new v.c(t=>{this.socket?.on("ice-candidate-received",i=>{t.next(i)})})}rejectCall(t){this.socket?.emit("reject-call",t)}onCallRejected(){return new v.c(t=>{this.socket?.on("call-rejected",i=>{t.next(i)})})}endCall(t){this.socket?.emit("end-call",t)}onCallEnded(){return new v.c(t=>{this.socket?.on("call-ended",()=>{t.next()})})}emitCallLog(t){this.socket?.emit("call-log",t)}isUserOnline(t){return this.onlineUsersSubject.value.includes(t)}isConnected(){return!!this.socket?.connected}static \u0275fac=function(i){return new(i||o)};static \u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const vt=["localVideo"],kt=["remoteVideo"];function bt(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),e.EFF(4),e.k0s()(),e.j41(5,"h3"),e.EFF(6),e.k0s(),e.j41(7,"p"),e.EFF(8,"Incoming Video Call..."),e.k0s()(),e.j41(9,"div",10)(10,"button",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.declineCall())}),e.qSk(),e.j41(11,"svg",12),e.nrm(12,"line",13)(13,"line",14),e.k0s(),e.EFF(14," Decline "),e.k0s(),e.joV(),e.j41(15,"button",15),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.acceptCall())}),e.qSk(),e.j41(16,"svg",12),e.nrm(17,"path",16),e.k0s(),e.EFF(18," Answer "),e.k0s()()()}if(2&o){const t=e.XpG(2);e.R7$(4),e.SpI(" ",t.callerName.charAt(0).toUpperCase()," "),e.R7$(2),e.JRh(t.callerName)}}function xt(o,s){1&o&&(e.qex(0),e.nrm(1,"video",26,0)(3,"video",27,1),e.bVm())}function Ct(o,s){if(1&o&&(e.j41(0,"div",28)(1,"div",29)(2,"div",30),e.EFF(3),e.k0s()(),e.j41(4,"h3"),e.EFF(5),e.k0s(),e.j41(6,"p"),e.EFF(7,"Voice Call"),e.k0s(),e.nrm(8,"audio",31,0),e.k0s()),2&o){const t=e.XpG(3);e.R7$(3),e.SpI(" ",t.callerName.charAt(0).toUpperCase()," "),e.R7$(2),e.JRh(t.callerName)}}function yt(o,s){1&o&&(e.qSk(),e.j41(0,"svg",12),e.nrm(1,"path",32)(2,"path",33)(3,"line",34)(4,"line",35),e.k0s())}function jt(o,s){1&o&&(e.qSk(),e.j41(0,"svg",12),e.nrm(1,"line",36)(2,"path",37)(3,"path",38)(4,"line",34)(5,"line",35),e.k0s())}function wt(o,s){1&o&&(e.qSk(),e.j41(0,"svg",12),e.nrm(1,"polygon",39)(2,"rect",40),e.k0s())}function St(o,s){1&o&&(e.qSk(),e.j41(0,"svg",12),e.nrm(1,"path",41)(2,"line",36),e.k0s())}function Ft(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",17),e.DNE(1,xt,5,0,"ng-container",18)(2,Ct,10,2,"div",19),e.j41(3,"div",20)(4,"button",21),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.toggleAudio())}),e.DNE(5,yt,5,0,"svg",22)(6,jt,6,0,"svg",22),e.k0s(),e.j41(7,"button",23),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.hangup())}),e.qSk(),e.j41(8,"svg",24),e.nrm(9,"path",25),e.k0s()(),e.joV(),e.j41(10,"button",21),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.toggleVideo())}),e.DNE(11,wt,3,0,"svg",22)(12,St,3,0,"svg",22),e.k0s()()()}if(2&o){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf","video"===t.callType),e.R7$(),e.Y8G("ngIf","audio"===t.callType),e.R7$(2),e.AVh("active",!t.audioEnabled),e.R7$(),e.Y8G("ngIf",t.audioEnabled),e.R7$(),e.Y8G("ngIf",!t.audioEnabled),e.R7$(4),e.AVh("active",!t.videoEnabled),e.R7$(),e.Y8G("ngIf",t.videoEnabled),e.R7$(),e.Y8G("ngIf",!t.videoEnabled)}}function Mt(o,s){if(1&o&&(e.j41(0,"div",3),e.DNE(1,bt,19,2,"div",4)(2,Ft,13,10,"div",5),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.incomingCall&&!t.callActive),e.R7$(),e.Y8G("ngIf",t.callActive)}}let Tt=(()=>{class o{socketService;currentUser;localVideo;remoteVideo;callActive=!1;incomingCall=!1;callerName="";callerId="";callerSignal;callType="video";audioEnabled=!0;videoEnabled=!0;peerConnection;localStream;remoteStream;subscriptions=[];rtcConfig={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]};constructor(t){this.socketService=t}ngOnInit(){var t=this;this.subscriptions.push(this.socketService.onCallMade().subscribe(i=>{this.callActive?this.socketService.rejectCall({to:i.from}):(this.incomingCall=!0,this.callerName=i.name||"Unknown User",this.callerId=i.from,this.callerSignal=i.signal,this.callType=i.callType||"video")}),this.socketService.onAnswerMade().subscribe(function(){var i=(0,b.A)(function*(n){t.peerConnection&&(yield t.peerConnection.setRemoteDescription(new RTCSessionDescription(n.signal)),t.startTime=Date.now())});return function(n){return i.apply(this,arguments)}}()),this.socketService.onIceCandidate().subscribe(function(){var i=(0,b.A)(function*(n){if(t.peerConnection)try{yield t.peerConnection.addIceCandidate(new RTCIceCandidate(n.candidate))}catch(r){console.error("Error adding received ice candidate",r)}});return function(n){return i.apply(this,arguments)}}()),this.socketService.onCallRejected().subscribe(()=>{alert("User rejected the call"),this.socketService.emitCallLog({to:this.callerId,type:"missed",callType:this.callType}),this.resetCall()}),this.socketService.onCallEnded().subscribe(()=>{this.resetCall()}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.resetCall()}startCall(t,i){var n=this;return(0,b.A)(function*(r,a,c="video"){n.callActive=!0,n.callerId=r,n.callType=c,yield n.setupMedia(),n.createPeerConnection(r);const l=yield n.peerConnection.createOffer();yield n.peerConnection.setLocalDescription(l),n.socketService.callUser({userToCall:r,signalData:l,from:n.currentUser._id,name:n.currentUser.username,callType:c})}).apply(this,arguments)}acceptCall(){var t=this;return(0,b.A)(function*(){t.incomingCall=!1,t.callActive=!0,t.startTime=Date.now(),yield t.setupMedia(),setTimeout((0,b.A)(function*(){t.createPeerConnection(t.callerId),yield t.peerConnection.setRemoteDescription(new RTCSessionDescription(t.callerSignal));const i=yield t.peerConnection.createAnswer();yield t.peerConnection.setLocalDescription(i),t.socketService.answerCall({signal:i,to:t.callerId})}),100)})()}declineCall(){this.socketService.rejectCall({to:this.callerId}),this.incomingCall=!1,this.resetCall()}hangup(){this.socketService.endCall({to:this.callerId});const t=this.calculateDuration();this.socketService.emitCallLog({to:this.callerId,type:"ended",duration:t,callType:this.callType}),this.resetCall()}toggleAudio(){this.audioEnabled=!this.audioEnabled,this.localStream.getAudioTracks().forEach(t=>t.enabled=this.audioEnabled)}toggleVideo(){this.videoEnabled=!this.videoEnabled,this.localStream.getVideoTracks().forEach(t=>t.enabled=this.videoEnabled)}startTime=null;calculateDuration(){if(!this.startTime)return"0s";const t=Date.now(),i=Math.floor((t-this.startTime)/1e3);return`${Math.floor(i/60)}m ${i%60}s`}setupMedia(){var t=this;return(0,b.A)(function*(){try{const i={audio:!0,video:"video"===t.callType};if(console.log("Requesting media with constraints:",i),t.localStream=yield navigator.mediaDevices.getUserMedia(i),console.log("Media stream obtained:",t.localStream.getTracks()),t.localVideo&&"video"===t.callType){console.log("Setting local video srcObject"),t.localVideo.nativeElement.srcObject=t.localStream;try{yield t.localVideo.nativeElement.play(),console.log("Local video playing")}catch(n){console.error("Error playing local video:",n)}}}catch(i){console.error("Error accessing media devices:",i),alert("Could not access camera/microphone. Please check permissions.")}})()}createPeerConnection(t){this.peerConnection=new RTCPeerConnection(this.rtcConfig),this.localStream.getTracks().forEach(i=>{this.peerConnection.addTrack(i,this.localStream)}),this.peerConnection.ontrack=i=>{console.log("Received remote track:",i.track.kind),this.remoteStream?console.log("Remote stream already set, track will be added automatically"):(this.remoteStream=i.streams[0],this.remoteVideo&&(console.log("Setting remote video srcObject"),this.remoteVideo.nativeElement.srcObject=this.remoteStream,this.remoteVideo.nativeElement.play().catch(n=>{console.error("Error playing remote video:",n)})))},this.peerConnection.onicecandidate=i=>{i.candidate&&this.socketService.sendIceCandidate({target:t,candidate:i.candidate})},this.peerConnection.onconnectionstatechange=()=>{console.log("Connection state:",this.peerConnection.connectionState),("disconnected"===this.peerConnection.connectionState||"failed"===this.peerConnection.connectionState)&&this.resetCall()}}resetCall(){this.callActive=!1,this.incomingCall=!1,this.callerId="",this.callerName="",this.localStream&&this.localStream.getTracks().forEach(t=>t.stop()),this.peerConnection&&this.peerConnection.close()}static \u0275fac=function(i){return new(i||o)(e.rXU(xe))};static \u0275cmp=e.VBU({type:o,selectors:[["app-call-modal"]],viewQuery:function(i,n){if(1&i&&(e.GBs(vt,5),e.GBs(kt,5)),2&i){let r;e.mGM(r=e.lsd())&&(n.localVideo=r.first),e.mGM(r=e.lsd())&&(n.remoteVideo=r.first)}},inputs:{currentUser:"currentUser"},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[["remoteVideo",""],["localVideo",""],["class","call-overlay",4,"ngIf"],[1,"call-overlay"],["class","incoming-call-modal animate-scale-in",4,"ngIf"],["class","active-call-container animate-fade-in",4,"ngIf"],[1,"incoming-call-modal","animate-scale-in"],[1,"caller-info"],[1,"avatar-ring"],[1,"avatar"],[1,"call-actions"],[1,"btn-decline",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"btn-answer",3,"click"],["d","M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"],[1,"active-call-container","animate-fade-in"],[4,"ngIf"],["class","audio-call-ui",4,"ngIf"],[1,"call-controls"],[1,"control-btn",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",4,"ngIf"],[1,"control-btn","hangup-btn",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","currentColor","stroke","none"],["d","M12 9c-1.6 0-3.15.25-4.6.72v3.1c0 .39-.23.74-.56.9-.98.49-1.87 1.12-2.66 1.85-.18.18-.43.28-.7.28-.28 0-.53-.11-.71-.29L.29 13.08c-.18-.17-.29-.42-.29-.7 0-.28.11-.53.29-.71C3.34 8.78 7.46 7 12 7s8.66 1.78 11.71 4.67c.18.18.29.43.29.71 0 .28-.11.53-.29.71l-2.48 2.48c-.18.18-.43.29-.71.29-.27 0-.52-.11-.7-.28-.79-.74-1.69-1.36-2.67-1.85-.33-.16-.56-.5-.56-.9v-3.1C15.15 9.25 13.6 9 12 9z"],["autoplay","","playsinline","",1,"remote-video"],["autoplay","","playsinline","","muted","",1,"local-video"],[1,"audio-call-ui"],[1,"audio-avatar-ring"],[1,"audio-avatar"],["autoplay",""],["d","M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"],["d","M19 10v2a7 7 0 0 1-14 0v-2"],["x1","12","y1","19","x2","12","y2","23"],["x1","8","y1","23","x2","16","y2","23"],["x1","1","y1","1","x2","23","y2","23"],["d","M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"],["d","M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"],["points","23 7 16 12 23 17 23 7"],["x","1","y","5","width","15","height","14","rx","2","ry","2"],["d","M16 16v1a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2m5.66 0H14a2 2 0 0 1 2 2v3.34l1 1L23 7v10"]],template:function(i,n){1&i&&e.DNE(0,Mt,3,2,"div",2),2&i&&e.Y8G("ngIf",n.callActive||n.incomingCall)},dependencies:[j.MD,j.bT],styles:[".call-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000000d9;backdrop-filter:blur(8px);z-index:9999;display:flex;justify-content:center;align-items:center}.incoming-call-modal[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e293b,#0f172a);padding:2.5rem;border-radius:20px;text-align:center;box-shadow:0 10px 40px #00000080;border:1px solid rgba(255,255,255,.1);width:90%;max-width:400px}.avatar-ring[_ngcontent-%COMP%]{width:100px;height:100px;margin:0 auto 1.5rem;border-radius:50%;padding:4px;background:linear-gradient(45deg,#3b82f6,#8b5cf6);animation:_ngcontent-%COMP%_pulse-ring 2s infinite}.avatar[_ngcontent-%COMP%]{width:100%;height:100%;background:#475569;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:2.5rem;color:#fff;font-weight:700;border:4px solid #0f172a}.caller-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;color:#fff;margin-bottom:.5rem}.caller-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#94a3b8;margin-bottom:2rem}.call-actions[_ngcontent-%COMP%]{display:flex;gap:1.5rem;justify-content:center}.btn-answer[_ngcontent-%COMP%], .btn-decline[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border-radius:50px;border:none;font-weight:600;cursor:pointer;transition:transform .2s,filter .2s}.btn-answer[_ngcontent-%COMP%]{background:#22c55e;color:#fff;box-shadow:0 4px 12px #22c55e4d}.btn-decline[_ngcontent-%COMP%]{background:#ef4444;color:#fff;box-shadow:0 4px 12px #ef44444d}.btn-answer[_ngcontent-%COMP%]:hover, .btn-decline[_ngcontent-%COMP%]:hover{transform:translateY(-2px);filter:brightness(1.1)}.active-call-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:#000}.remote-video[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.local-video[_ngcontent-%COMP%]{position:absolute;bottom:30px;right:30px;width:180px;height:240px;background:#1e293b;border-radius:12px;object-fit:cover;box-shadow:0 4px 20px #00000080;border:2px solid rgba(255,255,255,.2);transition:all .3s ease}.local-video[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.call-controls[_ngcontent-%COMP%]{position:absolute;bottom:30px;left:50%;transform:translate(-50%);display:flex;gap:1.5rem;padding:1rem 2rem;background:#0f172a99;backdrop-filter:blur(10px);border-radius:50px;border:1px solid rgba(255,255,255,.1)}.control-btn[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;border:none;background:#ffffff1a;color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s}.control-btn[_ngcontent-%COMP%]:hover{background:#fff3}.control-btn.active[_ngcontent-%COMP%]{background:#fff;color:#000}.hangup-btn[_ngcontent-%COMP%]{background:#ef4444;width:60px;height:60px;transform:translateY(-5px)}.hangup-btn[_ngcontent-%COMP%]:hover{background:#dc2626}@keyframes _ngcontent-%COMP%_pulse-ring{0%{box-shadow:0 0 #8b5cf6b3}70%{box-shadow:0 0 0 15px #8b5cf600}to{box-shadow:0 0 #8b5cf600}}.animate-scale-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scaleIn .3s cubic-bezier(.16,1,.3,1)}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@media (max-width: 768px){.local-video[_ngcontent-%COMP%]{width:100px;height:140px;bottom:120px;right:20px}.call-controls[_ngcontent-%COMP%]{bottom:30px;width:90%;justify-content:space-around;padding:1rem}}.audio-call-ui[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;color:#fff;z-index:2}.audio-avatar-ring[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;padding:5px;background:linear-gradient(45deg,#22c55e,#3b82f6);margin-bottom:2rem;box-shadow:0 0 30px #3b82f680;animation:_ngcontent-%COMP%_pulse-ring 3s infinite}.audio-avatar[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;background:#1e293b;display:flex;align-items:center;justify-content:center;font-size:4rem;font-weight:700;border:4px solid #0f172a}"]})}return o})();var Et=_(4796);let Rt=(()=>{class o{http;apiUrl=U.c.apiUrl;constructor(t){this.http=t}getUsers(){return this.http.get(`${this.apiUrl}/users`)}getUserById(t){return this.http.get(`${this.apiUrl}/users/${t}`)}getMessages(t){return this.http.get(`${this.apiUrl}/messages/${t}`)}markMessagesAsRead(t){return this.http.put(`${this.apiUrl}/messages/read/${t}`,{})}getUnreadCount(){return this.http.get(`${this.apiUrl}/messages/unread/count`)}uploadFile(t){const i=new FormData;return i.append("file",t),this.http.post(`${this.apiUrl}/messages/upload`,i,{reportProgress:!0,observe:"events"})}static \u0275fac=function(i){return new(i||o)(e.KVO(M.Qq))};static \u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),It=(()=>{class o{currentTheme=(0,e.vPA)("system");mediaQuery;constructor(){this.mediaQuery=window.matchMedia("(prefers-color-scheme: dark)");const t=localStorage.getItem("app-theme");this.setTheme(t||"system"),this.mediaQuery.addEventListener("change",i=>{"system"===this.currentTheme()&&this.applyThemeClass(i.matches?"dark":"light")})}setTheme(t){this.currentTheme.set(t),localStorage.setItem("app-theme",t),this.applyThemeClass("system"===t?this.mediaQuery.matches?"dark":"light":t)}applyThemeClass(t){document.body.classList.remove("theme-dark","theme-light","theme-midnight","theme-forest"),document.body.classList.add(`theme-${t}`)}getTheme(){return this.currentTheme()}static \u0275fac=function(i){return new(i||o)};static \u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var Nt=_(1069),Vt=_(8397);const Pt=["messagesContainer"],Ot=["callModal"];function Bt(o,s){if(1&o&&(e.j41(0,"div",38),e.EFF(1),e.k0s()),2&o){let t;const i=e.XpG();e.R7$(),e.SpI(" ",null==i.currentUser||null==i.currentUser.username||null==(t=i.currentUser.username.charAt(0))?null:t.toUpperCase()," ")}}function Gt(o,s){if(1&o){const t=e.RV6();e.j41(0,"img",39),e.bIt("error",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onAvatarError())}),e.k0s()}if(2&o){const t=e.XpG();e.FS9("alt",null==t.currentUser?null:t.currentUser.username),e.Y8G("src",t.getAvatarUrl(null==t.currentUser?null:t.currentUser.avatar),e.B4B)}}function At(o,s){if(1&o&&(e.qex(0),e.EFF(1),e.bVm()),2&o){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.username.charAt(0).toUpperCase()," ")}}function Ut(o,s){if(1&o){const t=e.RV6();e.j41(0,"img",47),e.bIt("error",function(){e.eBV(t);const n=e.XpG().$implicit;return e.Njj(n.avatar=void 0)}),e.k0s()}if(2&o){const t=e.XpG().$implicit,i=e.XpG();e.Y8G("src",i.getAvatarUrl(t.avatar),e.B4B)}}function Dt(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",40),e.bIt("click",function(){const n=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.selectUser(n))}),e.j41(1,"div",41),e.DNE(2,At,2,1,"ng-container",33)(3,Ut,1,1,"img",42),e.nrm(4,"span",43),e.k0s(),e.j41(5,"div",44)(6,"div",45),e.EFF(7),e.k0s(),e.j41(8,"div",46),e.EFF(9),e.k0s()()()}if(2&o){const t=s.$implicit,i=e.XpG();e.AVh("active",(null==i.selectedUser?null:i.selectedUser._id)===t._id),e.R7$(2),e.Y8G("ngIf",!t.avatar),e.R7$(),e.Y8G("ngIf",t.avatar),e.R7$(),e.AVh("online",i.isUserOnline(t._id)),e.R7$(3),e.JRh(t.fullName||t.username),e.R7$(2),e.JRh(i.isUserOnline(t._id)?"Online":"Offline")}}function Xt(o,s){1&o&&(e.j41(0,"div",48)(1,"p"),e.EFF(2,"No users found"),e.k0s(),e.j41(3,"small"),e.EFF(4,"Invite friends to chat!"),e.k0s()())}function $t(o,s){1&o&&(e.j41(0,"div",49)(1,"div",50),e.qSk(),e.j41(2,"svg",51)(3,"defs")(4,"linearGradient",52),e.nrm(5,"stop",53)(6,"stop",54),e.k0s()(),e.nrm(7,"path",55),e.k0s(),e.joV(),e.j41(8,"h2"),e.EFF(9,"Chat"),e.k0s(),e.j41(10,"p"),e.EFF(11,"Select a conversation to start messaging."),e.k0s()()())}function Lt(o,s){if(1&o&&e.nrm(0,"img",91),2&o){const t=e.XpG(2);e.Y8G("src",t.getAvatarUrl(t.selectedUser.avatar),e.B4B)}}function qt(o,s){if(1&o&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.JRh(t.selectedUser.username.charAt(0).toUpperCase())}}function Yt(o,s){1&o&&(e.j41(0,"span",92),e.EFF(1,"typing..."),e.k0s())}function zt(o,s){1&o&&(e.j41(0,"span"),e.nrm(1,"span",93),e.EFF(2," Online "),e.k0s())}function Ht(o,s){1&o&&(e.j41(0,"span"),e.EFF(1,"Offline"),e.k0s())}function Wt(o,s){if(1&o&&(e.j41(0,"p",106),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.content)}}function Jt(o,s){if(1&o){const t=e.RV6();e.j41(0,"img",110),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,r=e.XpG(2);return e.Njj(r.downloadFile(n.fileUrl))}),e.k0s()}if(2&o){const t=e.XpG(2).$implicit,i=e.XpG(2);e.Y8G("src",i.getAvatarUrl(t.fileUrl),e.B4B)}}function Qt(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",111),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,r=e.XpG(2);return e.Njj(r.downloadMedia(n))}),e.j41(1,"div",112),e.qSk(),e.j41(2,"svg",113),e.nrm(3,"path",114)(4,"polyline",115)(5,"line",116),e.k0s()(),e.joV(),e.j41(6,"span"),e.EFF(7,"Photo \u2022 Click to download"),e.k0s()()}}function Kt(o,s){if(1&o&&(e.j41(0,"div",107),e.DNE(1,Jt,1,1,"img",108)(2,Qt,8,0,"div",109),e.k0s()),2&o){const t=e.XpG().$implicit,i=e.XpG(2);e.R7$(),e.Y8G("ngIf",i.shouldShowMedia(t)),e.R7$(),e.Y8G("ngIf",!i.shouldShowMedia(t))}}function Zt(o,s){if(1&o&&e.nrm(0,"video",119),2&o){const t=e.XpG(2).$implicit,i=e.XpG(2);e.Y8G("src",i.getAvatarUrl(t.fileUrl),e.B4B)}}function en(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",111),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,r=e.XpG(2);return e.Njj(r.downloadMedia(n))}),e.j41(1,"div",112),e.qSk(),e.j41(2,"svg",113),e.nrm(3,"path",114)(4,"polyline",115)(5,"line",116),e.k0s()(),e.joV(),e.j41(6,"span"),e.EFF(7,"Video \u2022 Click to download"),e.k0s()()}}function tn(o,s){if(1&o&&(e.j41(0,"div",117),e.DNE(1,Zt,1,1,"video",118)(2,en,8,0,"div",109),e.k0s()),2&o){const t=e.XpG().$implicit,i=e.XpG(2);e.R7$(),e.Y8G("ngIf",i.shouldShowMedia(t)),e.R7$(),e.Y8G("ngIf",!i.shouldShowMedia(t))}}function nn(o,s){if(1&o&&(e.j41(0,"a",123)(1,"div",124),e.qSk(),e.j41(2,"svg",59),e.nrm(3,"path",125)(4,"polyline",126),e.k0s()(),e.joV(),e.j41(5,"div",127)(6,"span",128),e.EFF(7),e.k0s(),e.j41(8,"span",129),e.EFF(9,"Click to open"),e.k0s()()()),2&o){const t=e.XpG(2).$implicit,i=e.XpG(2);e.Y8G("href",i.getAvatarUrl(t.fileUrl),e.B4B),e.R7$(7),e.JRh(t.content)}}function on(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",130),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,r=e.XpG(2);return e.Njj(r.downloadMedia(n))}),e.j41(1,"div",131),e.qSk(),e.j41(2,"svg",113),e.nrm(3,"path",114)(4,"polyline",115)(5,"line",116),e.k0s()(),e.joV(),e.j41(6,"span"),e.EFF(7),e.k0s()()}if(2&o){const t=e.XpG(2).$implicit;e.R7$(7),e.SpI("",t.content," \u2022 Click to download")}}function sn(o,s){if(1&o&&(e.j41(0,"div",120),e.DNE(1,nn,10,2,"a",121)(2,on,8,1,"div",122),e.k0s()),2&o){const t=e.XpG().$implicit,i=e.XpG(2);e.R7$(),e.Y8G("ngIf",i.shouldShowMedia(t)),e.R7$(),e.Y8G("ngIf",!i.shouldShowMedia(t))}}function rn(o,s){if(1&o&&e.nrm(0,"audio",135),2&o){const t=e.XpG(2).$implicit,i=e.XpG(2);e.Y8G("src",i.getAvatarUrl(t.fileUrl),e.B4B)}}function an(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",136),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,r=e.XpG(2);return e.Njj(r.downloadMedia(n))}),e.j41(1,"div",131),e.qSk(),e.j41(2,"svg",113),e.nrm(3,"path",114)(4,"polyline",115)(5,"line",116),e.k0s()(),e.joV(),e.j41(6,"span"),e.EFF(7,"Audio \u2022 Download"),e.k0s()()}}function cn(o,s){if(1&o&&(e.j41(0,"div",132),e.DNE(1,rn,1,1,"audio",133)(2,an,8,0,"div",134),e.k0s()),2&o){const t=e.XpG().$implicit,i=e.XpG(2);e.R7$(),e.Y8G("ngIf",i.shouldShowMedia(t)),e.R7$(),e.Y8G("ngIf",!i.shouldShowMedia(t))}}function ln(o,s){1&o&&(e.qSk(),e.j41(0,"svg",59),e.nrm(1,"path",143)(2,"rect",72)(3,"line",144),e.k0s())}function dn(o,s){1&o&&(e.qSk(),e.j41(0,"svg",59),e.nrm(1,"path",69),e.k0s())}function pn(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",137),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.onVideoCall())}),e.j41(1,"div",138),e.DNE(2,ln,4,0,"svg",139)(3,dn,2,0,"svg",139),e.k0s(),e.j41(4,"div",140)(5,"div",141),e.EFF(6),e.k0s(),e.j41(7,"div",142),e.EFF(8),e.k0s()()()}if(2&o){const t=e.XpG().$implicit;e.R7$(),e.AVh("missed",null==t.content?null:t.content.includes("Missed"))("ended",!(null!=t.content&&t.content.includes("Missed"))),e.R7$(),e.Y8G("ngIf",null==t.content?null:t.content.includes("Missed")),e.R7$(),e.Y8G("ngIf",!(null!=t.content&&t.content.includes("Missed"))),e.R7$(3),e.JRh(t.content),e.R7$(2),e.JRh(null!=t.content&&t.content.includes("Missed")?"Click to call back":"Tap to call again")}}function _n(o,s){1&o&&(e.j41(0,"span",149),e.EFF(1,"\u2713\u2713"),e.k0s())}function hn(o,s){1&o&&(e.j41(0,"span",150),e.EFF(1,"\u2713\u2713"),e.k0s())}function un(o,s){1&o&&(e.j41(0,"span",151),e.EFF(1,"\u2713"),e.k0s())}function gn(o,s){if(1&o&&(e.j41(0,"span",145),e.DNE(1,_n,2,0,"span",146)(2,hn,2,0,"span",147)(3,un,2,0,"span",148),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",t.seen),e.R7$(),e.Y8G("ngIf",!t.seen&&t.delivered),e.R7$(),e.Y8G("ngIf",!t.seen&&!t.delivered)}}function fn(o,s){if(1&o&&(e.j41(0,"div",152),e.nrm(1,"div",153),e.j41(2,"span",154),e.EFF(3),e.k0s()()),2&o){const t=e.XpG().$implicit;e.R7$(3),e.SpI("",t.uploadProgress,"%")}}function mn(o,s){if(1&o&&(e.j41(0,"div",94)(1,"div",95),e.DNE(2,Wt,2,1,"p",96)(3,Kt,3,2,"div",97)(4,tn,3,2,"div",98)(5,sn,3,2,"div",99)(6,cn,3,2,"div",100)(7,pn,9,8,"div",101),e.j41(8,"div",102)(9,"span",103),e.EFF(10),e.k0s(),e.DNE(11,gn,4,3,"span",104),e.k0s(),e.DNE(12,fn,4,1,"div",105),e.k0s()()),2&o){const t=s.$implicit,i=e.XpG(2);e.AVh("sent",t.sender._id===(null==i.currentUser?null:i.currentUser._id))("received",t.sender._id!==(null==i.currentUser?null:i.currentUser._id)),e.R7$(2),e.Y8G("ngIf","text"===t.messageType||!t.messageType),e.R7$(),e.Y8G("ngIf","image"===t.messageType),e.R7$(),e.Y8G("ngIf","video"===t.messageType),e.R7$(),e.Y8G("ngIf","file"===t.messageType),e.R7$(),e.Y8G("ngIf","audio"===t.messageType),e.R7$(),e.Y8G("ngIf","call_log"===t.messageType),e.R7$(3),e.JRh(i.formatTime(t.createdAt)),e.R7$(),e.Y8G("ngIf",t.sender._id===(null==i.currentUser?null:i.currentUser._id)&&!t.uploadProgress),e.R7$(),e.Y8G("ngIf",void 0!==t.uploadProgress)}}function vn(o,s){1&o&&(e.j41(0,"div",155)(1,"p"),e.EFF(2,"No messages yet"),e.k0s(),e.j41(3,"small"),e.EFF(4,"Start the conversation!"),e.k0s()())}function kn(o,s){if(1&o){const t=e.RV6();e.j41(0,"span",158),e.bIt("click",function(){const n=e.eBV(t).$implicit,r=e.XpG(3);return e.Njj(r.addEmoji(n))}),e.EFF(1),e.k0s()}if(2&o){const t=s.$implicit;e.R7$(),e.JRh(t)}}function bn(o,s){if(1&o&&(e.j41(0,"div",156),e.DNE(1,kn,2,1,"span",157),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.emojis)}}function xn(o,s){1&o&&(e.qSk(),e.j41(0,"svg",59),e.nrm(1,"path",160)(2,"path",161)(3,"line",162)(4,"line",163),e.k0s())}function Cn(o,s){1&o&&(e.qSk(),e.j41(0,"svg",59),e.nrm(1,"rect",164),e.k0s())}function yn(o,s){if(1&o){const t=e.RV6();e.j41(0,"button",159),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.isRecording?n.stopRecording():n.startRecording())}),e.DNE(1,xn,5,0,"svg",139)(2,Cn,2,0,"svg",139),e.k0s()}if(2&o){const t=e.XpG(2);e.xc7("color",t.isRecording?"#ef4444":"")("animation",t.isRecording?"pulse 1.5s infinite":""),e.Y8G("title",t.isRecording?"Stop Recording":"Record Audio"),e.R7$(),e.Y8G("ngIf",!t.isRecording),e.R7$(),e.Y8G("ngIf",t.isRecording)}}function jn(o,s){if(1&o){const t=e.RV6();e.j41(0,"button",165),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.sendMessage())}),e.qSk(),e.j41(1,"svg",166),e.nrm(2,"path",167)(3,"path",168),e.k0s()()}}function wn(o,s){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",56)(2,"div",57)(3,"button",58),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deselectUser())}),e.qSk(),e.j41(4,"svg",59),e.nrm(5,"path",60),e.k0s()(),e.joV(),e.j41(6,"div",61),e.DNE(7,Lt,1,1,"img",62)(8,qt,2,1,"span",33),e.k0s(),e.j41(9,"div",63)(10,"div",64),e.EFF(11),e.k0s(),e.j41(12,"div",65),e.DNE(13,Yt,2,0,"span",66)(14,zt,3,0,"span",33)(15,Ht,2,0,"span",33),e.k0s()(),e.j41(16,"div",67)(17,"button",68),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onVoiceCall())}),e.qSk(),e.j41(18,"svg",59),e.nrm(19,"path",69),e.k0s()(),e.joV(),e.j41(20,"button",70),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onVideoCall())}),e.qSk(),e.j41(21,"svg",59),e.nrm(22,"polygon",71)(23,"rect",72),e.k0s()()()()(),e.joV(),e.nrm(24,"app-call-modal",73,1),e.j41(26,"div",74,2),e.DNE(28,mn,13,13,"div",75)(29,vn,5,0,"div",76),e.k0s(),e.j41(30,"div",77),e.DNE(31,bn,2,1,"div",78),e.j41(32,"div",79)(33,"button",80),e.bIt("click",function(){e.eBV(t);const n=e.sdS(37);return e.Njj(n.click())}),e.qSk(),e.j41(34,"svg",59),e.nrm(35,"path",81),e.k0s()(),e.joV(),e.j41(36,"input",82,3),e.bIt("change",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.onChatFileSelected(n))}),e.k0s(),e.j41(38,"button",83),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleEmojiPicker())}),e.qSk(),e.j41(39,"svg",59),e.nrm(40,"circle",84)(41,"path",85)(42,"line",86)(43,"line",87),e.k0s()(),e.joV(),e.j41(44,"input",88),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.newMessage,n)||(r.newMessage=n),e.Njj(n)}),e.bIt("keyup.enter",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.sendMessage())})("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onTyping())}),e.k0s(),e.DNE(45,yn,3,7,"button",89)(46,jn,4,0,"button",90),e.k0s()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(7),e.Y8G("ngIf",t.selectedUser.avatar),e.R7$(),e.Y8G("ngIf",!t.selectedUser.avatar),e.R7$(3),e.JRh(t.selectedUser.fullName||t.selectedUser.username),e.R7$(2),e.Y8G("ngIf",t.typingUsers[t.selectedUser._id]),e.R7$(),e.Y8G("ngIf",!t.typingUsers[t.selectedUser._id]&&t.isUserOnline(t.selectedUser._id)),e.R7$(),e.Y8G("ngIf",!t.typingUsers[t.selectedUser._id]&&!t.isUserOnline(t.selectedUser._id)),e.R7$(9),e.Y8G("currentUser",t.currentUser),e.R7$(4),e.Y8G("ngForOf",t.messages),e.R7$(),e.Y8G("ngIf",0===t.messages.length),e.R7$(2),e.Y8G("ngIf",t.showEmojiPicker),e.R7$(13),e.Y8G("placeholder",t.isRecording?"Recording audio...":"Type your message..."),e.R50("ngModel",t.newMessage),e.Y8G("disabled",t.isRecording),e.R7$(),e.Y8G("ngIf",!t.newMessage.trim()),e.R7$(),e.Y8G("ngIf",t.newMessage.trim())}}function Sn(o,s){if(1&o&&e.nrm(0,"img",182),2&o){const t=e.XpG(2);e.Y8G("src",t.previewUrl,e.B4B)}}function Fn(o,s){if(1&o&&e.nrm(0,"video",183),2&o){const t=e.XpG(2);e.Y8G("src",t.previewUrl,e.B4B)}}function Mn(o,s){if(1&o&&(e.j41(0,"div",124),e.qSk(),e.j41(1,"svg",184),e.nrm(2,"path",125)(3,"polyline",126),e.k0s(),e.joV(),e.j41(4,"span"),e.EFF(5),e.k0s(),e.j41(6,"small"),e.EFF(7),e.k0s()()),2&o){const t=e.XpG(2);e.R7$(5),e.JRh(t.previewFile.name),e.R7$(2),e.SpI("",(t.previewFile.size/1024/1024).toFixed(2)," MB")}}function Tn(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",169)(1,"div",170)(2,"div",171)(3,"h3"),e.EFF(4,"Send Attachment?"),e.k0s(),e.j41(5,"button",172),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cancelPreview())}),e.EFF(6,"\xd7"),e.k0s()(),e.j41(7,"div",173),e.DNE(8,Sn,1,1,"img",174)(9,Fn,1,1,"video",175)(10,Mn,8,2,"div",176),e.k0s(),e.j41(11,"div",177)(12,"button",178),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cancelPreview())}),e.EFF(13,"Cancel"),e.k0s(),e.j41(14,"button",179),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmSendFile())}),e.EFF(15," Send "),e.qSk(),e.j41(16,"svg",23),e.nrm(17,"line",180)(18,"polygon",181),e.k0s()()()()()}if(2&o){const t=e.XpG();e.R7$(8),e.Y8G("ngIf",t.previewUrl&&(null==t.previewFile||null==t.previewFile.type?null:t.previewFile.type.startsWith("image/"))),e.R7$(),e.Y8G("ngIf",t.previewUrl&&(null==t.previewFile||null==t.previewFile.type?null:t.previewFile.type.startsWith("video/"))),e.R7$(),e.Y8G("ngIf",!t.previewUrl)}}function En(o,s){if(1&o&&e.nrm(0,"img",213),2&o){const t=e.XpG(3);e.Y8G("src",t.getAvatarUrl(null==t.currentUser?null:t.currentUser.avatar),e.B4B)}}function Rn(o,s){if(1&o&&(e.j41(0,"div",214),e.EFF(1),e.k0s()),2&o){let t;const i=e.XpG(3);e.R7$(),e.SpI(" ",null==i.currentUser||null==i.currentUser.username||null==(t=i.currentUser.username.charAt(0))?null:t.toUpperCase()," ")}}function In(o,s){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",187)(2,"h2"),e.EFF(3,"Settings"),e.k0s(),e.j41(4,"button",172),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.closeSettings())}),e.EFF(5,"\xd7"),e.k0s()(),e.j41(6,"div",188),e.nrm(7,"input",189),e.k0s(),e.j41(8,"div",190)(9,"div",191),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("profile"))}),e.j41(10,"div",192),e.DNE(11,En,1,1,"img",193)(12,Rn,2,1,"div",194),e.k0s(),e.j41(13,"div",195)(14,"h3"),e.EFF(15),e.k0s(),e.j41(16,"p",196),e.EFF(17),e.k0s()()(),e.j41(18,"div",197)(19,"div",198),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("general"))}),e.qSk(),e.j41(20,"svg",199),e.nrm(21,"rect",200)(22,"line",201),e.k0s(),e.joV(),e.j41(23,"div",202)(24,"h4"),e.EFF(25,"General"),e.k0s(),e.j41(26,"p"),e.EFF(27,"Startup and close"),e.k0s()()(),e.j41(28,"div",198),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("account"))}),e.qSk(),e.j41(29,"svg",199),e.nrm(30,"path",203),e.k0s(),e.joV(),e.j41(31,"div",202)(32,"h4"),e.EFF(33,"Account"),e.k0s(),e.j41(34,"p"),e.EFF(35,"Security notifications, account info"),e.k0s()()(),e.j41(36,"div",198),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("privacy"))}),e.qSk(),e.j41(37,"svg",199),e.nrm(38,"rect",204)(39,"path",205),e.k0s(),e.joV(),e.j41(40,"div",202)(41,"h4"),e.EFF(42,"Privacy"),e.k0s(),e.j41(43,"p"),e.EFF(44,"Blocked contacts, disappearing messages"),e.k0s()()(),e.j41(45,"div",198),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("chats"))}),e.qSk(),e.j41(46,"svg",199),e.nrm(47,"path",206),e.k0s(),e.joV(),e.j41(48,"div",202)(49,"h4"),e.EFF(50,"Chats"),e.k0s(),e.j41(51,"p"),e.EFF(52,"Theme, wallpaper, chat settings"),e.k0s()()(),e.j41(53,"div",198),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("video-voice"))}),e.qSk(),e.j41(54,"svg",199),e.nrm(55,"polygon",71)(56,"rect",72),e.k0s(),e.joV(),e.j41(57,"div",202)(58,"h4"),e.EFF(59,"Video & voice"),e.k0s(),e.j41(60,"p"),e.EFF(61,"Camera, microphone & speakers"),e.k0s()()(),e.j41(62,"div",198),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("notifications"))}),e.qSk(),e.j41(63,"svg",199),e.nrm(64,"path",207)(65,"path",208),e.k0s(),e.joV(),e.j41(66,"div",202)(67,"h4"),e.EFF(68,"Notifications"),e.k0s(),e.j41(69,"p"),e.EFF(70,"Message notifications"),e.k0s()()(),e.j41(71,"div",209),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onLogout())}),e.qSk(),e.j41(72,"svg",199),e.nrm(73,"path",210)(74,"polyline",211)(75,"line",212),e.k0s(),e.joV(),e.j41(76,"div",202)(77,"h4"),e.EFF(78,"Log out"),e.k0s()()()()(),e.bVm()}if(2&o){const t=e.XpG(2);e.R7$(11),e.Y8G("ngIf",null==t.currentUser?null:t.currentUser.avatar),e.R7$(),e.Y8G("ngIf",!(null!=t.currentUser&&t.currentUser.avatar)),e.R7$(3),e.JRh((null==t.currentUser?null:t.currentUser.fullName)||(null==t.currentUser?null:t.currentUser.username)),e.R7$(2),e.JRh((null==t.currentUser?null:t.currentUser.about)||"Busy doing nothing...")}}function Nn(o,s){if(1&o&&(e.j41(0,"div",238),e.EFF(1),e.k0s()),2&o){let t;const i=e.XpG(3);e.R7$(),e.SpI(" ",null==i.currentUser||null==i.currentUser.username||null==(t=i.currentUser.username.charAt(0))?null:t.toUpperCase()," ")}}function Vn(o,s){if(1&o&&e.nrm(0,"img",239),2&o){const t=e.XpG(3);e.Y8G("src",t.getAvatarUrl(null==t.currentUser?null:t.currentUser.avatar),e.B4B)}}function Pn(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",240)(1,"span",241),e.EFF(2),e.k0s(),e.j41(3,"button",242),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.startEditName())}),e.qSk(),e.j41(4,"svg",243),e.nrm(5,"path",244),e.k0s()()()}if(2&o){const t=e.XpG(3);e.R7$(2),e.JRh(null==t.currentUser?null:t.currentUser.username)}}function On(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",245)(1,"input",246),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(3);return e.DH7(r.tempProfileName,n)||(r.tempProfileName=n),e.Njj(n)}),e.bIt("keyup.enter",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.saveName())})("keyup.escape",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.cancelEditName())}),e.k0s(),e.j41(2,"span",247),e.EFF(3),e.k0s(),e.j41(4,"div",248)(5,"button",249),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.cancelEditName())}),e.qSk(),e.j41(6,"svg",250),e.nrm(7,"line",251)(8,"line",252),e.k0s()(),e.joV(),e.j41(9,"button",253),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.saveName())}),e.qSk(),e.j41(10,"svg",250),e.nrm(11,"polyline",254),e.k0s()()()()}if(2&o){const t=e.XpG(3);e.R7$(),e.R50("ngModel",t.tempProfileName),e.R7$(),e.AVh("low",100-t.tempProfileName.length<20),e.R7$(),e.SpI(" ",100-t.tempProfileName.length," ")}}function Bn(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",240)(1,"span",241),e.EFF(2),e.k0s(),e.j41(3,"button",255),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.startEditAbout())}),e.qSk(),e.j41(4,"svg",243),e.nrm(5,"path",244),e.k0s()()()}if(2&o){const t=e.XpG(3);e.R7$(2),e.JRh((null==t.currentUser?null:t.currentUser.about)||"Busy doing nothing...")}}function Gn(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",245)(1,"textarea",256),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(3);return e.DH7(r.tempProfileAbout,n)||(r.tempProfileAbout=n),e.Njj(n)}),e.bIt("keyup.enter",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.saveAbout())})("keyup.escape",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.cancelEditAbout())}),e.k0s(),e.j41(2,"span",247),e.EFF(3),e.k0s(),e.j41(4,"div",248)(5,"button",249),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.cancelEditAbout())}),e.qSk(),e.j41(6,"svg",250),e.nrm(7,"line",251)(8,"line",252),e.k0s()(),e.joV(),e.j41(9,"button",253),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.saveAbout())}),e.qSk(),e.j41(10,"svg",250),e.nrm(11,"polyline",254),e.k0s()()()()}if(2&o){const t=e.XpG(3);e.R7$(),e.R50("ngModel",t.tempProfileAbout),e.R7$(),e.AVh("low",1500-t.tempProfileAbout.length<50),e.R7$(),e.SpI(" ",1500-t.tempProfileAbout.length," ")}}function An(o,s){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",215)(2,"button",58),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("main"))}),e.qSk(),e.j41(3,"svg",216),e.nrm(4,"path",217)(5,"path",218),e.k0s(),e.joV(),e.j41(6,"span",219),e.EFF(7,"Profile"),e.k0s()()(),e.j41(8,"div",220)(9,"div",221)(10,"div",222),e.bIt("click",function(){e.eBV(t),e.XpG(2);const n=e.sdS(5);return e.Njj(n.click())}),e.DNE(11,Nn,2,1,"div",223)(12,Vn,1,1,"img",224),e.j41(13,"div",225),e.qSk(),e.j41(14,"svg",226),e.nrm(15,"path",227)(16,"path",228)(17,"path",229)(18,"path",230),e.k0s(),e.joV(),e.j41(19,"span"),e.EFF(20,"CHANGE PROFILE PHOTO"),e.k0s()()()(),e.j41(21,"div",231)(22,"div",232)(23,"span",233),e.EFF(24,"Your name"),e.k0s(),e.DNE(25,Pn,6,1,"div",234)(26,On,12,4,"div",235),e.j41(27,"p",236),e.EFF(28,"This is not your username or pin. This name will be visible to your WhatsApp contacts."),e.k0s()(),e.nrm(29,"div",237),e.j41(30,"div",232)(31,"span",233),e.EFF(32,"About"),e.k0s(),e.DNE(33,Bn,6,1,"div",234)(34,Gn,12,4,"div",235),e.k0s()()(),e.bVm()}if(2&o){const t=e.XpG(2);e.R7$(11),e.Y8G("ngIf",!(null!=t.currentUser&&t.currentUser.avatar)),e.R7$(),e.Y8G("ngIf",null==t.currentUser?null:t.currentUser.avatar),e.R7$(13),e.Y8G("ngIf",!t.isEditingName),e.R7$(),e.Y8G("ngIf",t.isEditingName),e.R7$(7),e.Y8G("ngIf",!t.isEditingAbout),e.R7$(),e.Y8G("ngIf",t.isEditingAbout)}}function Un(o,s){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",187)(2,"button",58),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("main"))}),e.qSk(),e.j41(3,"svg",59),e.nrm(4,"line",257)(5,"polyline",258),e.k0s(),e.EFF(6," Chats "),e.k0s(),e.joV(),e.j41(7,"button",172),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.closeSettings())}),e.EFF(8,"\xd7"),e.k0s()(),e.j41(9,"div",190)(10,"div",259)(11,"h3"),e.EFF(12,"Display"),e.k0s(),e.j41(13,"div",260),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openThemeModal())}),e.j41(14,"div",261)(15,"h4"),e.EFF(16,"Theme"),e.k0s(),e.j41(17,"p"),e.EFF(18),e.k0s()(),e.qSk(),e.j41(19,"svg",262),e.nrm(20,"polyline",263),e.k0s()(),e.joV(),e.j41(21,"div",260),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openWallpaperModal())}),e.j41(22,"div",261)(23,"h4"),e.EFF(24,"Wallpaper"),e.k0s(),e.j41(25,"p"),e.EFF(26,"Change chat wallpaper"),e.k0s()(),e.qSk(),e.j41(27,"svg",262),e.nrm(28,"polyline",263),e.k0s()(),e.joV(),e.nrm(29,"div",264),e.k0s(),e.j41(30,"div",259)(31,"h3"),e.EFF(32,"Chat settings"),e.k0s(),e.j41(33,"div",260),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("media-quality"))}),e.j41(34,"div",261)(35,"h4"),e.EFF(36,"Media upload quality"),e.k0s(),e.j41(37,"p"),e.EFF(38),e.k0s()(),e.qSk(),e.j41(39,"svg",262),e.nrm(40,"polyline",263),e.k0s()(),e.joV(),e.j41(41,"div",260),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("media-auto-download"))}),e.j41(42,"div",261)(43,"h4"),e.EFF(44,"Media auto-download"),e.k0s(),e.j41(45,"p"),e.EFF(46,"Voice messages are always automatically downloaded"),e.k0s()(),e.qSk(),e.j41(47,"svg",262),e.nrm(48,"polyline",263),e.k0s()(),e.joV(),e.nrm(49,"div",264),e.j41(50,"div",265)(51,"div",266)(52,"h4"),e.EFF(53,"Spell check"),e.k0s(),e.j41(54,"p"),e.EFF(55,"Check spelling while typing"),e.k0s()(),e.j41(56,"label",267)(57,"input",268),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.chatSettings.spellCheck,n)||(r.chatSettings.spellCheck=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(58,"span",269),e.k0s()(),e.j41(59,"div",265)(60,"div",266)(61,"h4"),e.EFF(62,"Replace text with emoji"),e.k0s(),e.j41(63,"p"),e.EFF(64,"Emoji will replace specific text as you type"),e.k0s()(),e.j41(65,"label",267)(66,"input",268),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.chatSettings.replaceEmoji,n)||(r.chatSettings.replaceEmoji=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(67,"span",269),e.k0s()(),e.j41(68,"div",265)(69,"div",266)(70,"h4"),e.EFF(71,"Enter is send"),e.k0s(),e.j41(72,"p"),e.EFF(73,"Enter key will send your message"),e.k0s()(),e.j41(74,"label",267)(75,"input",268),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.chatSettings.enterIsSend,n)||(r.chatSettings.enterIsSend=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(76,"span",269),e.k0s()()()(),e.bVm()}if(2&o){const t=e.XpG(2);e.R7$(18),e.JRh(t.chatSettings.theme),e.R7$(20),e.SpI("",t.chatSettings.mediaQuality," quality"),e.R7$(19),e.R50("ngModel",t.chatSettings.spellCheck),e.R7$(9),e.R50("ngModel",t.chatSettings.replaceEmoji),e.R7$(9),e.R50("ngModel",t.chatSettings.enterIsSend)}}function Dn(o,s){1&o&&e.nrm(0,"div",275)}function Xn(o,s){1&o&&e.nrm(0,"div",275)}function $n(o,s){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",187)(2,"button",58),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("main"))}),e.qSk(),e.j41(3,"svg",59),e.nrm(4,"line",257)(5,"polyline",258),e.k0s(),e.EFF(6," Media upload quality "),e.k0s(),e.joV(),e.j41(7,"button",172),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.closeSettings())}),e.EFF(8,"\xd7"),e.k0s()(),e.j41(9,"div",190)(10,"div",259)(11,"div",270),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return n.chatSettings.mediaQuality="Standard",e.Njj(n.saveSettings())}),e.j41(12,"div",261)(13,"h4"),e.EFF(14,"Standard quality"),e.k0s(),e.j41(15,"p",271),e.EFF(16,"Standard media uses less storage and are faster to send"),e.k0s()(),e.j41(17,"div",272)(18,"div",273),e.DNE(19,Dn,1,0,"div",274),e.k0s()()(),e.j41(20,"div",270),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return n.chatSettings.mediaQuality="HD",e.Njj(n.saveSettings())}),e.j41(21,"div",261)(22,"h4"),e.EFF(23,"HD quality"),e.k0s(),e.j41(24,"p",271),e.EFF(25,"HD media is slower to send, can be 6 times larger"),e.k0s()(),e.j41(26,"div",272)(27,"div",273),e.DNE(28,Xn,1,0,"div",274),e.k0s()()()()(),e.bVm()}if(2&o){const t=e.XpG(2);e.R7$(18),e.AVh("selected","Standard"===t.chatSettings.mediaQuality),e.R7$(),e.Y8G("ngIf","Standard"===t.chatSettings.mediaQuality),e.R7$(8),e.AVh("selected","HD"===t.chatSettings.mediaQuality),e.R7$(),e.Y8G("ngIf","HD"===t.chatSettings.mediaQuality)}}function Ln(o,s){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",187)(2,"button",58),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("chats"))}),e.qSk(),e.j41(3,"svg",59),e.nrm(4,"line",257)(5,"polyline",258),e.k0s(),e.EFF(6," Media auto-download "),e.k0s(),e.joV(),e.j41(7,"button",172),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.closeSettings())}),e.EFF(8,"\xd7"),e.k0s()(),e.j41(9,"div",190)(10,"div",259)(11,"div",265)(12,"div",266)(13,"h4"),e.EFF(14,"Photos"),e.k0s()(),e.j41(15,"label",267)(16,"input",268),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.chatSettings.autoDownload.photos,n)||(r.chatSettings.autoDownload.photos=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(17,"span",269),e.k0s()(),e.j41(18,"div",265)(19,"div",266)(20,"h4"),e.EFF(21,"Audio"),e.k0s()(),e.j41(22,"label",267)(23,"input",268),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.chatSettings.autoDownload.audio,n)||(r.chatSettings.autoDownload.audio=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(24,"span",269),e.k0s()(),e.j41(25,"div",265)(26,"div",266)(27,"h4"),e.EFF(28,"Videos"),e.k0s()(),e.j41(29,"label",267)(30,"input",268),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.chatSettings.autoDownload.videos,n)||(r.chatSettings.autoDownload.videos=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(31,"span",269),e.k0s()(),e.j41(32,"div",265)(33,"div",266)(34,"h4"),e.EFF(35,"Documents"),e.k0s()(),e.j41(36,"label",267)(37,"input",268),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.chatSettings.autoDownload.documents,n)||(r.chatSettings.autoDownload.documents=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(38,"span",269),e.k0s()(),e.nrm(39,"div",264),e.j41(40,"p",276),e.EFF(41," Voice messages are always automatically downloaded for the best communication experience. "),e.k0s(),e.j41(42,"div",277),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.resetAutoDownloadSettings())}),e.j41(43,"div",278),e.qSk(),e.j41(44,"svg",19),e.nrm(45,"path",279)(46,"path",280),e.k0s(),e.joV(),e.j41(47,"h4"),e.EFF(48,"Reset auto-download settings"),e.k0s()()()()(),e.bVm()}if(2&o){const t=e.XpG(2);e.R7$(16),e.R50("ngModel",t.chatSettings.autoDownload.photos),e.R7$(7),e.R50("ngModel",t.chatSettings.autoDownload.audio),e.R7$(7),e.R50("ngModel",t.chatSettings.autoDownload.videos),e.R7$(7),e.R50("ngModel",t.chatSettings.autoDownload.documents)}}function qn(o,s){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",187)(2,"button",58),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("main"))}),e.qSk(),e.j41(3,"svg",59),e.nrm(4,"line",257)(5,"polyline",258),e.k0s(),e.EFF(6," General "),e.k0s(),e.joV(),e.j41(7,"button",172),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.closeSettings())}),e.EFF(8,"\xd7"),e.k0s()(),e.j41(9,"div",190)(10,"div",259)(11,"h3"),e.EFF(12,"Startup and close"),e.k0s(),e.j41(13,"div",265)(14,"div",266)(15,"h4"),e.EFF(16,"Start WhatsApp at login"),e.k0s()(),e.j41(17,"label",267)(18,"input",281),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.generalSettings.startAtLogin,n)||(r.generalSettings.startAtLogin=n),e.Njj(n)}),e.k0s(),e.nrm(19,"span",269),e.k0s()(),e.j41(20,"div",265)(21,"div",266)(22,"h4"),e.EFF(23,"Minimise to system tray"),e.k0s(),e.j41(24,"p"),e.EFF(25,"Keep WhatsApp running after closing the application window"),e.k0s()(),e.j41(26,"label",267)(27,"input",281),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.generalSettings.minimizeToTray,n)||(r.generalSettings.minimizeToTray=n),e.Njj(n)}),e.k0s(),e.nrm(28,"span",269),e.k0s()()(),e.j41(29,"div",259)(30,"h3"),e.EFF(31,"Language"),e.k0s(),e.j41(32,"div",282)(33,"select",283),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.generalSettings.language,n)||(r.generalSettings.language=n),e.Njj(n)}),e.j41(34,"option",284),e.EFF(35,"English"),e.k0s(),e.j41(36,"option",285),e.EFF(37,"Hindi"),e.k0s(),e.j41(38,"option",286),e.EFF(39,"Gujarati"),e.k0s()()()(),e.j41(40,"div",259)(41,"h3"),e.EFF(42,"Font size"),e.k0s(),e.j41(43,"div",282)(44,"select",287),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.generalSettings.fontSize,n)||(r.generalSettings.fontSize=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.applyFontSize())}),e.j41(45,"option",288),e.EFF(46,"100% (default)"),e.k0s(),e.j41(47,"option",289),e.EFF(48,"125%"),e.k0s(),e.j41(49,"option",290),e.EFF(50,"150%"),e.k0s()(),e.j41(51,"span",291),e.EFF(52,"Use Ctrl + / - to increase or decrease text size"),e.k0s()()()(),e.bVm()}if(2&o){const t=e.XpG(2);e.R7$(18),e.R50("ngModel",t.generalSettings.startAtLogin),e.R7$(9),e.R50("ngModel",t.generalSettings.minimizeToTray),e.R7$(6),e.R50("ngModel",t.generalSettings.language),e.R7$(11),e.R50("ngModel",t.generalSettings.fontSize)}}function Yn(o,s){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",187)(2,"button",58),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("main"))}),e.qSk(),e.j41(3,"svg",59),e.nrm(4,"line",257)(5,"polyline",258),e.k0s(),e.EFF(6," Account "),e.k0s(),e.joV(),e.j41(7,"button",172),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.closeSettings())}),e.EFF(8,"\xd7"),e.k0s()(),e.j41(9,"div",190)(10,"div",197)(11,"div",198),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("security"))}),e.qSk(),e.j41(12,"svg",199),e.nrm(13,"path",292),e.k0s(),e.joV(),e.j41(14,"div",202)(15,"h4"),e.EFF(16,"Security notifications"),e.k0s()()(),e.j41(17,"div",198),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("request-info"))}),e.qSk(),e.j41(18,"svg",199),e.nrm(19,"path",293)(20,"polyline",294)(21,"line",295)(22,"line",296)(23,"polyline",297),e.k0s(),e.joV(),e.j41(24,"div",202)(25,"h4"),e.EFF(26,"Request account info"),e.k0s()()(),e.j41(27,"div",298),e.qSk(),e.j41(28,"svg",199),e.nrm(29,"circle",84)(30,"line",299)(31,"line",300),e.k0s(),e.joV(),e.j41(32,"div",202)(33,"h4"),e.EFF(34,"How to delete my account"),e.k0s()()()()(),e.bVm()}}function zn(o,s){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",187)(2,"button",58),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("account"))}),e.qSk(),e.j41(3,"svg",59),e.nrm(4,"line",257)(5,"polyline",258),e.k0s(),e.EFF(6," Security "),e.k0s(),e.joV(),e.j41(7,"button",172),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.closeSettings())}),e.EFF(8,"\xd7"),e.k0s()(),e.j41(9,"div",190)(10,"div",301),e.qSk(),e.j41(11,"svg",302),e.nrm(12,"rect",303)(13,"rect",204)(14,"path",205),e.k0s(),e.joV(),e.j41(15,"h3"),e.EFF(16,"Your chats and calls are private"),e.k0s(),e.j41(17,"p"),e.EFF(18,"End-to-end encryption keeps your personal messages and calls between you and the people you choose. No one outside of the chat, not even WhatsApp, can read, listen to, or share them. This includes your:"),e.k0s()(),e.j41(19,"div",304)(20,"div",305),e.qSk(),e.j41(21,"svg",19),e.nrm(22,"path",206),e.k0s(),e.EFF(23," Text and voice messages "),e.k0s(),e.joV(),e.j41(24,"div",305),e.qSk(),e.j41(25,"svg",19),e.nrm(26,"path",69),e.k0s(),e.EFF(27," Audio and video calls "),e.k0s(),e.joV(),e.j41(28,"div",305),e.qSk(),e.j41(29,"svg",19),e.nrm(30,"rect",200)(31,"circle",306)(32,"polyline",307),e.k0s(),e.EFF(33," Photos, videos and documents "),e.k0s(),e.joV(),e.j41(34,"div",305),e.qSk(),e.j41(35,"svg",19),e.nrm(36,"path",308)(37,"circle",309),e.k0s(),e.EFF(38," Location sharing "),e.k0s(),e.joV(),e.j41(39,"div",305),e.qSk(),e.j41(40,"svg",19),e.nrm(41,"circle",84)(42,"circle",310),e.k0s(),e.EFF(43," Status updates "),e.k0s(),e.joV(),e.j41(44,"a",311),e.EFF(45,"Learn more"),e.k0s()(),e.j41(46,"div",312)(47,"div",265)(48,"div",266)(49,"h4"),e.EFF(50,"Show security notifications on this computer"),e.k0s(),e.j41(51,"p",313),e.EFF(52,"Get notified when your security code changes for a contact's phone. If you have multiple devices, this setting must be enabled on each device where you want to get notifications."),e.k0s(),e.j41(53,"a",311),e.EFF(54,"Learn more"),e.k0s()(),e.j41(55,"label",267)(56,"input",281),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.securitySettings.showNotifications,n)||(r.securitySettings.showNotifications=n),e.Njj(n)}),e.k0s(),e.nrm(57,"span",269),e.k0s()()()(),e.bVm()}if(2&o){const t=e.XpG(2);e.R7$(56),e.R50("ngModel",t.securitySettings.showNotifications)}}function Hn(o,s){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",187)(2,"button",58),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("account"))}),e.qSk(),e.j41(3,"svg",59),e.nrm(4,"line",257)(5,"polyline",258),e.k0s(),e.EFF(6," Request account info "),e.k0s(),e.joV(),e.j41(7,"button",172),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.closeSettings())}),e.EFF(8,"\xd7"),e.k0s()(),e.j41(9,"div",190)(10,"div",259)(11,"h3"),e.EFF(12,"Account information"),e.k0s(),e.j41(13,"div",314)(14,"div",315),e.qSk(),e.j41(15,"svg",59),e.nrm(16,"circle",84)(17,"polyline",316),e.k0s()(),e.joV(),e.j41(18,"div",317)(19,"h4"),e.EFF(20,"Request sent"),e.k0s(),e.j41(21,"p"),e.EFF(22,"Ready by January 31, 2026"),e.k0s()()(),e.j41(23,"p",318),e.EFF(24," Your request will be cancelled if you make changes to your account such as changing your number or deleting your account. "),e.k0s(),e.j41(25,"h3"),e.EFF(26,"Channels activity"),e.k0s(),e.j41(27,"div",319),e.qSk(),e.j41(28,"svg",59),e.nrm(29,"path",293)(30,"polyline",294)(31,"line",295)(32,"line",296)(33,"polyline",297),e.k0s(),e.joV(),e.j41(34,"span"),e.EFF(35,"Request Channels report"),e.k0s()(),e.j41(36,"p",320),e.EFF(37," Create a report of updates and information from channels you interact with or manage, which you can access or port to another app. "),e.j41(38,"a",311),e.EFF(39,"Learn more"),e.k0s()()()(),e.bVm()}}function Wn(o,s){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",187)(2,"button",58),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("main"))}),e.qSk(),e.j41(3,"svg",59),e.nrm(4,"line",257)(5,"polyline",258),e.k0s(),e.EFF(6," Privacy "),e.k0s(),e.joV(),e.j41(7,"button",172),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.closeSettings())}),e.EFF(8,"\xd7"),e.k0s()(),e.j41(9,"div",190)(10,"div",259)(11,"h3",321),e.EFF(12,"Who can see my personal info"),e.k0s(),e.j41(13,"div",322)(14,"div",261)(15,"h4"),e.EFF(16,"Last seen and online"),e.k0s(),e.j41(17,"p"),e.EFF(18),e.k0s()(),e.j41(19,"select",323),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.privacySettings.lastSeen,n)||(r.privacySettings.lastSeen=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.j41(20,"option",324),e.EFF(21,"Everyone"),e.k0s(),e.j41(22,"option",325),e.EFF(23,"My contacts"),e.k0s(),e.j41(24,"option",326),e.EFF(25,"Nobody"),e.k0s()(),e.qSk(),e.j41(26,"svg",262),e.nrm(27,"polyline",263),e.k0s()(),e.joV(),e.j41(28,"div",322)(29,"div",261)(30,"h4"),e.EFF(31,"Profile photo"),e.k0s(),e.j41(32,"p"),e.EFF(33),e.k0s()(),e.j41(34,"select",323),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.privacySettings.profilePhoto,n)||(r.privacySettings.profilePhoto=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.j41(35,"option",324),e.EFF(36,"Everyone"),e.k0s(),e.j41(37,"option",325),e.EFF(38,"My contacts"),e.k0s(),e.j41(39,"option",326),e.EFF(40,"Nobody"),e.k0s()(),e.qSk(),e.j41(41,"svg",262),e.nrm(42,"polyline",263),e.k0s()(),e.joV(),e.j41(43,"div",322)(44,"div",261)(45,"h4"),e.EFF(46,"About"),e.k0s(),e.j41(47,"p"),e.EFF(48),e.k0s()(),e.j41(49,"select",323),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.privacySettings.about,n)||(r.privacySettings.about=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.j41(50,"option",324),e.EFF(51,"Everyone"),e.k0s(),e.j41(52,"option",325),e.EFF(53,"My contacts"),e.k0s(),e.j41(54,"option",326),e.EFF(55,"Nobody"),e.k0s()(),e.qSk(),e.j41(56,"svg",262),e.nrm(57,"polyline",263),e.k0s()(),e.joV(),e.j41(58,"div",322)(59,"div",261)(60,"h4"),e.EFF(61,"Status"),e.k0s(),e.j41(62,"p"),e.EFF(63),e.k0s()(),e.j41(64,"select",323),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.privacySettings.status,n)||(r.privacySettings.status=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.j41(65,"option",325),e.EFF(66,"My contacts"),e.k0s(),e.j41(67,"option",327),e.EFF(68,"My contacts except..."),e.k0s(),e.j41(69,"option",328),e.EFF(70,"Only share with..."),e.k0s()(),e.qSk(),e.j41(71,"svg",262),e.nrm(72,"polyline",263),e.k0s()(),e.joV(),e.j41(73,"div",329)(74,"div",261)(75,"h4"),e.EFF(76,"Read receipts"),e.k0s(),e.j41(77,"p",271),e.EFF(78,"If turned off, you won't send or receive read receipts. Read receipts are always sent for group chats."),e.k0s()(),e.j41(79,"label",267)(80,"input",268),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.privacySettings.readReceipts,n)||(r.privacySettings.readReceipts=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(81,"span",269),e.k0s()()(),e.nrm(82,"hr",264),e.j41(83,"div",259)(84,"h3",321),e.EFF(85,"Disappearing messages"),e.k0s(),e.j41(86,"div",322)(87,"div",261)(88,"h4"),e.EFF(89,"Default message timer"),e.k0s(),e.j41(90,"p"),e.EFF(91),e.k0s()(),e.j41(92,"select",323),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.privacySettings.defaultTimer,n)||(r.privacySettings.defaultTimer=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.j41(93,"option",330),e.EFF(94,"Off"),e.k0s(),e.j41(95,"option",331),e.EFF(96,"24 Hours"),e.k0s(),e.j41(97,"option",332),e.EFF(98,"7 Days"),e.k0s(),e.j41(99,"option",333),e.EFF(100,"90 Days"),e.k0s()(),e.qSk(),e.j41(101,"svg",262),e.nrm(102,"polyline",263),e.k0s()()(),e.joV(),e.nrm(103,"hr",264),e.j41(104,"div",259)(105,"div",322)(106,"div",261)(107,"h4"),e.EFF(108,"Groups"),e.k0s(),e.j41(109,"p"),e.EFF(110),e.k0s()(),e.j41(111,"select",323),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.privacySettings.groups,n)||(r.privacySettings.groups=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.j41(112,"option",324),e.EFF(113,"Everyone"),e.k0s(),e.j41(114,"option",325),e.EFF(115,"My contacts"),e.k0s(),e.j41(116,"option",327),e.EFF(117,"My contacts except..."),e.k0s()(),e.qSk(),e.j41(118,"svg",262),e.nrm(119,"polyline",263),e.k0s()(),e.joV(),e.j41(120,"div",260),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("app-lock"))}),e.j41(121,"div",261)(122,"h4"),e.EFF(123,"App lock"),e.k0s(),e.j41(124,"p",271),e.EFF(125,"Require password to unlock WhatsApp"),e.k0s()(),e.j41(126,"div",334)(127,"span",335),e.EFF(128),e.k0s(),e.qSk(),e.j41(129,"svg",262),e.nrm(130,"polyline",263),e.k0s()()()(),e.joV(),e.nrm(131,"hr",264),e.j41(132,"div",259)(133,"h3",321),e.EFF(134,"Advanced"),e.k0s(),e.j41(135,"div",329)(136,"div",261)(137,"h4"),e.EFF(138,"Block unknown account messages"),e.k0s(),e.j41(139,"p",271),e.EFF(140,"To protect your account and improve device performance, WhatsApp will block messages from unknown accounts if they exceed a certain volume. "),e.j41(141,"a",311),e.EFF(142,"Learn more"),e.k0s()()(),e.j41(143,"label",267)(144,"input",268),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.privacySettings.blockUnknownMessages,n)||(r.privacySettings.blockUnknownMessages=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(145,"span",269),e.k0s()()()(),e.bVm()}if(2&o){const t=e.XpG(2);e.R7$(18),e.JRh(t.privacySettings.lastSeen),e.R7$(),e.R50("ngModel",t.privacySettings.lastSeen),e.R7$(14),e.JRh(t.privacySettings.profilePhoto),e.R7$(),e.R50("ngModel",t.privacySettings.profilePhoto),e.R7$(14),e.JRh(t.privacySettings.about),e.R7$(),e.R50("ngModel",t.privacySettings.about),e.R7$(14),e.JRh(t.privacySettings.status),e.R7$(),e.R50("ngModel",t.privacySettings.status),e.R7$(16),e.R50("ngModel",t.privacySettings.readReceipts),e.R7$(11),e.JRh(t.privacySettings.defaultTimer),e.R7$(),e.R50("ngModel",t.privacySettings.defaultTimer),e.R7$(18),e.JRh(t.privacySettings.groups),e.R7$(),e.R50("ngModel",t.privacySettings.groups),e.R7$(17),e.JRh(t.privacySettings.appLock?"Enabled":"Disabled"),e.R7$(16),e.R50("ngModel",t.privacySettings.blockUnknownMessages)}}function Jn(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",351)(1,"div",352),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectNotifSetting("showBanner","Always"))}),e.EFF(2,"Always"),e.k0s(),e.j41(3,"div",352),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectNotifSetting("showBanner","When app is open"))}),e.EFF(4,"When app is open "),e.k0s(),e.j41(5,"div",352),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectNotifSetting("showBanner","Never"))}),e.EFF(6,"Never"),e.k0s()()}if(2&o){const t=e.XpG(3);e.R7$(),e.AVh("selected","Always"===t.notificationSettings.showBanner),e.R7$(2),e.AVh("selected","When app is open"===t.notificationSettings.showBanner),e.R7$(2),e.AVh("selected","Never"===t.notificationSettings.showBanner)}}function Qn(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",351)(1,"div",352),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectNotifSetting("showTaskbarBadge","Always"))}),e.EFF(2,"Always"),e.k0s(),e.j41(3,"div",352),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectNotifSetting("showTaskbarBadge","When app is open"))}),e.EFF(4,"When app is open"),e.k0s(),e.j41(5,"div",352),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectNotifSetting("showTaskbarBadge","Never"))}),e.EFF(6,"Never"),e.k0s()()}if(2&o){const t=e.XpG(3);e.R7$(),e.AVh("selected","Always"===t.notificationSettings.showTaskbarBadge),e.R7$(2),e.AVh("selected","When app is open"===t.notificationSettings.showTaskbarBadge),e.R7$(2),e.AVh("selected","Never"===t.notificationSettings.showTaskbarBadge)}}function Kn(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",352),e.bIt("click",function(){const n=e.eBV(t).$implicit,r=e.XpG(4);return e.Njj(r.selectNotifSetting("messageTone",n))}),e.EFF(1),e.k0s()}if(2&o){const t=s.$implicit,i=e.XpG(4);e.AVh("selected",i.notificationSettings.messageTone===t),e.R7$(),e.JRh(t)}}function Zn(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",353)(1,"div",352),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectNotifSetting("messageTone","None"))}),e.EFF(2,"None"),e.k0s(),e.DNE(3,Kn,2,3,"div",354),e.k0s()}if(2&o){const t=e.XpG(3);e.R7$(),e.AVh("selected","None"===t.notificationSettings.messageTone),e.R7$(2),e.Y8G("ngForOf",t.notificationTones)}}function ei(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",352),e.bIt("click",function(){const n=e.eBV(t).$implicit,r=e.XpG(4);return e.Njj(r.selectNotifSetting("groupTone",n))}),e.EFF(1),e.k0s()}if(2&o){const t=s.$implicit,i=e.XpG(4);e.AVh("selected",i.notificationSettings.groupTone===t),e.R7$(),e.JRh(t)}}function ti(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",353)(1,"div",352),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.selectNotifSetting("groupTone","None"))}),e.EFF(2,"None"),e.k0s(),e.DNE(3,ei,2,3,"div",354),e.k0s()}if(2&o){const t=e.XpG(3);e.R7$(),e.AVh("selected","None"===t.notificationSettings.groupTone),e.R7$(2),e.Y8G("ngForOf",t.notificationTones)}}function ni(o,s){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",187)(2,"button",58),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("main"))}),e.qSk(),e.j41(3,"svg",59),e.nrm(4,"line",257)(5,"polyline",258),e.k0s(),e.EFF(6," Notifications "),e.k0s(),e.joV(),e.j41(7,"button",172),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.closeSettings())}),e.EFF(8,"\xd7"),e.k0s()(),e.j41(9,"div",190)(10,"div",259)(11,"div",336),e.bIt("click",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.toggleNotifDropdown("banner",n))}),e.j41(12,"div",261)(13,"h4"),e.EFF(14,"Show notification banner"),e.k0s(),e.j41(15,"p"),e.EFF(16),e.k0s()(),e.DNE(17,Jn,7,6,"div",337),e.qSk(),e.j41(18,"svg",262),e.nrm(19,"polyline",263),e.k0s()(),e.joV(),e.j41(20,"div",336),e.bIt("click",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.toggleNotifDropdown("badge",n))}),e.j41(21,"div",261)(22,"h4"),e.EFF(23,"Show taskbar notification badge"),e.k0s(),e.j41(24,"p"),e.EFF(25),e.k0s()(),e.DNE(26,Qn,7,6,"div",337),e.qSk(),e.j41(27,"svg",262),e.nrm(28,"polyline",263),e.k0s()(),e.joV(),e.nrm(29,"hr",264),e.j41(30,"h3"),e.EFF(31,"Messages"),e.k0s(),e.j41(32,"div",265)(33,"div",266)(34,"h4"),e.EFF(35,"Message notifications"),e.k0s(),e.j41(36,"p"),e.EFF(37,"Show notifications for new messages"),e.k0s()(),e.j41(38,"label",267)(39,"input",268),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.notificationSettings.messageNotifications,n)||(r.notificationSettings.messageNotifications=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(40,"span",269),e.k0s()(),e.j41(41,"div",265)(42,"div",266)(43,"h4"),e.EFF(44,"Show previews"),e.k0s()(),e.j41(45,"label",267)(46,"input",268),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.notificationSettings.showPreviews,n)||(r.notificationSettings.showPreviews=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(47,"span",269),e.k0s()(),e.j41(48,"div",265)(49,"div",266)(50,"h4"),e.EFF(51,"Show reaction notifications"),e.k0s()(),e.j41(52,"label",267)(53,"input",268),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.notificationSettings.reactionNotifications,n)||(r.notificationSettings.reactionNotifications=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(54,"span",269),e.k0s()(),e.j41(55,"div",265)(56,"div",266)(57,"h4"),e.EFF(58,"Status reactions"),e.k0s(),e.j41(59,"p"),e.EFF(60,"Show notifications when you get likes on a status"),e.k0s()(),e.j41(61,"label",267)(62,"input",268),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.notificationSettings.statusReactions,n)||(r.notificationSettings.statusReactions=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(63,"span",269),e.k0s()(),e.nrm(64,"hr",264),e.j41(65,"h3"),e.EFF(66,"Calls"),e.k0s(),e.j41(67,"div",265)(68,"div",266)(69,"h4"),e.EFF(70,"Call notifications"),e.k0s(),e.j41(71,"p"),e.EFF(72,"Show notifications for incoming calls"),e.k0s()(),e.j41(73,"label",267)(74,"input",268),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.notificationSettings.callNotifications,n)||(r.notificationSettings.callNotifications=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(75,"span",269),e.k0s()(),e.j41(76,"div",265)(77,"div",266)(78,"h4"),e.EFF(79,"Incoming calls"),e.k0s(),e.j41(80,"p"),e.EFF(81,"Play sounds for incoming calls"),e.k0s()(),e.j41(82,"label",267)(83,"input",268),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.notificationSettings.incomingCallSounds,n)||(r.notificationSettings.incomingCallSounds=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(84,"span",269),e.k0s()(),e.nrm(85,"hr",264),e.j41(86,"h3"),e.EFF(87,"Notification tones"),e.k0s(),e.j41(88,"div",265)(89,"div",266)(90,"h4"),e.EFF(91,"Incoming sounds"),e.k0s(),e.j41(92,"p"),e.EFF(93,"Play sounds for incoming messages"),e.k0s()(),e.j41(94,"label",267)(95,"input",268),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.notificationSettings.incomingSounds,n)||(r.notificationSettings.incomingSounds=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(96,"span",269),e.k0s()(),e.j41(97,"div",265)(98,"div",266)(99,"h4"),e.EFF(100,"Outgoing sounds"),e.k0s(),e.j41(101,"p"),e.EFF(102,"Play sounds for outgoing messages"),e.k0s()(),e.j41(103,"label",267)(104,"input",268),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.notificationSettings.outgoingSounds,n)||(r.notificationSettings.outgoingSounds=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.k0s(),e.nrm(105,"span",269),e.k0s()(),e.nrm(106,"br"),e.j41(107,"h3"),e.EFF(108,"Messages"),e.k0s(),e.j41(109,"div",338),e.bIt("click",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.toggleNotifDropdown("messageTone",n))}),e.j41(110,"div",339),e.qSk(),e.j41(111,"svg",340),e.nrm(112,"path",341)(113,"circle",342)(114,"circle",343),e.k0s(),e.EFF(115),e.k0s(),e.j41(116,"svg",344),e.nrm(117,"polyline",345),e.k0s(),e.DNE(118,Zn,4,3,"div",346),e.k0s(),e.joV(),e.j41(119,"h3"),e.EFF(120,"Group messages"),e.k0s(),e.j41(121,"div",338),e.bIt("click",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.toggleNotifDropdown("groupTone",n))}),e.j41(122,"div",339),e.qSk(),e.j41(123,"svg",340),e.nrm(124,"path",347)(125,"circle",348)(126,"path",349)(127,"path",350),e.k0s(),e.EFF(128),e.k0s(),e.j41(129,"svg",344),e.nrm(130,"polyline",345),e.k0s(),e.DNE(131,ti,4,3,"div",346),e.k0s()()(),e.bVm()}if(2&o){const t=e.XpG(2);e.R7$(16),e.JRh(t.notificationSettings.showBanner),e.R7$(),e.Y8G("ngIf","banner"===t.activeNotifDropdown),e.R7$(8),e.JRh(t.notificationSettings.showTaskbarBadge),e.R7$(),e.Y8G("ngIf","badge"===t.activeNotifDropdown),e.R7$(13),e.R50("ngModel",t.notificationSettings.messageNotifications),e.R7$(7),e.R50("ngModel",t.notificationSettings.showPreviews),e.R7$(7),e.R50("ngModel",t.notificationSettings.reactionNotifications),e.R7$(9),e.R50("ngModel",t.notificationSettings.statusReactions),e.R7$(12),e.R50("ngModel",t.notificationSettings.callNotifications),e.R7$(9),e.R50("ngModel",t.notificationSettings.incomingCallSounds),e.R7$(12),e.R50("ngModel",t.notificationSettings.incomingSounds),e.R7$(9),e.R50("ngModel",t.notificationSettings.outgoingSounds),e.R7$(11),e.SpI(" ",t.notificationSettings.messageTone," "),e.R7$(),e.AVh("open","messageTone"===t.activeNotifDropdown),e.R7$(2),e.Y8G("ngIf","messageTone"===t.activeNotifDropdown),e.R7$(10),e.SpI(" ",t.notificationSettings.groupTone," "),e.R7$(),e.AVh("open","groupTone"===t.activeNotifDropdown),e.R7$(2),e.Y8G("ngIf","groupTone"===t.activeNotifDropdown)}}function ii(o,s){if(1&o&&(e.j41(0,"option",357),e.EFF(1),e.k0s()),2&o){const t=s.$implicit;e.Y8G("value",t.deviceId),e.R7$(),e.SpI("",t.label," ")}}function oi(o,s){if(1&o&&(e.j41(0,"option",357),e.EFF(1),e.k0s()),2&o){const t=s.$implicit;e.Y8G("value",t.deviceId),e.R7$(),e.SpI("",t.label," ")}}function si(o,s){if(1&o&&(e.j41(0,"option",357),e.EFF(1),e.k0s()),2&o){const t=s.$implicit;e.Y8G("value",t.deviceId),e.R7$(),e.SpI("",t.label," ")}}function ri(o,s){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",187)(2,"button",58),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("main"))}),e.qSk(),e.j41(3,"svg",59),e.nrm(4,"line",257)(5,"polyline",258),e.k0s(),e.EFF(6," Video & voice "),e.k0s(),e.joV(),e.j41(7,"button",172),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.closeSettings())}),e.EFF(8,"\xd7"),e.k0s()(),e.j41(9,"div",190)(10,"div",259)(11,"h3"),e.EFF(12,"Camera"),e.k0s(),e.j41(13,"select",287),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.videoSettings.cameraDeviceId,n)||(r.videoSettings.cameraDeviceId=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.j41(14,"option",355),e.EFF(15,"Select Camera"),e.k0s(),e.DNE(16,ii,2,2,"option",356),e.k0s(),e.j41(17,"h3"),e.EFF(18,"Microphone"),e.k0s(),e.j41(19,"select",287),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.videoSettings.micDeviceId,n)||(r.videoSettings.micDeviceId=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.j41(20,"option",355),e.EFF(21,"Select Microphone"),e.k0s(),e.DNE(22,oi,2,2,"option",356),e.k0s(),e.j41(23,"h3"),e.EFF(24,"Speakers"),e.k0s(),e.j41(25,"select",287),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.videoSettings.speakerDeviceId,n)||(r.videoSettings.speakerDeviceId=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.saveSettings())}),e.j41(26,"option",355),e.EFF(27,"Select Speakers"),e.k0s(),e.DNE(28,si,2,2,"option",356),e.k0s()()(),e.bVm()}if(2&o){const t=e.XpG(2);e.R7$(13),e.R50("ngModel",t.videoSettings.cameraDeviceId),e.R7$(3),e.Y8G("ngForOf",t.videoInputDevices),e.R7$(3),e.R50("ngModel",t.videoSettings.micDeviceId),e.R7$(3),e.Y8G("ngForOf",t.audioInputDevices),e.R7$(3),e.R50("ngModel",t.videoSettings.speakerDeviceId),e.R7$(3),e.Y8G("ngForOf",t.audioOutputDevices)}}function ai(o,s){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",187)(2,"button",58),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.navigateToSettings("privacy"))}),e.qSk(),e.j41(3,"svg",59),e.nrm(4,"line",257)(5,"polyline",258),e.k0s(),e.EFF(6," App lock "),e.k0s(),e.joV(),e.j41(7,"button",172),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.closeSettings())}),e.EFF(8,"\xd7"),e.k0s()(),e.j41(9,"div",190)(10,"div",358)(11,"div",359),e.qSk(),e.j41(12,"svg",360),e.nrm(13,"path",361),e.k0s(),e.joV(),e.j41(14,"div",362),e.qSk(),e.j41(15,"svg",363),e.nrm(16,"circle",20),e.k0s()()(),e.joV(),e.j41(17,"h2",364),e.EFF(18,"Lock with a password"),e.k0s(),e.j41(19,"p",365),e.EFF(20," You can lock WhatsApp instead of logging out. This makes it easier to access again later. "),e.j41(21,"a",311),e.EFF(22,"Learn more"),e.k0s()()(),e.j41(23,"div",259)(24,"div",329)(25,"div",261)(26,"h4"),e.EFF(27,"Enable app lock"),e.k0s()(),e.j41(28,"label",267)(29,"input",268),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.privacySettings.appLock,n)||(r.privacySettings.appLock=n),e.Njj(n)}),e.bIt("change",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.toggleAppLock(n))}),e.k0s(),e.nrm(30,"span",269),e.k0s()()(),e.j41(31,"div",366)(32,"p"),e.EFF(33,"When app lock is enabled you can lock WhatsApp from the Chats menu."),e.k0s(),e.j41(34,"p"),e.EFF(35,"You won't get notifications when WhatsApp is locked. App lock will reset if you log out."),e.k0s()()(),e.bVm()}if(2&o){const t=e.XpG(2);e.R7$(29),e.R50("ngModel",t.privacySettings.appLock)}}function ci(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",185),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeSettings())}),e.j41(1,"div",186),e.bIt("click",function(n){return e.eBV(t),e.Njj(n.stopPropagation())}),e.DNE(2,In,79,4,"ng-container",33)(3,An,35,6,"ng-container",33)(4,Un,77,5,"ng-container",33)(5,$n,29,6,"ng-container",33)(6,Ln,49,4,"ng-container",33)(7,qn,53,4,"ng-container",33)(8,Yn,35,0,"ng-container",33)(9,zn,58,1,"ng-container",33)(10,Hn,40,0,"ng-container",33)(11,Wn,146,15,"ng-container",33)(12,ni,132,20,"ng-container",33)(13,ri,29,6,"ng-container",33)(14,ai,36,1,"ng-container",33),e.k0s()()}if(2&o){const t=e.XpG();e.R7$(2),e.Y8G("ngIf","main"===t.settingsView),e.R7$(),e.Y8G("ngIf","profile"===t.settingsView),e.R7$(),e.Y8G("ngIf","chats"===t.settingsView),e.R7$(),e.Y8G("ngIf","media-quality"===t.settingsView),e.R7$(),e.Y8G("ngIf","media-auto-download"===t.settingsView),e.R7$(),e.Y8G("ngIf","general"===t.settingsView),e.R7$(),e.Y8G("ngIf","account"===t.settingsView),e.R7$(),e.Y8G("ngIf","security"===t.settingsView),e.R7$(),e.Y8G("ngIf","request-info"===t.settingsView),e.R7$(),e.Y8G("ngIf","privacy"===t.settingsView),e.R7$(),e.Y8G("ngIf","notifications"===t.settingsView),e.R7$(),e.Y8G("ngIf","video-voice"===t.settingsView),e.R7$(),e.Y8G("ngIf","app-lock"===t.settingsView)}}function li(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",169)(1,"div",367)(2,"h2"),e.EFF(3,"Set password"),e.k0s(),e.j41(4,"div",368)(5,"label"),e.EFF(6,"Enter password"),e.k0s(),e.j41(7,"input",369),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.tempPassword,n)||(r.tempPassword=n),e.Njj(n)}),e.k0s(),e.nrm(8,"div",370),e.k0s(),e.j41(9,"div",368)(10,"label"),e.EFF(11,"Re-enter password"),e.k0s(),e.j41(12,"input",371),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.tempConfirmPassword,n)||(r.tempConfirmPassword=n),e.Njj(n)}),e.k0s(),e.nrm(13,"div",370),e.k0s(),e.j41(14,"p",372),e.EFF(15," Password must be 6-128 characters, and may only contain letters, numbers, and common punctuation "),e.k0s(),e.j41(16,"div",373)(17,"button",374),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeSetPasswordModal())}),e.EFF(18,"Cancel"),e.k0s(),e.j41(19,"button",375),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmSetPassword())}),e.EFF(20,"OK"),e.k0s()()()()}if(2&o){const t=e.XpG();e.R7$(7),e.R50("ngModel",t.tempPassword),e.R7$(5),e.R50("ngModel",t.tempConfirmPassword)}}function di(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",169)(1,"div",376)(2,"h2"),e.EFF(3,"Password set"),e.k0s(),e.j41(4,"p",377),e.EFF(5,"You can lock WhatsApp from the Chats menu."),e.k0s(),e.j41(6,"p",378),e.EFF(7,"Update app lock anytime in Settings > Privacy > App lock."),e.k0s(),e.j41(8,"div",379)(9,"button",380),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closePasswordSetModal())}),e.EFF(10,"Done"),e.k0s(),e.j41(11,"button",381),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.lockApp())}),e.EFF(12,"Lock now"),e.k0s()()()()}}function pi(o,s){if(1&o&&e.nrm(0,"img",399),2&o){const t=e.XpG(2);e.Y8G("src",t.getAvatarUrl(null==t.currentUser?null:t.currentUser.avatar),e.B4B)}}function _i(o,s){if(1&o&&(e.j41(0,"div",400),e.EFF(1),e.k0s()),2&o){let t;const i=e.XpG(2);e.R7$(),e.JRh(null==i.currentUser||null==i.currentUser.username||null==(t=i.currentUser.username.charAt(0))?null:t.toUpperCase())}}function hi(o,s){1&o&&(e.qSk(),e.j41(0,"svg",19),e.nrm(1,"path",401)(2,"circle",20),e.k0s())}function ui(o,s){1&o&&(e.qSk(),e.j41(0,"svg",19),e.nrm(1,"path",402)(2,"line",403),e.k0s())}function gi(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",382)(1,"div",383)(2,"div",384),e.DNE(3,pi,1,1,"img",385)(4,_i,2,1,"div",386),e.k0s(),e.j41(5,"h2",387),e.EFF(6),e.k0s(),e.j41(7,"p",388),e.EFF(8,"App lock is on. Enter your password to use WhatsApp Windows."),e.k0s(),e.j41(9,"div",389)(10,"input",390),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.unlockPasswordInput,n)||(r.unlockPasswordInput=n),e.Njj(n)}),e.bIt("keyup.enter",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.attemptUnlock())}),e.k0s(),e.j41(11,"button",391),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.togglePasswordVisibility())}),e.DNE(12,hi,3,0,"svg",392)(13,ui,3,0,"svg",392),e.k0s()(),e.nrm(14,"div",393),e.j41(15,"button",394),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.attemptUnlock())}),e.EFF(16,"Unlock"),e.k0s(),e.j41(17,"div",395)(18,"a",396),e.EFF(19,"Forgot password?"),e.k0s(),e.j41(20,"p",397),e.EFF(21,"Log out and link again from your phone."),e.k0s(),e.j41(22,"button",398),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onLogout())}),e.EFF(23,"Log out"),e.k0s()()()()}if(2&o){const t=e.XpG();e.R7$(3),e.Y8G("ngIf",null==t.currentUser?null:t.currentUser.avatar),e.R7$(),e.Y8G("ngIf",!(null!=t.currentUser&&t.currentUser.avatar)),e.R7$(2),e.JRh((null==t.currentUser?null:t.currentUser.fullName)||(null==t.currentUser?null:t.currentUser.username)),e.R7$(4),e.Y8G("type",t.isPasswordVisible?"text":"password"),e.R50("ngModel",t.unlockPasswordInput),e.R7$(2),e.Y8G("ngIf",!t.isPasswordVisible),e.R7$(),e.Y8G("ngIf",t.isPasswordVisible)}}function fi(o,s){1&o&&e.nrm(0,"div",275)}function mi(o,s){1&o&&e.nrm(0,"div",275)}function vi(o,s){1&o&&e.nrm(0,"div",275)}function ki(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",169)(1,"div",404)(2,"h2"),e.EFF(3,"Theme"),e.k0s(),e.j41(4,"div",405),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.tempTheme="Light")}),e.j41(5,"div",406),e.DNE(6,fi,1,0,"div",274),e.k0s(),e.j41(7,"span"),e.EFF(8,"Light"),e.k0s()(),e.j41(9,"div",405),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.tempTheme="Dark")}),e.j41(10,"div",406),e.DNE(11,mi,1,0,"div",274),e.k0s(),e.j41(12,"span"),e.EFF(13,"Dark"),e.k0s()(),e.j41(14,"div",405),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.tempTheme="System default")}),e.j41(15,"div",406),e.DNE(16,vi,1,0,"div",274),e.k0s(),e.j41(17,"span"),e.EFF(18,"System default"),e.k0s()(),e.j41(19,"div",373)(20,"button",374),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeThemeModal())}),e.EFF(21,"Cancel"),e.k0s(),e.j41(22,"button",375),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.applyTheme())}),e.EFF(23,"OK"),e.k0s()()()()}if(2&o){const t=e.XpG();e.R7$(6),e.Y8G("ngIf","Light"===t.tempTheme),e.R7$(5),e.Y8G("ngIf","Dark"===t.tempTheme),e.R7$(5),e.Y8G("ngIf","System default"===t.tempTheme)}}function bi(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",429),e.bIt("click",function(){const n=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.selectWallpaperColor(n))}),e.k0s()}if(2&o){const t=s.$implicit,i=e.XpG(2);e.xc7("background-color",t),e.AVh("selected",i.tempWallpaper.color===t)}}function xi(o,s){if(1&o){const t=e.RV6();e.j41(0,"div",407),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeWallpaperModal())}),e.j41(1,"div",408),e.bIt("click",function(n){return e.eBV(t),e.Njj(n.stopPropagation())}),e.j41(2,"div",409)(3,"button",58),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeWallpaperModal())}),e.qSk(),e.j41(4,"svg",59),e.nrm(5,"line",257)(6,"polyline",258),e.k0s(),e.EFF(7," Set chat wallpaper "),e.k0s()(),e.joV(),e.j41(8,"div",410)(9,"div",411)(10,"div",412),e.EFF(11,"Hello there!"),e.k0s(),e.j41(12,"div",413),e.EFF(13,"Wallpaper preview \u2728"),e.k0s()()(),e.j41(14,"div",414)(15,"div",415)(16,"label",416)(17,"input",417),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.tempWallpaper.doodles,n)||(r.tempWallpaper.doodles=n),e.Njj(n)}),e.k0s(),e.nrm(18,"span",418),e.EFF(19," Add WhatsApp doodles "),e.k0s()(),e.j41(20,"div",419),e.EFF(21,"Solid Colors"),e.k0s(),e.j41(22,"div",420)(23,"input",8,0),e.bIt("change",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.onWallpaperFileSelected(n))}),e.k0s(),e.j41(25,"div",421),e.bIt("click",function(){e.eBV(t);const n=e.sdS(24);return e.Njj(n.click())}),e.j41(26,"div",422),e.qSk(),e.j41(27,"svg",113),e.nrm(28,"path",114)(29,"polyline",423)(30,"line",424),e.k0s()()(),e.DNE(31,bi,1,4,"div",425),e.k0s()(),e.joV(),e.j41(32,"div",426)(33,"label",427)(34,"input",417),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.tempWallpaper.doodles,n)||(r.tempWallpaper.doodles=n),e.Njj(n)}),e.k0s(),e.nrm(35,"span",418),e.EFF(36," Add Doodles "),e.k0s(),e.nrm(37,"div",428),e.j41(38,"button",178),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeWallpaperModal())}),e.EFF(39,"Cancel"),e.k0s(),e.j41(40,"button",179),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveWallpaper())}),e.EFF(41,"Set Wallpaper"),e.k0s()()()()}if(2&o){const t=e.XpG();e.R7$(9),e.xc7("background-color",t.tempWallpaper.color)("background-image",t.tempWallpaper.image?"url("+t.tempWallpaper.image+")":null),e.AVh("has-doodles",t.tempWallpaper.doodles&&!t.tempWallpaper.image),e.R7$(8),e.R50("ngModel",t.tempWallpaper.doodles),e.R7$(14),e.Y8G("ngForOf",t.wallpaperColors),e.R7$(3),e.R50("ngModel",t.tempWallpaper.doodles)}}let Ci=(()=>{class o{authService;socketService;chatService;themeService;router;toastService;messagesContainer;currentUser=null;users=[];selectedUser=null;messages=[];newMessage="";searchQuery="";typingUsers={};showSettings=!1;settingsView="main";generalSettings={startAtLogin:!1,minimizeToTray:!0,language:"English",fontSize:"100% (default)"};securitySettings={showNotifications:!1};privacySettings={lastSeen:"Everyone",profilePhoto:"Everyone",about:"Everyone",status:"My contacts",readReceipts:!0,defaultTimer:"Off",groups:"Everyone",appLock:!1,blockUnknownMessages:!1};notificationSettings={showBanner:"Always",showTaskbarBadge:"Always",messageNotifications:!0,showPreviews:!0,reactionNotifications:!0,statusReactions:!0,callNotifications:!0,incomingCallSounds:!0,incomingSounds:!0,outgoingSounds:!1,messageTone:"Default",groupTone:"Default"};videoSettings={cameraDeviceId:"",micDeviceId:"",speakerDeviceId:""};chatSettings={theme:"System default",wallpaper:{color:"#0b141a",image:null,doodles:!0},mediaQuality:"Standard",autoDownload:{photos:!0,audio:!0,videos:!0,documents:!0},spellCheck:!0,replaceEmoji:!0,enterIsSend:!0};isAppLocked=!1;showSetPasswordModal=!1;showPasswordSetModal=!1;appLockPassword="";tempPassword="";tempConfirmPassword="";showWallpaperModal=!1;wallpaperColors=["#0b141a","#ffffff","#e9edef","#d1d7db","#aeac99","#7acba5","#c7e9fa","#adbdcc","#d6d0f0","#cecece","#f2fce5","#fef3bd","#fee2e9","#e1f9f2","#ffe9e6","#fff6d6","#f3f6f9","#2a3942","#622f42","#1f2c34"];notificationTones=["Default","Alert 1","Alert 2","Alert 3","Alert 4","Alert 5","Alert 6"];notificationAudio=new Audio;tempWallpaper={color:"#0b141a",image:null,doodles:!0};currentTheme="system";availableDevices=[];activeNotifDropdown=null;isEditingName=!1;isEditingAbout=!1;tempProfileName="";tempProfileAbout="";typingTimeout;subscriptions=[];shouldScrollToBottom=!1;constructor(t,i,n,r,a,c){this.authService=t,this.socketService=i,this.chatService=n,this.themeService=r,this.router=a,this.toastService=c,this.currentTheme=this.themeService.getTheme()}ngOnInit(){this.loadSettings(),this.notificationSettings.messageNotifications&&"Notification"in window&&"granted"!==Notification.permission&&Notification.requestPermission(),this.applyFontSize(),this.subscriptions.push(this.authService.currentUser$.subscribe(t=>{this.currentUser=t,t&&!this.socketService.isConnected()&&(this.socketService.connect(t._id),this.loadUsers(),this.setupSocketListeners())}))}loadSettings(){const t=localStorage.getItem("generalSettings");t&&(this.generalSettings=JSON.parse(t));const i=localStorage.getItem("securitySettings");i&&(this.securitySettings=JSON.parse(i));const n=localStorage.getItem("privacySettings");n&&(this.privacySettings=JSON.parse(n));const r=localStorage.getItem("videoSettings");r&&(this.videoSettings=JSON.parse(r));const a=localStorage.getItem("chatSettings");a&&(this.chatSettings=JSON.parse(a));const c=localStorage.getItem("notificationSettings");c&&(this.notificationSettings={...this.notificationSettings,...JSON.parse(c)});const l=this.themeService.getTheme();this.currentTheme=l,"dark"===l?this.chatSettings.theme="Dark":"light"===l?this.chatSettings.theme="Light":"system"===l&&(this.chatSettings.theme="System default");const h=localStorage.getItem("appLockPassword");h&&(this.appLockPassword=h,"true"===localStorage.getItem("isAppLocked")&&(this.isAppLocked=!0))}saveSettings(){localStorage.setItem("generalSettings",JSON.stringify(this.generalSettings)),localStorage.setItem("securitySettings",JSON.stringify(this.securitySettings)),localStorage.setItem("privacySettings",JSON.stringify(this.privacySettings)),localStorage.setItem("videoSettings",JSON.stringify(this.videoSettings)),localStorage.setItem("chatSettings",JSON.stringify(this.chatSettings)),localStorage.setItem("notificationSettings",JSON.stringify(this.notificationSettings))}onWallpaperFileSelected(t){const i=t.target.files[0];if(i){const n=new FileReader;n.onload=r=>{this.tempWallpaper.image=r.target.result,this.tempWallpaper.color="#0b141a"},n.readAsDataURL(i)}}openWallpaperModal(){this.tempWallpaper="string"==typeof this.chatSettings.wallpaper?{color:"#0b141a",image:null,doodles:!0}:{color:this.chatSettings.wallpaper.color||"#0b141a",image:this.chatSettings.wallpaper.image||null,doodles:this.chatSettings.wallpaper.doodles},this.showWallpaperModal=!0,this.showSettings=!1}closeWallpaperModal(){this.showWallpaperModal=!1,this.showSettings=!0}selectWallpaperColor(t){this.tempWallpaper.color=t,this.tempWallpaper.image=null}saveWallpaper(){this.chatSettings.wallpaper={...this.tempWallpaper},this.saveSettings(),this.showWallpaperModal=!1,this.showSettings=!0}toggleSecurityNotifications(){this.saveSettings(),this.toastService.show("Security notifications "+(this.securitySettings.showNotifications?"enabled":"disabled"))}ngAfterViewChecked(){this.shouldScrollToBottom&&(this.scrollToBottom(),this.shouldScrollToBottom=!1)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.socketService.disconnect()}get filteredUsers(){return this.searchQuery?this.users.filter(t=>t.username.toLowerCase().includes(this.searchQuery.toLowerCase())):this.users}loadUsers(){this.chatService.getUsers().subscribe({next:t=>this.users=t,error:t=>console.error("Failed to load users:",t)})}selectUser(t){this.selectedUser=t,this.loadMessages(t._id),this.markMessagesAsRead(t._id)}loadMessages(t){this.chatService.getMessages(t).subscribe({next:i=>{console.log("ChatComponent: Loaded messages:",i),this.messages=i,this.shouldScrollToBottom=!0},error:i=>console.error("Failed to load messages:",i)})}setupSocketListeners(){this.subscriptions.push(this.socketService.onMessageSent().subscribe(t=>{this.selectedUser&&(t.receiver._id===this.selectedUser._id||t.sender._id===this.selectedUser._id)&&(this.messages.push(t),this.shouldScrollToBottom=!0)}),this.socketService.onReceiveMessage().subscribe(t=>{this.selectedUser&&t.sender._id===this.selectedUser._id?(this.messages.push(t),this.shouldScrollToBottom=!0,this.markMessagesAsRead(t.sender._id),this.socketService.markMessagesSeen([t._id],t.sender._id,this.currentUser._id),this.notificationSettings.incomingSounds&&this.playNotificationSound("message")):this.handleIncomingNotification(t)}),this.socketService.onUserTyping().subscribe(t=>this.typingUsers[t.userId]=t.isTyping),this.socketService.onMessagesSeen().subscribe(t=>{this.messages.forEach(i=>{t.messageIds.includes(i._id)&&(i.seen=!0,i.seenAt=t.seenAt)})}),this.socketService.onMessageDelivered().subscribe(t=>{const i=this.messages.find(n=>n._id===t.messageId);i&&(i.delivered=!0,i.deliveredAt=t.deliveredAt)}))}sendMessage(){!this.newMessage.trim()||!this.selectedUser||!this.currentUser||(this.socketService.sendMessage({senderId:this.currentUser._id,receiverId:this.selectedUser._id,content:this.newMessage.trim()}),this.newMessage="",this.socketService.sendTyping({senderId:this.currentUser._id,receiverId:this.selectedUser._id,isTyping:!1}))}onTyping(){!this.selectedUser||!this.currentUser||(this.typingTimeout&&clearTimeout(this.typingTimeout),this.socketService.sendTyping({senderId:this.currentUser._id,receiverId:this.selectedUser._id,isTyping:!0}),this.typingTimeout=setTimeout(()=>{this.socketService.sendTyping({senderId:this.currentUser._id,receiverId:this.selectedUser._id,isTyping:!1})},2e3))}markMessagesAsRead(t){this.chatService.markMessagesAsRead(t).subscribe()}callModal;isUserOnline(t){return this.socketService.isUserOnline(t)}onVideoCall(){!this.selectedUser||!this.currentUser||this.callModal.startCall(this.selectedUser._id,this.selectedUser.fullName||this.selectedUser.username,"video")}onVoiceCall(){!this.selectedUser||!this.currentUser||this.callModal.startCall(this.selectedUser._id,this.selectedUser.fullName||this.selectedUser.username,"audio")}formatTime(t){return new Date(t).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})}getAvatarUrl(t){if(!t)return"";if(t.startsWith("http"))return t;const i=t.replace(/\\/g,"/");return`${U.c.socketUrl}/${i}`}scrollToBottom(){try{this.messagesContainer&&(this.messagesContainer.nativeElement.scrollTop=this.messagesContainer.nativeElement.scrollHeight)}catch{}}onFileSelected(t){const i=t.target.files[0];i&&(console.log("Uploading file:",i.name),this.authService.uploadAvatar(i).subscribe({next:n=>{console.log("Avatar upload response:",n),this.currentUser={...this.currentUser,avatar:n.avatar}},error:n=>{console.error("Avatar upload failed:",n),alert("Failed to upload avatar: "+(n.error?.message||n.message))}}))}onLogout(){this.authService.logout().subscribe({next:()=>{this.socketService.disconnect(),this.toastService.success("Logged out successfully"),this.router.navigate(["/login"])},error:()=>{sessionStorage.clear(),this.router.navigate(["/login"])}})}onAvatarError(){this.currentUser&&(this.currentUser.avatar=void 0)}deselectUser(){this.selectedUser=null}previewFile=null;previewUrl=null;isUploading=!1;uploadProgress=0;onChatFileSelected(t){const i=t.target.files[0];if(i&&this.selectedUser&&this.currentUser&&(this.previewFile=i,this.previewUrl=null,i.type.startsWith("image/")||i.type.startsWith("video/"))){const n=new FileReader;n.onload=r=>{this.previewUrl=r.target.result},n.readAsDataURL(i)}}cancelPreview(){this.previewFile=null,this.previewUrl=null}confirmSendFile(){if(!this.previewFile||!this.selectedUser||!this.currentUser)return;const t=this.previewFile;let i="file";t.type.startsWith("image/")?i="image":t.type.startsWith("video/")?i="video":t.type.startsWith("audio/")&&(i="audio");const n="temp-"+Date.now();this.messages.push({_id:n,sender:this.currentUser,receiver:this.selectedUser,content:"image"===i?"Image":"video"===i?"Video":t.name,messageType:i,fileUrl:this.previewUrl||"",delivered:!1,seen:!1,createdAt:new Date,updatedAt:new Date,uploadProgress:0,localId:n}),this.shouldScrollToBottom=!0,this.cancelPreview(),this.chatService.uploadFile(t).subscribe({next:a=>{const c=this.messages.findIndex(l=>l.localId===n);if(-1!==c||a.type===M.hv.Response)if(a.type===M.hv.UploadProgress){if(a.total){const l=Math.round(100*a.loaded/a.total);-1!==c&&(this.messages[c].uploadProgress=l)}}else if(a.type===M.hv.Response){const l=a.body;console.log("File uploaded:",l),this.messages=this.messages.filter(h=>h.localId!==n),this.socketService.sendMessage({senderId:this.currentUser._id,receiverId:this.selectedUser._id,content:"image"===i?"Image":"video"===i?"Video":t.name,fileUrl:l.fileUrl,messageType:i})}},error:a=>{console.error("Upload failed:",a),alert("Failed to send file"),this.messages=this.messages.filter(c=>c.localId!==n)}})}showEmojiPicker=!1;emojis=["\u{1f600}","\u{1f603}","\u{1f604}","\u{1f601}","\u{1f606}","\u{1f605}","\u{1f602}","\u{1f923}","\u{1f972}","\u{1f60a}","\u{1f607}","\u{1f642}","\u{1f643}","\u{1f609}","\u{1f60c}","\u{1f60d}","\u{1f970}","\u{1f618}","\u{1f617}","\u{1f619}","\u{1f61a}","\u{1f60b}","\u{1f61b}","\u{1f61d}","\u{1f61c}","\u{1f92a}","\u{1f928}","\u{1f9d0}","\u{1f913}","\u{1f60e}","\u{1f978}","\u{1f929}","\u{1f973}","\u{1f60f}","\u{1f612}","\u{1f61e}","\u{1f614}","\u{1f61f}","\u{1f615}","\u{1f641}","\u2639\ufe0f","\u{1f623}","\u{1f616}","\u{1f62b}","\u{1f629}","\u{1f97a}","\u{1f622}","\u{1f62d}","\u{1f624}","\u{1f620}","\u{1f621}","\u{1f92c}","\u{1f92f}","\u{1f633}","\u{1f975}","\u{1f976}","\u{1f631}","\u{1f628}","\u{1f630}","\u{1f625}","\u{1f613}","\u{1f917}","\u{1f914}","\u{1f92d}","\u{1f92b}","\u{1f925}","\u{1f636}","\u{1f610}","\u{1f611}","\u{1f62c}","\u{1f644}","\u{1f62f}","\u{1f626}","\u{1f627}","\u{1f62e}","\u{1f632}","\u{1f971}","\u{1f634}","\u{1f924}","\u{1f62a}","\u{1f635}","\u{1f910}","\u{1f974}","\u{1f922}","\u{1f92e}","\u{1f927}","\u{1f637}","\u{1f912}","\u{1f915}","\u{1f911}","\u{1f920}","\u{1f608}","\u{1f47f}","\u{1f479}","\u{1f47a}","\u{1f921}","\u{1f4a9}","\u{1f47b}","\u{1f480}","\u2620\ufe0f","\u{1f47d}","\u{1f47e}","\u{1f916}","\u{1f383}","\u{1f63a}","\u{1f638}","\u{1f639}","\u{1f63b}","\u{1f63c}","\u{1f63d}","\u{1f640}","\u{1f63f}","\u{1f63e}","\u{1f44b}","\u{1f91a}","\u{1f590}\ufe0f","\u270b","\u{1f596}","\u{1f44c}","\u{1f90c}","\u{1f90f}","\u270c\ufe0f","\u{1f91e}","\u{1f91f}","\u{1f918}","\u{1f919}","\u{1f448}","\u{1f449}","\u{1f446}","\u{1f595}","\u{1f447}","\u261d\ufe0f","\u{1f44d}","\u{1f44e}","\u270a","\u{1f44a}","\u{1f91b}","\u{1f91c}","\u{1f44f}","\u{1f64c}","\u{1f450}","\u{1f932}","\u{1f91d}","\u{1f64f}","\u270d\ufe0f","\u{1f485}","\u{1f933}","\u{1f4aa}","\u{1f9e0}","\u{1fac0}","\u{1fac1}","\u{1f9b7}","\u{1f9b4}","\u{1f440}","\u{1f441}\ufe0f","\u{1f445}","\u{1f444}","\u{1f48b}","\u{1fa78}","\u{1f498}","\u{1f49d}","\u{1f496}","\u{1f497}","\u{1f493}","\u{1f49e}","\u{1f495}","\u{1f49f}","\u2763\ufe0f","\u{1f494}","\u2764\ufe0f","\u{1f9e1}","\u{1f49b}","\u{1f49a}","\u{1f499}","\u{1f49c}","\u{1f90e}","\u{1f5a4}","\u{1f90d}","\u{1f4af}","\u{1f4a2}","\u{1f4a5}","\u{1f4ab}","\u{1f4a6}","\u{1f4a8}","\u{1f573}\ufe0f","\u{1f4a3}","\u{1f4ac}","\u{1f441}\ufe0f\u200d\u{1f5e8}\ufe0f","\u{1f5e8}\ufe0f","\u{1f5ef}\ufe0f","\u{1f4ad}","\u{1f4a4}","\u{1f436}","\u{1f431}","\u{1f42d}","\u{1f439}","\u{1f430}","\u{1f98a}","\u{1f43b}","\u{1f43c}","\u{1f428}","\u{1f42f}","\u{1f981}","\u{1f42e}","\u{1f437}","\u{1f43d}","\u{1f438}","\u{1f435}","\u{1f648}","\u{1f649}","\u{1f64a}","\u{1f412}","\u{1f414}","\u{1f427}","\u{1f426}","\u{1f424}","\u{1f423}","\u{1f425}","\u{1f986}","\u{1f985}","\u{1f989}","\u{1f987}","\u{1f43a}","\u{1f417}","\u{1f434}","\u{1f984}","\u{1f41d}","\u{1f41b}","\u{1f98b}","\u{1f40c}","\u{1f41e}","\u{1f41c}","\u{1f99f}","\u{1f997}","\u{1f577}\ufe0f","\u{1f578}\ufe0f","\u{1f982}","\u{1f422}","\u{1f40d}","\u{1f98e}","\u{1f996}","\u{1f995}","\u{1f419}","\u{1f991}","\u{1f990}","\u{1f99e}","\u{1f980}","\u{1f421}","\u{1f420}","\u{1f41f}","\u{1f42c}","\u{1f433}","\u{1f40b}","\u{1f988}","\u{1f40a}","\u{1f405}","\u{1f406}","\u{1f993}","\u{1f98d}","\u{1f9a7}","\u{1f418}","\u{1f99b}","\u{1f98f}","\u{1f42a}","\u{1f42b}","\u{1f992}","\u{1f998}","\u{1f403}","\u{1f402}","\u{1f404}","\u{1f40e}","\u{1f416}","\u{1f40f}","\u{1f411}","\u{1f999}","\u{1f410}","\u{1f98c}","\u{1f415}","\u{1f429}","\u{1f9ae}","\u{1f415}\u200d\u{1f9ba}","\u{1f408}","\u{1f413}","\u{1f983}","\u{1f99a}","\u{1f99c}","\u{1f9a2}","\u{1f9a9}","\u{1f54a}\ufe0f","\u{1f407}","\u{1f99d}","\u{1f9a8}","\u{1f9a1}","\u{1f9a6}","\u{1f9a5}","\u{1f401}","\u{1f400}","\u{1f43f}\ufe0f","\u{1f994}","\u{1f43e}","\u{1f409}","\u{1f432}","\u{1f335}","\u{1f384}","\u{1f332}","\u{1f333}","\u{1f334}","\u{1f331}","\u{1f33f}","\u2618\ufe0f","\u{1f340}","\u{1f38d}","\u{1f38b}","\u{1f343}","\u{1f342}","\u{1f341}","\u{1f344}","\u{1f41a}","\u{1f33e}","\u{1f490}","\u{1f337}","\u{1f339}","\u{1f940}","\u{1f33a}","\u{1f338}","\u{1f33c}","\u{1f33b}","\u{1f31e}","\u{1f31d}","\u{1f31b}","\u{1f31c}","\u{1f31a}","\u{1f315}","\u{1f316}","\u{1f317}","\u{1f318}","\u{1f311}","\u{1f312}","\u{1f313}","\u{1f314}","\u{1f319}","\u{1f30e}","\u{1f30d}","\u{1f30f}","\u{1fa90}","\u{1f4ab}","\u2b50","\u{1f31f}","\u2728","\u26a1","\u2604\ufe0f","\u{1f4a5}","\u{1f525}","\u{1f32a}\ufe0f","\u{1f308}","\u2600\ufe0f","\u{1f324}\ufe0f","\u26c5","\u{1f325}\ufe0f","\u2601\ufe0f","\u{1f326}\ufe0f","\u{1f327}\ufe0f","\u{1f328}\ufe0f","\u{1f329}\ufe0f","\u26a1","\u2744\ufe0f","\u2603\ufe0f","\u26c4","\u{1f32c}\ufe0f","\u{1f4a8}","\u{1f4a7}","\u{1f4a6}","\u2614","\u2602\ufe0f","\u{1f30a}","\u{1f32b}\ufe0f","\u{1f34f}","\u{1f34e}","\u{1f350}","\u{1f34a}","\u{1f34b}","\u{1f34c}","\u{1f349}","\u{1f347}","\u{1f353}","\u{1f348}","\u{1f352}","\u{1f351}","\u{1f96d}","\u{1f34d}","\u{1f965}","\u{1f95d}","\u{1f345}","\u{1f346}","\u{1f951}","\u{1f966}","\u{1f96c}","\u{1f952}","\u{1f336}\ufe0f","\u{1f33d}","\u{1f955}","\u{1f9c4}","\u{1f9c5}","\u{1f954}","\u{1f360}","\u{1f950}","\u{1f96f}","\u{1f35e}","\u{1f956}","\u{1f968}","\u{1f9c0}","\u{1f95a}","\u{1f373}","\u{1f9c8}","\u{1f95e}","\u{1f9c7}","\u{1f953}","\u{1f969}","\u{1f357}","\u{1f356}","\u{1f9b4}","\u{1f32d}","\u{1f354}","\u{1f35f}","\u{1f355}","\u{1f96a}","\u{1f959}","\u{1f9c6}","\u{1f32e}","\u{1f32f}","\u{1f957}","\u{1f958}","\u{1f96b}","\u{1f35d}","\u{1f35c}","\u{1f372}","\u{1f35b}","\u{1f363}","\u{1f371}","\u{1f95f}","\u{1f9aa}","\u{1f364}","\u{1f359}","\u{1f35a}","\u{1f358}","\u{1f365}","\u{1f960}","\u{1f96e}","\u{1f362}","\u{1f361}","\u{1f367}","\u{1f368}","\u{1f366}","\u{1f967}","\u{1f9c1}","\u{1f370}","\u{1f382}","\u{1f36e}","\u{1f36d}","\u{1f36c}","\u{1f36b}","\u{1f37f}","\u{1f369}","\u{1f36a}","\u{1f330}","\u{1f95c}","\u{1f36f}","\u{1f95b}","\u{1f37c}","\u2615","\u{1f375}","\u{1f9c3}","\u{1f964}","\u{1f376}","\u{1f37a}","\u{1f37b}","\u{1f942}","\u{1f377}","\u{1f943}","\u{1f378}","\u{1f379}","\u{1f9c9}","\u{1f37e}","\u{1f9ca}","\u{1f944}","\u{1f374}","\u{1f37d}\ufe0f","\u{1f963}","\u{1f961}","\u{1f962}","\u{1f9c2}","\u26bd","\u{1f3c0}","\u{1f3c8}","\u26be","\u{1f94e}","\u{1f3be}","\u{1f3d0}","\u{1f3c9}","\u{1f94f}","\u{1f3b1}","\u{1fa80}","\u{1f3d3}","\u{1f3f8}","\u{1f3d2}","\u{1f3d1}","\u{1f94d}","\u{1f3cf}","\u{1f945}","\u26f3","\u{1fa81}","\u{1f3f9}","\u{1f3a3}","\u{1f93f}","\u{1f94a}","\u{1f94b}","\u{1f3bd}","\u{1f6f9}","\u{1f6f7}","\u26f8\ufe0f","\u{1f94c}","\u{1f3bf}","\u26f7\ufe0f","\u{1f3c2}","\u{1fa82}","\u{1f3cb}\ufe0f","\u{1f93c}","\u{1f938}","\u26f9\ufe0f","\u{1f93a}","\u{1f93e}","\u{1f3cc}\ufe0f","\u{1f3c7}","\u{1f9d8}","\u{1f3c4}","\u{1f3ca}","\u{1f93d}","\u{1f6a3}","\u{1f9d7}","\u{1f6b5}","\u{1f6b4}","\u{1f3c6}","\u{1f947}","\u{1f948}","\u{1f949}","\u{1f3c5}","\u{1f396}\ufe0f","\u{1f3f5}\ufe0f","\u{1f397}\ufe0f","\u{1f3ab}","\u{1f39f}\ufe0f","\u{1f3aa}","\u{1f939}","\u{1f3ad}","\u{1fa70}","\u{1f3a8}","\u{1f3ac}","\u{1f3a4}","\u{1f3a7}","\u{1f3bc}","\u{1f3b9}","\u{1f941}","\u{1f3b7}","\u{1f3ba}","\u{1f3b8}","\u{1fa95}","\u{1f3bb}","\u{1f3b2}","\u265f\ufe0f","\u{1f3af}","\u{1f3b3}","\u{1f3ae}","\u{1f3b0}","\u{1f9e9}","\u{1f697}","\u{1f695}","\u{1f699}","\u{1f68c}","\u{1f68e}","\u{1f3ce}\ufe0f","\u{1f693}","\u{1f691}","\u{1f692}","\u{1f690}","\u{1f69a}","\u{1f69b}","\u{1f69c}","\u{1f3cd}\ufe0f","\u{1f6f5}","\u{1f6b2}","\u{1f6f4}","\u{1f6fa}","\u{1f694}","\u{1f68d}","\u{1f698}","\u{1f696}","\u{1f6a1}","\u{1f6a0}","\u{1f69f}","\u{1f683}","\u{1f68b}","\u{1f69e}","\u{1f69d}","\u{1f684}","\u{1f685}","\u{1f688}","\u{1f682}","\u{1f686}","\u{1f687}","\u{1f68a}","\u{1f689}","\u2708\ufe0f","\u{1f6eb}","\u{1f6ec}","\u{1f6e9}\ufe0f","\u{1f4ba}","\u{1f6f0}\ufe0f","\u{1f680}","\u{1f6f8}","\u{1f681}","\u{1f6f6}","\u26f5","\u{1f6a4}","\u{1f6e5}\ufe0f","\u{1f6f3}\ufe0f","\u26f4\ufe0f","\u{1f6a2}","\u2693","\u26fd","\u{1f6a7}","\u231a","\u{1f4f1}","\u{1f4f2}","\u{1f4bb}","\u2328\ufe0f","\u{1f5a5}\ufe0f","\u{1f5a8}\ufe0f","\u{1f5b1}\ufe0f","\u{1f5b2}\ufe0f","\u{1f579}\ufe0f","\u{1f5dc}\ufe0f","\u{1f4bd}","\u{1f4be}","\u{1f4bf}","\u{1f4c0}","\u{1f4fc}","\u{1f4f7}","\u{1f4f8}","\u{1f4f9}","\u{1f3a5}","\u{1f4fd}\ufe0f","\u{1f39e}\ufe0f","\u{1f4de}","\u260e\ufe0f","\u{1f4df}","\u{1f4e0}","\u{1f4fa}","\u{1f4fb}","\u{1f399}\ufe0f","\u{1f39a}\ufe0f","\u{1f39b}\ufe0f","\u{1f9ed}","\u23f1\ufe0f","\u23f2\ufe0f","\u23f0","\u{1f570}\ufe0f","\u231b","\u23f3","\u{1f4e1}","\u{1f50b}","\u{1f50c}","\u{1f4a1}","\u{1f526}","\u{1f56f}\ufe0f","\u{1fa94}","\u{1f9ef}","\u{1f6e2}\ufe0f","\u{1f4b8}","\u{1f4b5}","\u{1f4b4}","\u{1f4b6}","\u{1f4b7}","\u{1f4b0}","\u{1f4b3}","\u{1f48e}","\u2696\ufe0f","\u{1f9f0}","\u{1f527}","\u{1f528}","\u2692\ufe0f","\u{1f6e0}\ufe0f","\u26cf\ufe0f","\u{1f529}","\u2699\ufe0f","\u{1f9f1}","\u26d3\ufe0f","\u{1f9f2}","\u{1f52b}","\u{1f4a3}","\u{1f9e8}","\u{1fa93}","\u{1f52a}","\u{1f5e1}\ufe0f","\u2694\ufe0f","\u{1f6e1}\ufe0f","\u{1f6ac}","\u26b0\ufe0f","\u26b1\ufe0f","\u{1f3fa}","\u{1f52e}","\u{1f4ff}","\u{1f9ff}","\u{1f488}","\u2697\ufe0f","\u{1f52d}","\u{1f52c}","\u{1f573}\ufe0f","\u{1f48a}","\u{1f489}","\u{1fa78}","\u{1f9ec}","\u{1fa7a}","\u{1fa79}","\u{1f321}\ufe0f","\u{1f9fc}","\u{1fa92}","\u{1f6bd}","\u{1f6b0}","\u{1f6bf}","\u{1f6c1}","\u{1f6c0}","\u{1f9f9}","\u{1f9fa}","\u{1f9fb}","\u{1f9fd}","\u{1f511}","\u{1f5dd}\ufe0f","\u{1f6cb}\ufe0f","\u{1fa91}","\u{1f6cc}","\u{1f6cf}\ufe0f","\u{1f6aa}","\u{1f4e2}","\u{1f4e3}","\u{1f514}","\u{1f515}","\u{1f3b5}","\u{1f3b6}","\u{1f3e7}","\u{1f6ae}","\u{1f6b0}","\u267f","\u{1f6b9}","\u{1f6ba}","\u{1f6bb}","\u{1f6bc}","\u{1f6be}","\u{1f6c2}","\u{1f6c3}","\u{1f6c4}","\u{1f6c5}","\u26a0\ufe0f","\u{1f6b8}","\u26d4","\u{1f6ab}","\u{1f6b3}","\u{1f6ad}","\u{1f6af}","\u{1f6b1}","\u{1f6b7}","\u{1f4f5}","\u{1f51e}","\u2622\ufe0f","\u2623\ufe0f","\u2b06\ufe0f","\u2197\ufe0f","\u27a1\ufe0f","\u2198\ufe0f","\u2b07\ufe0f","\u2199\ufe0f","\u2b05\ufe0f","\u2196\ufe0f","\u2195\ufe0f","\u2194\ufe0f","\u21a9\ufe0f","\u21aa\ufe0f","\u2934\ufe0f","\u2935\ufe0f","\u{1f503}","\u{1f504}","\u{1f519}","\u{1f51a}","\u{1f51b}","\u{1f51c}","\u{1f51d}","\u{1f6d0}","\u269b\ufe0f","\u{1f549}\ufe0f","\u2721\ufe0f","\u2638\ufe0f","\u262f\ufe0f","\u271d\ufe0f","\u2626\ufe0f","\u262a\ufe0f","\u262e\ufe0f","\u{1f54e}","\u{1f52f}","\u2648","\u2649","\u264a","\u264b","\u264c","\u264d","\u264e","\u264f","\u2650","\u2651","\u2652","\u2653","\u26ce","\u{1f500}","\u{1f501}","\u{1f502}","\u25b6\ufe0f","\u23e9","\u23ed\ufe0f","\u23ef\ufe0f","\u25c0\ufe0f","\u23ea","\u23ee\ufe0f","\u{1f53c}","\u23eb","\u{1f53d}","\u23ec","\u23f8\ufe0f","\u23f9\ufe0f","\u23fa\ufe0f","\u23cf\ufe0f","\u{1f3a6}","\u{1f505}","\u{1f506}","\u{1f4f6}","\u{1f4f3}","\u{1f4f4}","\u2640\ufe0f","\u2642\ufe0f","\u26a7\ufe0f","\u2716\ufe0f","\u2795","\u2796","\u2797","\u267e\ufe0f","\u203c\ufe0f","\u2049\ufe0f","\u2753","\u2754","\u2755","\u2757","\u3030\ufe0f","\u{1f4b1}","\u{1f4b2}","\u2695\ufe0f","\u267b\ufe0f","\u269c\ufe0f","\u{1f531}","\u{1f4db}","\u{1f530}","\u2b55","\u2705","\u2611\ufe0f","\u2714\ufe0f","\u274c","\u274e","\u27b0","\u27bf","\u303d\ufe0f","\u2733\ufe0f","\u2734\ufe0f","\u2747\ufe0f","\u2122\ufe0f","\xa9\ufe0f","\xae\ufe0f","\u3030\ufe0f","\u{1f517}"];toggleEmojiPicker(){this.showEmojiPicker=!this.showEmojiPicker}addEmoji(t){this.newMessage+=t,this.showEmojiPicker=!1}isRecording=!1;isInitializing=!1;mediaRecorder=null;audioChunks=[];startRecording(){var t=this;return(0,b.A)(function*(){if(!t.isRecording&&!t.isInitializing){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)return void("http:"===window.location.protocol&&"localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname?alert("\u26a0\ufe0f Browser Security Block:\n\nMicrophone is blocked because you are using an IP address ("+window.location.hostname+') without HTTPS.\n\nSOLUTIONS:\n1. Use "http://localhost:4200" instead (if on this PC).\n2. OR go to "chrome://flags" -> Enable "Insecure origins treated as secure"\n   and add: '+window.location.origin):alert("Audio recording not supported or permission denied. Please allow microphone access."));t.isInitializing=!0;try{const i=yield navigator.mediaDevices.getUserMedia({audio:!0});if(!t.isInitializing)return void i.getTracks().forEach(n=>n.stop());t.mediaRecorder=new MediaRecorder(i),t.audioChunks=[],t.isRecording=!0,t.isInitializing=!1,t.mediaRecorder.ondataavailable=n=>{t.audioChunks.push(n.data)},t.mediaRecorder.onstop=()=>{if(!t.isRecording)return;const n=new Blob(t.audioChunks,{type:"audio/webm"});if(n.size>0){const r=new File([n],"voice-message.webm",{type:"audio/webm"});t.uploadAudio(r)}t.isRecording=!1,i.getTracks().forEach(r=>r.stop()),t.mediaRecorder=null},t.mediaRecorder.start(),console.log("Recording started")}catch(i){console.error("Error accessing microphone:",i),t.isInitializing=!1,t.isRecording=!1}}})()}stopRecording(){this.mediaRecorder&&this.isRecording&&"inactive"!==this.mediaRecorder.state&&this.mediaRecorder.stop()}uploadAudio(t){!this.selectedUser||!this.currentUser||this.chatService.uploadFile(t).subscribe({next:i=>{this.socketService.sendMessage({senderId:this.currentUser._id,receiverId:this.selectedUser._id,content:"Voice Message",fileUrl:i.fileUrl,messageType:"audio"})},error:i=>console.error("Audio upload failed",i)})}openSettings(t="main"){this.showSettings=!0,this.settingsView=t,"video-voice"===t&&this.loadMediaDevices()}closeSettings(){this.showSettings=!1}navigateToSettings(t){this.settingsView=t,this.showSettings=!0,"video-voice"===t&&this.loadMediaDevices()}selectTheme(t){this.themeService.setTheme(t),this.currentTheme=t,"dark"===t?this.chatSettings.theme="Dark":"light"===t?this.chatSettings.theme="Light":"system"===t&&(this.chatSettings.theme="System default"),this.saveSettings()}applyFontSize(){const t=this.generalSettings.fontSize;let i="100%";"125%"===t&&(i="125%"),"150%"===t&&(i="150%"),document.body.style.zoom=i}loadMediaDevices(){var t=this;return(0,b.A)(function*(){try{yield navigator.mediaDevices.getUserMedia({audio:!0,video:!0});const i=yield navigator.mediaDevices.enumerateDevices();t.availableDevices=i.map(n=>({kind:n.kind,label:n.label||`${n.kind} (${n.deviceId.slice(0,5)}...)`,deviceId:n.deviceId}))}catch(i){console.error("Error fetching devices",i)}})()}get audioInputDevices(){return this.availableDevices.filter(t=>"audioinput"===t.kind)}get audioOutputDevices(){return this.availableDevices.filter(t=>"audiooutput"===t.kind)}get videoInputDevices(){return this.availableDevices.filter(t=>"videoinput"===t.kind)}toggleAppLock(t){this.privacySettings.appLock?(this.tempPassword="",this.tempConfirmPassword="",this.showSetPasswordModal=!0):(this.appLockPassword="",localStorage.removeItem("appLockPassword"),localStorage.removeItem("isAppLocked"),this.saveSettings())}closeSetPasswordModal(){this.showSetPasswordModal=!1,this.appLockPassword||(this.privacySettings.appLock=!1)}confirmSetPassword(){this.tempPassword&&this.tempConfirmPassword?this.tempPassword.length<6?alert("Password must be at least 6 characters."):this.tempPassword===this.tempConfirmPassword?(this.appLockPassword=this.tempPassword,localStorage.setItem("appLockPassword",this.appLockPassword),this.showSetPasswordModal=!1,this.showPasswordSetModal=!0,this.saveSettings()):alert("Passwords do not match."):alert("Please enter a password.")}shouldShowMedia(t){if(t.sender._id===this.currentUser?._id||t.isManuallyDownloaded)return!0;const i=t.messageType,n=this.chatSettings.autoDownload;return!!("image"===i&&n.photos||"video"===i&&n.videos||"audio"===i&&n.audio||"file"===i&&n.documents)}downloadMedia(t){t.isManuallyDownloaded=!0}downloadFile(t){if(!t)return;const i=this.getAvatarUrl(t);window.open(i,"_blank")}resetAutoDownloadSettings(){this.chatSettings.autoDownload={photos:!0,audio:!0,videos:!0,documents:!0},this.saveSettings()}handleIncomingNotification(t){this.notificationSettings.messageNotifications&&this.playNotificationSound("message"),this.notificationSettings.messageNotifications&&"Never"!==this.notificationSettings.showBanner&&this.showBrowserNotification(t)}playNotificationSound(t){const i="group"===t?this.notificationSettings.groupTone:this.notificationSettings.messageTone;if("None"===i)return;let n="https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3";"Alert 1"===i&&(n="https://assets.mixkit.co/active_storage/sfx/2358/2358-preview.mp3"),"Alert 2"===i&&(n="https://assets.mixkit.co/active_storage/sfx/2354/2354-preview.mp3"),this.notificationAudio.src=n,this.notificationAudio.play().catch(r=>console.warn("Audio play failed",r))}toggleNotifDropdown(t,i){i.stopPropagation(),this.activeNotifDropdown=this.activeNotifDropdown===t?null:t}selectNotifSetting(t,i){this.notificationSettings[t]=i,this.saveSettings(),this.activeNotifDropdown=null}closeNotifDropdowns(){this.activeNotifDropdown=null}showBrowserNotification(t){if("Notification"in window&&"granted"===Notification.permission){const r=new Notification(t.sender.username||"New Message",{body:this.notificationSettings.showPreviews?t.content||"Sent a file":"New Message",icon:"assets/icons/icon-128x128.png",silent:!0});r.onclick=()=>{window.focus(),r.close()}}}startEditName(){this.isEditingName=!0,this.tempProfileName=this.currentUser?.username||""}saveName(){this.tempProfileName.trim()&&this.tempProfileName!==this.currentUser?.username?this.authService.updateProfile({username:this.tempProfileName}).subscribe({next:t=>{this.isEditingName=!1,this.toastService.show("Name updated successfully")},error:t=>{console.error("Failed to update name",t),this.toastService.show("Failed to update name","error")}}):this.isEditingName=!1}cancelEditName(){this.isEditingName=!1}startEditAbout(){this.isEditingAbout=!0,this.tempProfileAbout=this.currentUser?.about||""}saveAbout(){this.tempProfileAbout!==this.currentUser?.about?this.authService.updateProfile({about:this.tempProfileAbout}).subscribe({next:t=>{this.isEditingAbout=!1,this.toastService.show("About updated successfully")},error:t=>{console.error("Failed to update about",t),this.toastService.show("Failed to update about","error")}}):this.isEditingAbout=!1}cancelEditAbout(){this.isEditingAbout=!1}refreshProfile(){this.authService.getProfile().subscribe()}closePasswordSetModal(){this.showPasswordSetModal=!1}lockApp(){this.isAppLocked=!0,localStorage.setItem("isAppLocked","true"),this.showPasswordSetModal=!1}unlockApp(){this.tempPassword===this.appLockPassword?(this.isAppLocked=!1,localStorage.removeItem("isAppLocked"),this.tempPassword=""):alert("Incorrect password")}unlockPasswordInput="";isPasswordVisible=!1;togglePasswordVisibility(){this.isPasswordVisible=!this.isPasswordVisible}attemptUnlock(){this.unlockPasswordInput===this.appLockPassword?(this.isAppLocked=!1,localStorage.removeItem("isAppLocked"),this.unlockPasswordInput="",this.isPasswordVisible=!1):alert("Incorrect password")}showThemeModal=!1;tempTheme="System default";openThemeModal(){this.tempTheme=this.chatSettings.theme,this.showThemeModal=!0}closeThemeModal(){this.showThemeModal=!1}applyTheme(){let t="system";"Dark"===this.tempTheme?t="dark":"Light"===this.tempTheme?t="light":"System default"===this.tempTheme&&(t="system"),this.selectTheme(t),this.closeThemeModal()}static \u0275fac=function(i){return new(i||o)(e.rXU(Et.u),e.rXU(xe),e.rXU(Rt),e.rXU(It),e.rXU(Nt.Ix),e.rXU(Vt.f))};static \u0275cmp=e.VBU({type:o,selectors:[["app-chat"]],viewQuery:function(i,n){if(1&i&&(e.GBs(Pt,5),e.GBs(Ot,5)),2&i){let r;e.mGM(r=e.lsd())&&(n.messagesContainer=r.first),e.mGM(r=e.lsd())&&(n.callModal=r.first)}},hostBindings:function(i,n){1&i&&e.bIt("click",function(){return n.closeNotifDropdowns()},!1,e.EBC)},standalone:!0,features:[e.aNF],decls:39,vars:25,consts:[["fileInput",""],["callModal",""],["messagesContainer",""],["chatFileInput",""],[1,"chat-container"],[1,"sidebar"],[1,"sidebar-header"],[1,"user-info"],["type","file","accept","image/*",2,"display","none",3,"change"],["title","View Profile",1,"avatar-container",3,"click"],["class","avatar",4,"ngIf"],["class","avatar-img",3,"src","alt","error",4,"ngIf"],[1,"edit-overlay"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"],["cx","12","cy","13","r","4"],[1,"username"],[1,"header-actions"],["title","Settings",1,"icon-btn",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["cx","12","cy","12","r","3"],["d","M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"],[1,"search-box"],["width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["cx","11","cy","11","r","8"],["d","m21 21-4.35-4.35"],["type","text","placeholder","Search or start new chat",3,"ngModelChange","ngModel"],[1,"users-list"],["class","user-item",3,"active","click",4,"ngFor","ngForOf"],["class","no-users",4,"ngIf"],[1,"chat-area"],[1,"chat-wallpaper"],["class","no-chat",4,"ngIf"],[4,"ngIf"],["class","modal-overlay",4,"ngIf"],["class","settings-overlay",3,"click",4,"ngIf"],["class","locked-overlay",4,"ngIf"],["class","wallpaper-modal-overlay",3,"click",4,"ngIf"],[1,"avatar"],[1,"avatar-img",3,"error","src","alt"],[1,"user-item",3,"click"],[1,"user-avatar"],["class","avatar-img","style","width: 100%; height: 100%; border-radius: 50%; object-fit: cover;",3,"src","error",4,"ngIf"],[1,"status-dot"],[1,"user-details"],[1,"user-name"],[1,"user-status"],[1,"avatar-img",2,"width","100%","height","100%","border-radius","50%","object-fit","cover",3,"error","src"],[1,"no-users"],[1,"no-chat"],[1,"no-chat-content","animate-fade-in"],["width","80","height","80","viewBox","0 0 24 24","fill","none","stroke","url(#gradient)","stroke-width","1.5"],["id","gradient","x1","0","y1","0","x2","24","y2","24","gradientUnits","userSpaceOnUse"],["offset","0%","stop-color","#3b82f6"],["offset","100%","stop-color","#8b5cf6"],["d","M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"],[1,"chat-header"],[1,"chat-user-info-group"],[1,"back-btn",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","m15 18-6-6 6-6"],[1,"chat-user-avatar"],["style","width:100%; height:100%; border-radius:14px; object-fit:cover;",3,"src",4,"ngIf"],[1,"chat-user-text"],[1,"chat-user-name"],[1,"chat-user-status"],["class","typing-indicator",4,"ngIf"],[1,"call-actions"],["title","Voice Call",1,"call-btn",3,"click"],["d","M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"],["title","Video Call",1,"call-btn",3,"click"],["points","23 7 16 12 23 17 23 7"],["x","1","y","5","width","15","height","14","rx","2","ry","2"],[3,"currentUser"],[1,"messages-container"],["class","message",3,"sent","received",4,"ngFor","ngForOf"],["class","no-messages","style","text-align:center; color:rgba(255,255,255,0.3); margin-top:40px;",4,"ngIf"],[1,"message-input-container"],["class","emoji-picker",4,"ngIf"],[1,"input-wrapper"],["title","Attach File",1,"action-btn",3,"click"],["d","M12 5v14M5 12h14"],["type","file",2,"display","none",3,"change"],["title","Emoji",1,"action-btn",3,"click"],["cx","12","cy","12","r","10"],["d","M8 14s1.5 2 4 2 4-2 4-2"],["x1","9","y1","9","x2","9.01","y2","9"],["x1","15","y1","9","x2","15.01","y2","9"],["type","text",3,"ngModelChange","keyup.enter","input","placeholder","ngModel","disabled"],["class","action-btn",3,"title","color","animation","click",4,"ngIf"],["class","send-btn",3,"click",4,"ngIf"],[2,"width","100%","height","100%","border-radius","14px","object-fit","cover",3,"src"],[1,"typing-indicator"],[1,"online-indicator"],[1,"message"],[1,"message-bubble"],["class","message-text",4,"ngIf"],["class","message-image",4,"ngIf"],["class","message-video",4,"ngIf"],["class","message-file","style","background: rgba(0,0,0,0.2); padding: 10px; border-radius: 8px;",4,"ngIf"],["class","message-audio",4,"ngIf"],["class","call-log-bubble",3,"click",4,"ngIf"],[1,"message-meta"],[1,"message-time"],["class","message-status",4,"ngIf"],["class","upload-overlay","style","position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); border-radius: inherit; display: flex; align-items: center; justify-content: center; flex-direction: column;",4,"ngIf"],[1,"message-text"],[1,"message-image"],["alt","Image","title","Click to open","style","max-width: 150px; max-height: 200px; object-fit: cover; border-radius: 12px; cursor: pointer;",3,"src","click",4,"ngIf"],["class","media-placeholder",3,"click",4,"ngIf"],["alt","Image","title","Click to open",2,"max-width","150px","max-height","200px","object-fit","cover","border-radius","12px","cursor","pointer",3,"click","src"],[1,"media-placeholder",3,"click"],[1,"download-icon-wrapper"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","7 10 12 15 17 10"],["x1","12","y1","15","x2","12","y2","3"],[1,"message-video"],["controls","","style","max-width: 250px; max-height: 250px; border-radius: 12px;",3,"src",4,"ngIf"],["controls","",2,"max-width","250px","max-height","250px","border-radius","12px",3,"src"],[1,"message-file",2,"background","rgba(0,0,0,0.2)","padding","10px","border-radius","8px"],["target","_blank","style","text-decoration: none; color: inherit; display: flex; align-items: center; gap: 10px;",3,"href",4,"ngIf"],["class","media-placeholder small","style","display: flex; align-items: center; gap: 10px; cursor: pointer;",3,"click",4,"ngIf"],["target","_blank",2,"text-decoration","none","color","inherit","display","flex","align-items","center","gap","10px",3,"href"],[1,"file-icon"],["d","M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"],["points","13 2 13 9 20 9"],[1,"file-info",2,"display","flex","flex-direction","column"],[1,"file-name",2,"font-weight","500"],[1,"file-label",2,"font-size","0.8em","opacity","0.8"],[1,"media-placeholder","small",2,"display","flex","align-items","center","gap","10px","cursor","pointer",3,"click"],[1,"download-icon-wrapper","small"],[1,"message-audio"],["controls","","style","max-width: 200px;",3,"src",4,"ngIf"],["class","media-placeholder small",3,"click",4,"ngIf"],["controls","",2,"max-width","200px",3,"src"],[1,"media-placeholder","small",3,"click"],[1,"call-log-bubble",3,"click"],[1,"call-log-icon"],["width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",4,"ngIf"],[1,"call-log-content"],[1,"call-log-title"],[1,"call-log-subtitle"],["d","M23 7l-7 5 7 5V7z"],["x1","1","y1","1","x2","23","y2","23","stroke","currentColor","stroke-width","2"],[1,"message-status"],["class","tick seen",4,"ngIf"],["class","tick delivered",4,"ngIf"],["class","tick",4,"ngIf"],[1,"tick","seen"],[1,"tick","delivered"],[1,"tick"],[1,"upload-overlay",2,"position","absolute","top","0","left","0","right","0","bottom","0","background","rgba(0,0,0,0.5)","border-radius","inherit","display","flex","align-items","center","justify-content","center","flex-direction","column"],[1,"spinner",2,"width","20px","height","20px","border","2px solid rgba(255,255,255,0.3)","border-radius","50%","border-top-color","#fff","animation","spin 1s ease-in-out infinite","margin-bottom","5px"],[2,"color","white","font-size","0.7em","font-weight","bold"],[1,"no-messages",2,"text-align","center","color","rgba(255,255,255,0.3)","margin-top","40px"],[1,"emoji-picker"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"action-btn",3,"click","title"],["d","M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"],["d","M19 10v2a7 7 0 0 1-14 0v-2"],["x1","12","y1","19","x2","12","y2","23"],["x1","8","y1","23","x2","16","y2","23"],["x","6","y","6","width","12","height","12","rx","2","fill","currentColor"],[1,"send-btn",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none"],["d","M22 2L11 13","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M22 2L15 22L11 13L2 9L22 2Z","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"modal-overlay"],[1,"preview-modal","animate-scale-in"],[1,"preview-header"],[1,"close-btn",3,"click"],[1,"preview-content"],["alt","Preview",3,"src",4,"ngIf"],["controls","","style","max-width: 100%; max-height: 300px;",3,"src",4,"ngIf"],["class","file-icon",4,"ngIf"],[1,"preview-actions"],[1,"cancel-btn",3,"click"],[1,"confirm-btn",3,"click"],["x1","22","y1","2","x2","11","y2","13"],["points","22 2 15 22 11 13 2 9 22 2"],["alt","Preview",3,"src"],["controls","",2,"max-width","100%","max-height","300px",3,"src"],["width","60","height","60","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5"],[1,"settings-overlay",3,"click"],[1,"settings-modal",3,"click"],[1,"settings-header"],[1,"setting-search-container"],["type","text","placeholder","Search settings",1,"settings-search"],[1,"settings-content"],[1,"settings-profile-card",3,"click"],[1,"profile-avatar-large"],["style","width: 100%; height: 100%; object-fit: cover;",3,"src",4,"ngIf"],["style","width: 100%; height: 100%; background: #6366f1; display: flex; align-items: center; justify-content: center; font-size: 24px; color: white;",4,"ngIf"],[1,"profile-info"],[1,"profile-status"],[1,"settings-menu"],[1,"menu-item",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"menu-icon"],["x","3","y","3","width","18","height","18","rx","2","ry","2"],["x1","3","y1","9","x2","21","y2","9"],[1,"menu-text"],["d","M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"],["x","3","y","11","width","18","height","11","rx","2","ry","2"],["d","M7 11V7a5 5 0 0 1 10 0v4"],["d","M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"],["d","M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"],["d","M13.73 21a2 2 0 0 1-3.46 0"],[1,"menu-item","logout-item",3,"click"],["d","M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"],["points","16,17 21,12 16,7"],["x1","21","y1","12","x2","9","y2","12"],[2,"width","100%","height","100%","object-fit","cover",3,"src"],[2,"width","100%","height","100%","background","#6366f1","display","flex","align-items","center","justify-content","center","font-size","24px","color","white"],[1,"settings-header","profile-header"],["viewBox","0 0 24 24","height","24","width","24","preserveAspectRatio","xMidYMid meet","fill","none","stroke","currentColor","stroke-width","2.5",1,""],["d","M20 12H4"],["d","M10 18l-6-6 6-6"],[1,"header-title"],[1,"settings-content","profile-content-premium","animate-fade-in"],[1,"profile-picture-container"],[1,"profile-avatar-large-wrapper",3,"click"],["class","large-avatar",4,"ngIf"],["class","large-avatar-img","alt","Profile Picture",3,"src",4,"ngIf"],[1,"change-photo-overlay"],["viewBox","0 0 24 24","height","24","width","24","preserveAspectRatio","xMidYMid meet","fill","none","stroke","currentColor","stroke-width","2",1,""],["d","M12 7.5a4.5 4.5 0 1 1 0 9 4.5 4.5 0 0 1 0-9zm0 1.5a3 3 0 1 0 0 6 3 3 0 0 0 0-6z"],["d","M5.5 5.5A1.5 1.5 0 0 1 7 4h10a1.5 1.5 0 0 1 1.5 1.5v13A1.5 1.5 0 0 1 17 20H7a1.5 1.5 0 0 1-1.5-1.5v-13zM7 5.5v13h10v-13H7z",2,"display","none"],["d","M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"],["d","M9 4.25l-1.42 1.5H5.25A2.25 2.25 0 0 0 3 8v10.5A2.25 2.25 0 0 0 5.25 20.75h13.5A2.25 2.25 0 0 0 21 18.5V8a2.25 2.25 0 0 0-2.25-2.25h-2.33l-1.42-1.5H9zM12 16.5a4.5 4.5 0 1 1 0-9 4.5 4.5 0 0 1 0 9z"],[1,"profile-section-group"],[1,"profile-section"],[1,"section-label"],["class","edit-field",4,"ngIf"],["class","edit-input-wrapper animate-slide-in-right",4,"ngIf"],[1,"section-note"],[1,"divider-inset"],[1,"large-avatar"],["alt","Profile Picture",1,"large-avatar-img",3,"src"],[1,"edit-field"],[1,"field-value"],["title","Edit Name",1,"edit-btn",3,"click"],["viewBox","0 0 24 24","height","24","width","24","preserveAspectRatio","xMidYMid meet","fill","currentColor","enable-background","new 0 0 24 24",1,""],["d","M3.95,16.7v3.4h3.4l9.8-9.9l-3.4-3.4L3.95,16.7z M19.75,7.6c0.4-0.4,0.4-0.9,0-1.3l-2.1-2.1c-0.4-0.4-0.9-0.4-1.3,0l-1.6,1.6l3.4,3.4L19.75,7.6z"],[1,"edit-input-wrapper","animate-slide-in-right"],["type","text","maxlength","100","autofocus","",3,"ngModelChange","keyup.enter","keyup.escape","ngModel"],[1,"char-count"],[1,"edit-actions"],["title","Cancel",1,"action-btn","cancel",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],["title","Save",1,"action-btn","save",3,"click"],["points","20 6 9 17 4 12"],["title","Edit About",1,"edit-btn",3,"click"],["rows","3","maxlength","1500","autofocus","",1,"edit-textarea",3,"ngModelChange","keyup.enter","keyup.escape","ngModel"],["x1","19","y1","12","x2","5","y2","12"],["points","12 19 5 12 12 5"],[1,"settings-section"],[1,"setting-row",3,"click"],[1,"setting-info"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"chevron-icon"],["points","9 18 15 12 9 6"],[1,"divider"],[1,"checkbox-row"],[1,"checkbox-info"],[1,"switch-container"],["type","checkbox",1,"switch-input",3,"ngModelChange","change","ngModel"],[1,"switch-slider"],[1,"setting-row","radio-row",3,"click"],[1,"description"],[1,"custom-radio"],[1,"radio-outer"],["class","radio-inner",4,"ngIf"],[1,"radio-inner"],[1,"description",2,"padding","0 20px","color","#8696a0","font-size","14px"],[1,"setting-row",2,"margin-top","20px","color","#8696a0",3,"click"],[1,"setting-info",2,"display","flex","align-items","center","gap","10px"],["d","M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"],["d","M3 3v5h5"],["type","checkbox",1,"switch-input",3,"ngModelChange","ngModel"],[1,"styled-select-container"],[1,"styled-select",3,"ngModelChange","ngModel"],["value","English"],["value","Hindi"],["value","Gujarati"],[1,"styled-select",3,"ngModelChange","change","ngModel"],["value","100% (default)"],["value","125%"],["value","150%"],[1,"help-text"],["d","M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"],["d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"],["points","14 2 14 8 20 8"],["x1","16","y1","13","x2","8","y2","13"],["x1","16","y1","17","x2","8","y2","17"],["points","10 9 9 9 8 9"],[1,"menu-item"],["x1","12","y1","16","x2","12","y2","12"],["x1","12","y1","8","x2","12.01","y2","8"],[1,"security-hero"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5",1,"security-icon"],["x","3","y","11","width","18","height","11","rx","2","ry","2","fill","#10b981","fill-opacity","0.1"],[1,"privacy-list"],[1,"privacy-item"],["cx","8.5","cy","8.5","r","1.5"],["points","21 15 16 10 5 21"],["d","M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"],["cx","12","cy","10","r","3"],["cx","12","cy","12","r","6"],[1,"learn-more"],[1,"security-footer"],[2,"margin-bottom","8px"],[1,"info-card"],[1,"info-icon"],["points","12 6 12 12 16 14"],[1,"info-text"],[1,"help-text",2,"color","#94a3b8","font-size","13px","line-height","1.5","margin-bottom","32px"],[1,"report-item"],[1,"help-text",2,"color","#94a3b8","font-size","13px","line-height","1.5","margin-top","24px"],[1,"section-title"],[1,"setting-row"],[1,"hidden-select",3,"ngModelChange","change","ngModel"],["value","Everyone"],["value","My contacts"],["value","Nobody"],["value","My contacts except..."],["value","Only share with..."],[1,"setting-row","no-hover"],["value","Off"],["value","24 Hours"],["value","7 Days"],["value","90 Days"],[2,"display","flex","align-items","center"],[2,"color","#94a3b8","font-size","14px","margin-right","8px"],[1,"setting-row","dropdown-container",3,"click"],["class","custom-dropdown-menu",4,"ngIf"],[1,"custom-select-box",3,"click"],[1,"selected-value"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"tone-icon"],["d","M9 18V5l12-2v13"],["cx","6","cy","18","r","3"],["cx","18","cy","16","r","3"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"chevron-down"],["points","6 9 12 15 18 9"],["class","custom-dropdown-menu floating",4,"ngIf"],["d","M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"],["cx","9","cy","7","r","4"],["d","M23 21v-2a4 4 0 0 0-3-3.87"],["d","M16 3.13a4 4 0 0 1 0 7.75"],[1,"custom-dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"custom-dropdown-menu","floating"],["class","dropdown-item",3,"selected","click",4,"ngFor","ngForOf"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"lock-hero"],[1,"lock-icon-container"],["viewBox","0 0 24 24","fill","currentColor",1,"lock-icon-large"],["d","M12 2C9.243 2 7 4.243 7 7v3H6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2h-1V7c0-2.757-2.243-5-5-5zm6 10v8H6v-8h12zm-9-5V7c0-1.654 1.346-3 3-3s3 1.346 3 3v3H9z"],[1,"lock-badge"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","3"],[1,"lock-title"],[1,"lock-description"],[1,"lock-footer"],[1,"set-password-modal","animate-scale-in"],[1,"input-group"],["type","password","placeholder","Enter password",1,"password-input",3,"ngModelChange","ngModel"],[1,"input-line"],["type","password","placeholder","Re-enter password",1,"password-input",3,"ngModelChange","ngModel"],[1,"password-hint"],[1,"modal-actions"],[1,"cancel-text-btn",3,"click"],[1,"ok-btn",3,"click"],[1,"password-set-modal","animate-scale-in"],[1,"success-text"],[1,"success-text","sub"],[1,"modal-actions-spread"],[1,"done-text-btn",3,"click"],[1,"lock-now-btn",3,"click"],[1,"locked-overlay"],[1,"locked-content","animate-fade-in"],[1,"locked-avatar"],["alt","Avatar",3,"src",4,"ngIf"],["class","default-initial",4,"ngIf"],[1,"locked-username"],[1,"locked-message"],[1,"unlock-input-wrapper"],["placeholder","Enter password",3,"ngModelChange","keyup.enter","type","ngModel"],[1,"visibility-toggle",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",4,"ngIf"],[1,"input-line","active"],[1,"unlock-btn",3,"click"],[1,"locked-footer"],[1,"forgot-link"],[1,"logout-hint"],[1,"logout-link",3,"click"],["alt","Avatar",3,"src"],[1,"default-initial"],["d","M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"],["d","M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"],["x1","1","y1","1","x2","23","y2","23"],[1,"theme-modal","animate-scale-in"],[1,"radio-option",3,"click"],[1,"radio-circle"],[1,"wallpaper-modal-overlay",3,"click"],[1,"wallpaper-modal","animate-scale-in",3,"click"],[1,"wallpaper-header"],[1,"preview-container"],[1,"mini-preview"],[1,"mock-bubble","received"],[1,"mock-bubble","sent"],[1,"wallpaper-content"],[1,"doodle-option"],[1,"checkbox-container"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"checkmark"],[1,"wallpaper-section-title"],[1,"wallpaper-grid"],[1,"wallpaper-item","upload-item",3,"click"],[1,"upload-icon"],["points","17 8 12 3 7 8"],["x1","12","y1","3","x2","12","y2","15"],["class","wallpaper-item",3,"background-color","selected","click",4,"ngFor","ngForOf"],[1,"wallpaper-actions"],[1,"checkbox-container","footer-doodle-checkbox"],[2,"flex","1"],[1,"wallpaper-item",3,"click"]],template:function(i,n){if(1&i){const r=e.RV6();e.j41(0,"div",4)(1,"aside",5)(2,"div",6)(3,"div",7)(4,"input",8,0),e.bIt("change",function(c){return e.eBV(r),e.Njj(n.onFileSelected(c))}),e.k0s(),e.j41(6,"div",9),e.bIt("click",function(){return e.eBV(r),e.Njj(n.openSettings("profile"))}),e.DNE(7,Bt,2,1,"div",10)(8,Gt,1,2,"img",11),e.j41(9,"div",12),e.qSk(),e.j41(10,"svg",13),e.nrm(11,"path",14)(12,"circle",15),e.k0s()()(),e.joV(),e.j41(13,"span",16),e.EFF(14),e.k0s()(),e.j41(15,"div",17)(16,"button",18),e.bIt("click",function(){return e.eBV(r),e.Njj(n.openSettings())}),e.qSk(),e.j41(17,"svg",19),e.nrm(18,"circle",20)(19,"path",21),e.k0s()()()(),e.joV(),e.j41(20,"div",22),e.qSk(),e.j41(21,"svg",23),e.nrm(22,"circle",24)(23,"path",25),e.k0s(),e.joV(),e.j41(24,"input",26),e.mxI("ngModelChange",function(c){return e.eBV(r),e.DH7(n.searchQuery,c)||(n.searchQuery=c),e.Njj(c)}),e.k0s()(),e.j41(25,"div",27),e.DNE(26,Dt,10,8,"div",28)(27,Xt,5,0,"div",29),e.k0s()(),e.j41(28,"main",30),e.nrm(29,"div",31),e.DNE(30,$t,12,0,"div",32)(31,wn,47,15,"ng-container",33),e.k0s(),e.DNE(32,Tn,19,3,"div",34)(33,ci,15,13,"div",35)(34,li,21,2,"div",34)(35,di,13,0,"div",34)(36,gi,24,7,"div",36)(37,ki,24,3,"div",34)(38,xi,42,9,"div",37),e.k0s()}2&i&&(e.R7$(),e.AVh("mobile-hidden",n.selectedUser),e.R7$(6),e.Y8G("ngIf",!(null!=n.currentUser&&n.currentUser.avatar)),e.R7$(),e.Y8G("ngIf",null==n.currentUser?null:n.currentUser.avatar),e.R7$(6),e.JRh((null==n.currentUser?null:n.currentUser.fullName)||(null==n.currentUser?null:n.currentUser.username)),e.R7$(10),e.R50("ngModel",n.searchQuery),e.R7$(2),e.Y8G("ngForOf",n.filteredUsers),e.R7$(),e.Y8G("ngIf",0===n.users.length),e.R7$(),e.AVh("mobile-show",n.selectedUser),e.R7$(),e.xc7("background-color",n.chatSettings.wallpaper.color||"#0b141a")("background-image",n.chatSettings.wallpaper.image?"url("+n.chatSettings.wallpaper.image+")":null),e.AVh("has-doodles",n.chatSettings.wallpaper.doodles&&!n.chatSettings.wallpaper.image),e.R7$(),e.Y8G("ngIf",!n.selectedUser),e.R7$(),e.Y8G("ngIf",n.selectedUser),e.R7$(),e.Y8G("ngIf",n.previewFile),e.R7$(),e.Y8G("ngIf",n.showSettings),e.R7$(),e.Y8G("ngIf",n.showSetPasswordModal),e.R7$(),e.Y8G("ngIf",n.showPasswordSetModal),e.R7$(),e.Y8G("ngIf",n.isAppLocked),e.R7$(),e.Y8G("ngIf",n.showThemeModal),e.R7$(),e.Y8G("ngIf",n.showWallpaperModal))},dependencies:[j.MD,j.Sq,j.bT,k.YN,k.xH,k.y7,k.me,k.Zm,k.wz,k.BC,k.tU,k.vS,Tt],styles:['@import"https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap";[_nghost-%COMP%]{display:block;height:100vh;font-family:var(--font-display);background:var(--bg-deep);color:var(--text-main)}.chat-container[_ngcontent-%COMP%]{display:flex;height:100vh;background:var(--bg-deep);position:relative;overflow:hidden}.chat-container[_ngcontent-%COMP%]:before, .chat-container[_ngcontent-%COMP%]:after{content:"";position:absolute;width:600px;height:600px;border-radius:50%;filter:blur(120px);opacity:.2;z-index:0;pointer-events:none;animation:float 15s ease-in-out infinite}.chat-container[_ngcontent-%COMP%]:before{top:-200px;right:-200px;background:var(--primary-dark)}.chat-container[_ngcontent-%COMP%]:after{bottom:-200px;left:-200px;background:var(--accent-dark);animation-delay:-7s}.sidebar[_ngcontent-%COMP%]{width:380px;background:var(--glass-heavy);backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);border-right:1px solid var(--border-subtle);display:flex;flex-direction:column;z-index:10;position:relative;transition:transform .3s cubic-bezier(.4,0,.2,1)}.sidebar-header[_ngcontent-%COMP%]{padding:24px;display:flex;align-items:center;justify-content:space-between}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:14px}.avatar-container[_ngcontent-%COMP%]{width:52px;height:52px;position:relative;cursor:pointer}.avatar[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:18px;background:var(--grad-primary);display:flex;align-items:center;justify-content:center;font-size:20px;font-weight:700;color:#fff;box-shadow:0 8px 20px #00f2fe33;transition:transform .3s cubic-bezier(.34,1.56,.64,1)}.avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05) rotate(3deg)}.avatar-img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:18px;object-fit:cover}.edit-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;border-radius:18px;background:#00000080;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .2s;color:#fff}.avatar-container[_ngcontent-%COMP%]:hover   .edit-overlay[_ngcontent-%COMP%]{opacity:1}.username[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--text-main);letter-spacing:-.02em}.header-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.icon-btn[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:14px;border:1px solid var(--border-subtle);background:#ffffff08;color:var(--text-secondary);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s}.icon-btn[_ngcontent-%COMP%]:hover{background:#00f2fe1a;border-color:var(--primary);color:var(--primary);transform:translateY(-2px)}.search-box[_ngcontent-%COMP%]{margin:0 24px 24px;background:#0f172a99;border:1px solid var(--border-subtle);border-radius:16px;padding:2px 16px;display:flex;align-items:center;transition:all .3s}.search-box[_ngcontent-%COMP%]:focus-within{border-color:var(--primary);box-shadow:0 0 0 3px #00f2fe1a;background:#0f172acc}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:14px 10px;background:transparent;border:none;color:var(--text-main);font-family:inherit;font-size:15px;outline:none}.search-box[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--text-muted)}.users-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:0 16px}.user-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:14px 16px;border-radius:16px;cursor:pointer;transition:all .2s;margin-bottom:8px;border:1px solid transparent}.user-item[_ngcontent-%COMP%]:hover{background:#ffffff0d}.user-item.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(0,242,254,.1),transparent);border-left:3px solid var(--primary)}.user-avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:16px;background:#ffffff0d;display:flex;align-items:center;justify-content:center;font-size:18px;font-weight:600;color:var(--text-main);position:relative;flex-shrink:0}.status-dot[_ngcontent-%COMP%]{position:absolute;bottom:-2px;right:-2px;width:14px;height:14px;border-radius:50%;border:3px solid #0f172a;background:#64748b}.status-dot.online[_ngcontent-%COMP%]{background:#10b981;box-shadow:0 0 10px #10b98199}.user-name[_ngcontent-%COMP%]{font-weight:600;color:var(--text-main);font-size:15px;margin-bottom:2px}.user-status[_ngcontent-%COMP%]{font-size:13px;color:var(--text-muted)}.chat-area[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;position:relative;z-index:5;background:#ffffff03;backdrop-filter:blur(10px)}.no-chat[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;text-align:center}.no-chat-content[_ngcontent-%COMP%]{background:var(--glass-medium);border:1px solid var(--border-subtle);padding:60px;border-radius:32px;backdrop-filter:blur(20px);max-width:440px;box-shadow:var(--shadow-lg)}.no-chat-content[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-bottom:24px;filter:drop-shadow(0 0 30px rgba(0,242,254,.3))}.no-chat-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;font-weight:700;margin-bottom:12px;background:var(--grad-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.no-chat-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);line-height:1.6}.chat-header[_ngcontent-%COMP%]{height:88px;padding:0 32px;display:flex;align-items:center;justify-content:space-between;background:var(--glass-heavy);backdrop-filter:blur(20px);border-bottom:1px solid var(--border-subtle);z-index:20}.chat-user-info-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;width:100%}.chat-user-avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:16px;background:var(--grad-accent);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600;font-size:18px;flex-shrink:0}.chat-user-name[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--text-main)}.chat-user-status[_ngcontent-%COMP%]{font-size:13px;color:var(--text-secondary);display:flex;align-items:center;gap:6px}.online-indicator[_ngcontent-%COMP%]{width:8px;height:8px;background:#10b981;border-radius:50%;box-shadow:0 0 10px #10b981}.typing-indicator[_ngcontent-%COMP%]{color:var(--accent);font-weight:500;animation:pulse 1.5s infinite}.call-actions[_ngcontent-%COMP%]{margin-left:auto;display:flex;gap:8px}.call-btn[_ngcontent-%COMP%]{width:44px;height:44px;background:transparent;border:none;color:var(--text-secondary);border-radius:12px;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}.call-btn[_ngcontent-%COMP%]:hover{color:var(--primary);background:#00f2fe1a}.messages-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:30px 40px;display:flex;flex-direction:column;gap:20px}.message[_ngcontent-%COMP%]{display:flex;width:100%}.message.sent[_ngcontent-%COMP%]{justify-content:flex-end}.message-bubble[_ngcontent-%COMP%]{max-width:65%;padding:16px 20px;border-radius:20px;font-size:15px;line-height:1.5;position:relative;box-shadow:var(--shadow-sm)}.message.sent[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{background:var(--grad-primary);color:#000;font-weight:500;border-bottom-right-radius:4px;box-shadow:0 8px 25px #00f2fe40}.message.received[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{background:#1e293bb3;backdrop-filter:blur(10px);color:var(--text-main);border:1px solid var(--border-subtle);border-bottom-left-radius:4px}.message-meta[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:4px;margin-top:6px;font-size:11px;opacity:.8}.message-input-container[_ngcontent-%COMP%]{padding:24px 32px;background:var(--glass-heavy);backdrop-filter:blur(20px);border-top:1px solid var(--border-subtle)}.input-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;gap:12px;background:#0f172a99;padding:8px 8px 8px 24px;border-radius:24px;border:1px solid var(--border-subtle);box-shadow:var(--shadow-lg);transition:all .3s}.input-wrapper[_ngcontent-%COMP%]:focus-within{border-color:var(--primary);background:#0f172acc;box-shadow:0 0 0 3px #00f2fe1a}.message-input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;background:transparent;border:none;color:var(--text-main);font-size:16px;padding:8px 0;font-family:inherit;outline:none}.action-btn[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:50%;background:transparent;border:none;color:var(--text-secondary);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s;flex-shrink:0}.action-btn[_ngcontent-%COMP%]:hover{background:#ffffff0d;color:var(--text-main)}.send-btn[_ngcontent-%COMP%]{width:52px;height:52px;border-radius:16px;background:var(--grad-primary);border:none;color:#000;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s cubic-bezier(.34,1.56,.64,1);box-shadow:0 4px 15px #00f2fe4d}.send-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.08) rotate(-10deg);box-shadow:0 8px 25px #00f2fe80}.send-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:default;filter:grayscale(1);box-shadow:none}.settings-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000}.settings-overlay[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:#0006;backdrop-filter:blur(4px);animation:_ngcontent-%COMP%_fadeIn .3s forwards}.settings-modal[_ngcontent-%COMP%]{background:var(--glass-heavy);backdrop-filter:blur(30px);width:400px;max-width:100vw;height:100vh;border-right:1px solid var(--border-subtle);display:flex;flex-direction:column;position:relative;z-index:2;animation:_ngcontent-%COMP%_slideInLeft .3s cubic-bezier(.2,.8,.2,1);box-shadow:20px 0 50px #00000080}@keyframes _ngcontent-%COMP%_slideInLeft{0%{transform:translate(-100%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.settings-header[_ngcontent-%COMP%]{padding:24px;display:flex;align-items:center;justify-content:space-between}.settings-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin:0;color:var(--text-main)}.close-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-secondary);font-size:28px;cursor:pointer;line-height:1}.settings-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:24px}.settings-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:13px;text-transform:uppercase;font-weight:600;letter-spacing:.05em;color:var(--text-muted);margin:24px 0 12px}.setting-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px;border-radius:12px;background:#ffffff08;border:1px solid transparent;margin-bottom:8px;cursor:pointer;transition:all .2s}.setting-row[_ngcontent-%COMP%]:hover{background:#ffffff0f;border-color:var(--border-subtle)}.setting-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;color:var(--text-main)}.setting-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-secondary);font-size:13px}.divider[_ngcontent-%COMP%]{height:1px;background:var(--border-subtle);margin:24px 0}.chat-wallpaper[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;z-index:0;opacity:.4;background-size:cover;background-position:center;pointer-events:none}.chat-wallpaper.has-doodles[_ngcontent-%COMP%]{opacity:.1}.emoji-picker[_ngcontent-%COMP%]{position:absolute;bottom:90px;left:32px;background:var(--glass-heavy);backdrop-filter:blur(20px);border:1px solid var(--border-subtle);border-radius:20px;padding:16px;display:grid;grid-template-columns:repeat(6,1fr);gap:8px;box-shadow:var(--shadow-lg);z-index:100;width:320px;max-height:350px;overflow-y:auto}.emoji-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;cursor:pointer;padding:8px;border-radius:8px;transition:background .2s;display:flex;align-items:center;justify-content:center}.emoji-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{background:#ffffff1a}.call-log-bubble[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;background:#1e293b66;border:1px solid var(--border-subtle);border-radius:12px;padding:12px 16px;cursor:pointer;transition:background .2s;max-width:280px;margin:4px 0}.call-log-bubble[_ngcontent-%COMP%]:hover{background:#1e293b99}.call-log-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center}.call-log-icon.missed[_ngcontent-%COMP%]{background:#ef44441a;color:#ef4444}.call-log-icon.ended[_ngcontent-%COMP%]{background:#22c55e1a;color:#22c55e}.call-log-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.call-log-title[_ngcontent-%COMP%]{font-weight:600;color:var(--text-main);font-size:14px}.call-log-subtitle[_ngcontent-%COMP%]{font-size:12px;color:var(--text-muted)}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000b3;backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:1000}.preview-modal[_ngcontent-%COMP%]{background:var(--glass-heavy);border:1px solid var(--border-subtle);border-radius:24px;width:90%;max-width:500px;padding:24px;box-shadow:0 20px 60px #00000080;display:flex;flex-direction:column;gap:20px;animation:_ngcontent-%COMP%_scaleIn .3s cubic-bezier(.16,1,.3,1)}.preview-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.preview-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:20px;color:var(--text-main)}.preview-content[_ngcontent-%COMP%]{background:#0003;border-radius:16px;padding:20px;display:flex;justify-content:center;align-items:center;min-height:200px;max-height:400px;overflow:hidden}.preview-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:300px;border-radius:12px;object-fit:contain}.file-icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:12px;color:var(--text-main)}.preview-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px}.cancel-btn[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--border-subtle);color:var(--text-main);padding:10px 20px;border-radius:12px;cursor:pointer;font-weight:500;transition:all .2s}.cancel-btn[_ngcontent-%COMP%]:hover{background:#ffffff0d}.confirm-btn[_ngcontent-%COMP%]{background:var(--grad-primary);border:none;color:#000;padding:10px 24px;border-radius:12px;cursor:pointer;font-weight:600;display:flex;align-items:center;gap:8px;box-shadow:0 4px 15px #00f2fe4d;transition:all .2s}.confirm-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #00f2fe66}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{width:100%;position:absolute;height:100%}.sidebar.mobile-hidden[_ngcontent-%COMP%]{display:none}.chat-area.mobile-show[_ngcontent-%COMP%]{display:flex;z-index:20;background:var(--bg-deep)}.back-btn[_ngcontent-%COMP%]{display:block!important;margin-right:12px;background:transparent;border:none;color:var(--text-main);padding:4px}.messages-container[_ngcontent-%COMP%]{padding:20px}.message-bubble[_ngcontent-%COMP%]{max-width:85%}.settings-modal[_ngcontent-%COMP%], .wallpaper-modal[_ngcontent-%COMP%]{width:100%;border-radius:0}}.back-btn[_ngcontent-%COMP%]{display:none}.locked-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:9999;background:var(--bg-deep);display:flex;align-items:center;justify-content:center}.locked-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;width:100%;max-width:400px;padding:40px;animation:_ngcontent-%COMP%_fadeIn .5s ease-out}.locked-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;border:3px solid var(--primary);box-shadow:0 0 20px #00f2fe4d;margin-bottom:24px;object-fit:cover}.default-initial[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;border:3px solid var(--primary);display:flex;align-items:center;justify-content:center;font-size:32px;font-weight:700;color:#fff;margin-bottom:24px;background:var(--bg-surface)}.locked-username[_ngcontent-%COMP%]{font-size:24px;color:var(--text-main);margin-bottom:12px}.locked-message[_ngcontent-%COMP%]{color:var(--text-secondary);margin-bottom:32px;font-size:14px}.unlock-input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;margin-bottom:24px}.unlock-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:16px 40px 16px 16px;border-radius:12px;background:#ffffff0d;border:1px solid var(--border-subtle);color:#fff;text-align:center;letter-spacing:4px;font-size:24px;outline:none;transition:all .2s}.unlock-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--primary);box-shadow:0 0 0 2px #00f2fe1a}.visibility-toggle[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);background:transparent;border:none;color:var(--text-muted);cursor:pointer}.unlock-btn[_ngcontent-%COMP%]{width:100%;padding:16px;border-radius:12px;background:var(--grad-primary);border:none;color:#000;font-weight:700;font-size:16px;cursor:pointer;transition:transform .2s;margin-bottom:24px}.unlock-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.locked-footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;font-size:13px}.forgot-link[_ngcontent-%COMP%], .logout-link[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--primary);cursor:pointer;text-decoration:none}.logout-hint[_ngcontent-%COMP%]{color:var(--text-muted)}.theme-modal[_ngcontent-%COMP%]{background:var(--glass-heavy);border:1px solid var(--border-subtle);padding:32px;border-radius:24px;min-width:320px;display:flex;flex-direction:column;gap:16px;box-shadow:var(--shadow-lg)}.radio-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;cursor:pointer;border-radius:8px;transition:background .2s}.radio-option[_ngcontent-%COMP%]:hover{background:#ffffff0d}.radio-circle[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;border:2px solid var(--text-muted);display:flex;align-items:center;justify-content:center}.radio-option[_ngcontent-%COMP%]   .radio-inner[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background:var(--primary)}.wallpaper-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000c;backdrop-filter:blur(5px);z-index:2000;display:flex;align-items:center;justify-content:center}.wallpaper-modal[_ngcontent-%COMP%]{width:800px;height:90vh;background:var(--glass-heavy);border:1px solid var(--border-subtle);border-radius:20px;display:flex;flex-direction:column;overflow:hidden;box-shadow:var(--shadow-lg)}.wallpaper-header[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid var(--border-subtle)}.preview-container[_ngcontent-%COMP%]{height:300px;background:#0b141a;position:relative;display:flex;justify-content:center;align-items:center;padding:40px}.mini-preview[_ngcontent-%COMP%]{width:240px;height:100%;border-radius:12px;position:relative;overflow:hidden;box-shadow:0 10px 30px #00000080;background-size:cover;background-position:center}.mock-bubble[_ngcontent-%COMP%]{padding:8px 12px;border-radius:8px;font-size:12px;margin:8px;width:fit-content;max-width:80%}.mock-bubble.received[_ngcontent-%COMP%]{background:#1e293bcc;color:#fff}.mock-bubble.sent[_ngcontent-%COMP%]{background:var(--grad-primary);color:#000;margin-left:auto}.wallpaper-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:24px}.wallpaper-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(80px,1fr));gap:12px;padding:20px 0}.wallpaper-item[_ngcontent-%COMP%]{height:80px;border-radius:8px;cursor:pointer;border:2px solid transparent;transition:transform .2s}.wallpaper-item[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.wallpaper-item.selected[_ngcontent-%COMP%]{border-color:var(--primary);box-shadow:0 0 10px #00f2fe4d}.upload-item[_ngcontent-%COMP%]{background:#ffffff0d;display:flex;align-items:center;justify-content:center;border:1px dashed var(--text-muted)}.wallpaper-actions[_ngcontent-%COMP%]{padding:20px;border-top:1px solid var(--border-subtle);display:flex;gap:12px;align-items:center;background:var(--glass-heavy)}.set-password-modal[_ngcontent-%COMP%], .password-set-modal[_ngcontent-%COMP%]{background:var(--glass-heavy);padding:32px;border-radius:24px;border:1px solid var(--border-subtle);width:400px;display:flex;flex-direction:column;gap:20px}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:var(--text-secondary);font-size:13px}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px;background:#ffffff0d;border:1px solid var(--border-subtle);border-radius:8px;color:#fff}.password-hint[_ngcontent-%COMP%]{font-size:12px;color:var(--text-muted);line-height:1.4}.modal-actions[_ngcontent-%COMP%], .modal-actions-spread[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:12px}.modal-actions-spread[_ngcontent-%COMP%]{justify-content:space-between}.ok-btn[_ngcontent-%COMP%], .lock-now-btn[_ngcontent-%COMP%]{padding:10px 24px;background:var(--grad-primary);border:none;border-radius:8px;font-weight:600;cursor:pointer;color:#000}.cancel-text-btn[_ngcontent-%COMP%], .done-text-btn[_ngcontent-%COMP%]{padding:10px 20px;background:transparent;border:1px solid var(--border-subtle);border-radius:8px;color:var(--text-main);cursor:pointer}.checkbox-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px;border-radius:12px;background:#ffffff08;margin-bottom:8px;border:1px solid transparent}.checkbox-row[_ngcontent-%COMP%]:hover{background:#ffffff0d}.checkbox-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;color:var(--text-main);font-size:15px}.checkbox-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-secondary);font-size:13px}.switch-container[_ngcontent-%COMP%]{position:relative;display:inline-block;width:44px;height:24px}.switch-input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.switch-slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#334155;transition:.3s;border-radius:24px}.switch-slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:3px;bottom:3px;background-color:#fff;transition:.3s;border-radius:50%}.switch-input[_ngcontent-%COMP%]:checked + .switch-slider[_ngcontent-%COMP%]{background-color:var(--primary)}.switch-input[_ngcontent-%COMP%]:checked + .switch-slider[_ngcontent-%COMP%]:before{transform:translate(20px)}.custom-select-box[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid var(--border-subtle);border-radius:12px;padding:12px 16px;display:flex;align-items:center;justify-content:space-between;cursor:pointer;position:relative;margin-bottom:12px}.selected-value[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;color:var(--text-main);font-weight:500}.tone-icon[_ngcontent-%COMP%]{width:20px;height:20px;color:var(--primary)}.custom-dropdown-menu.floating[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;width:100%;background:var(--glass-heavy);border:1px solid var(--border-subtle);border-radius:12px;margin-top:8px;z-index:100;box-shadow:var(--shadow-lg);overflow:hidden;max-height:250px;overflow-y:auto}.dropdown-item[_ngcontent-%COMP%]{padding:12px 16px;cursor:pointer;color:var(--text-main);transition:background .2s;border-bottom:1px solid rgba(255,255,255,.03)}.dropdown-item[_ngcontent-%COMP%]:hover{background:#ffffff0d}.dropdown-item.selected[_ngcontent-%COMP%]{background:#00f2fe1a;color:var(--primary)}.chevron-down[_ngcontent-%COMP%]{width:20px;height:20px;color:var(--text-muted);transition:transform .3s}.chevron-down.open[_ngcontent-%COMP%]{transform:rotate(180deg)}.styled-select[_ngcontent-%COMP%]{width:100%;padding:12px;border-radius:12px;background:#ffffff0d;border:1px solid var(--border-subtle);color:var(--text-main);font-size:15px;outline:none;margin-bottom:20px}.styled-select[_ngcontent-%COMP%]:focus{border-color:var(--primary)}']})}return o})()}}]);