"use strict";(self.webpackChunkchat_frontend=self.webpackChunkchat_frontend||[]).push([[395],{5395:(h,a,r)=>{r.r(a),r.d(a,{MobileLoginComponent:()=>_});var c=r(177),n=r(4438),l=r(3326),g=r(4796);function d(e,s){1&e&&n.nrm(0,"div",6)}function u(e,s){1&e&&(n.j41(0,"div",7)(1,"h3"),n.EFF(2,"Authenticating..."),n.k0s(),n.j41(3,"p"),n.EFF(4,"Please wait while we log you in."),n.k0s()())}function p(e,s){if(1&e){const o=n.RV6();n.j41(0,"div",8)(1,"div",9),n.EFF(2,"\u274c"),n.k0s(),n.j41(3,"h3"),n.EFF(4,"Login Failed"),n.k0s(),n.j41(5,"p"),n.EFF(6),n.k0s(),n.j41(7,"button",10),n.bIt("click",function(){n.eBV(o);const i=n.XpG();return n.Njj(i.goToLogin())}),n.EFF(8,"Go to Login"),n.k0s()()}if(2&e){const o=n.XpG();n.R7$(6),n.JRh(o.error)}}function f(e,s){1&e&&(n.j41(0,"div",11)(1,"div",12),n.EFF(2,"\u2705"),n.k0s(),n.j41(3,"h3"),n.EFF(4,"Success!"),n.k0s(),n.j41(5,"p"),n.EFF(6,"Redirecting to chat..."),n.k0s()())}let _=(()=>{class e{route;router;authService;loading=!0;error="";success=!1;constructor(o,t,i){this.route=o,this.router=t,this.authService=i}ngOnInit(){this.route.queryParams.subscribe(o=>{const t=o.token;t?this.verifyToken(t):(this.loading=!1,this.error="No login token found in link.")})}verifyToken(o){this.authService.verifyQrToken(o).subscribe({next:t=>{this.loading=!1,this.success=!0,setTimeout(()=>this.router.navigate(["/chat"]),1500)},error:t=>{this.loading=!1,this.error=t.error?.message||"Invalid or expired QR code."}})}goToLogin(){this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||e)(n.rXU(l.nX),n.rXU(l.Ix),n.rXU(g.u))};static \u0275cmp=n.VBU({type:e,selectors:[["app-mobile-login"]],standalone:!0,features:[n.aNF],decls:6,vars:4,consts:[[1,"mobile-login-container"],[1,"status-card"],["class","spinner",4,"ngIf"],["class","status-text",4,"ngIf"],["class","error-text",4,"ngIf"],["class","success-text",4,"ngIf"],[1,"spinner"],[1,"status-text"],[1,"error-text"],[1,"icon","error-icon"],[1,"btn",3,"click"],[1,"success-text"],[1,"icon","success-icon"]],template:function(t,i){1&t&&(n.j41(0,"div",0)(1,"div",1),n.DNE(2,d,1,0,"div",2)(3,u,5,0,"div",3)(4,p,9,1,"div",4)(5,f,7,0,"div",5),n.k0s()()),2&t&&(n.R7$(2),n.Y8G("ngIf",i.loading),n.R7$(),n.Y8G("ngIf",i.loading),n.R7$(),n.Y8G("ngIf",i.error),n.R7$(),n.Y8G("ngIf",i.success))},dependencies:[c.MD,c.bT],styles:[".mobile-login-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100vh;background:#111b21;color:#e9edef;font-family:Segoe UI,sans-serif}.status-card[_ngcontent-%COMP%]{background:#202c33;padding:40px;border-radius:12px;text-align:center;box-shadow:0 4px 12px #0000004d;max-width:90%;width:350px}.spinner[_ngcontent-%COMP%]{margin:0 auto 20px;width:40px;height:40px;border:3px solid rgba(255,255,255,.1);border-top-color:#00a884;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}h3[_ngcontent-%COMP%]{margin:10px 0;font-weight:500}p[_ngcontent-%COMP%]{margin:0 0 20px;color:#8696a0;font-size:.9em}.btn[_ngcontent-%COMP%]{background:#00a884;color:#111b21;border:none;padding:10px 24px;border-radius:24px;font-weight:600;cursor:pointer}.icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"]})}return e})()}}]);