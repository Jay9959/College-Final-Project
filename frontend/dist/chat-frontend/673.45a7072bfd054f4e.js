"use strict";(self.webpackChunkchat_frontend=self.webpackChunkchat_frontend||[]).push([[673],{9673:(M,p,a)=>{a.r(p),a.d(p,{ForgotPasswordComponent:()=>C});var c=a(177),i=a(9417),l=a(3326),t=a(4438),g=a(4796),f=a(8397);function _(r,d){1&r&&(t.j41(0,"span"),t.EFF(1,"Send Verification Code"),t.k0s())}function m(r,d){1&r&&t.nrm(0,"span",29)}function u(r,d){if(1&r){const e=t.RV6();t.j41(0,"div",11)(1,"div",12)(2,"div",13),t.qSk(),t.j41(3,"svg",14),t.nrm(4,"rect",15)(5,"path",16),t.k0s()(),t.joV(),t.j41(6,"h2"),t.EFF(7,"Forgot "),t.nrm(8,"br"),t.j41(9,"span",17),t.EFF(10,"Password?"),t.k0s()(),t.j41(11,"p"),t.EFF(12,"Enter your registered email address to receive a 6-digit verification code."),t.k0s()(),t.j41(13,"form",18,0),t.bIt("ngSubmit",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onSendOtp())}),t.j41(15,"div",19)(16,"input",20),t.mxI("ngModelChange",function(o){t.eBV(e);const s=t.XpG();return t.DH7(s.email,o)||(s.email=o),t.Njj(o)}),t.k0s(),t.j41(17,"label",21),t.EFF(18,"Email Address"),t.k0s(),t.j41(19,"div",22),t.qSk(),t.j41(20,"svg",23),t.nrm(21,"path",24)(22,"polyline",25),t.k0s()()(),t.joV(),t.j41(23,"button",26),t.DNE(24,_,2,0,"span",27)(25,m,1,0,"span",28),t.k0s()()()}if(2&r){const e=t.sdS(14),n=t.XpG();t.R7$(16),t.R50("ngModel",n.email),t.R7$(7),t.Y8G("disabled",e.invalid||n.loading),t.R7$(),t.Y8G("ngIf",!n.loading),t.R7$(),t.Y8G("ngIf",n.loading)}}function h(r,d){1&r&&(t.j41(0,"span"),t.EFF(1,"Verify OTP"),t.k0s())}function P(r,d){1&r&&t.nrm(0,"span",29)}function b(r,d){if(1&r){const e=t.RV6();t.j41(0,"div",11)(1,"div",12)(2,"div",13),t.qSk(),t.j41(3,"svg",30),t.nrm(4,"path",31),t.k0s()(),t.joV(),t.j41(5,"h2"),t.EFF(6,"Verify "),t.nrm(7,"br"),t.j41(8,"span",17),t.EFF(9,"OTP"),t.k0s()(),t.j41(10,"p"),t.EFF(11,"We've sent a code to "),t.j41(12,"b"),t.EFF(13),t.k0s(),t.EFF(14,". Please enter it below to continue."),t.k0s()(),t.j41(15,"form",18,1),t.bIt("ngSubmit",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onVerifyOtp())}),t.j41(17,"div",19)(18,"input",32),t.mxI("ngModelChange",function(o){t.eBV(e);const s=t.XpG();return t.DH7(s.otp,o)||(s.otp=o),t.Njj(o)}),t.k0s(),t.j41(19,"label",33),t.EFF(20,"Enter 6-digit OTP"),t.k0s(),t.j41(21,"div",22),t.qSk(),t.j41(22,"svg",34),t.nrm(23,"rect",15)(24,"path",16),t.k0s()()(),t.joV(),t.j41(25,"button",26),t.DNE(26,h,2,0,"span",27)(27,P,1,0,"span",28),t.k0s(),t.j41(28,"p",35),t.EFF(29,"Didn't receive code? "),t.j41(30,"a",36),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onSendOtp())}),t.EFF(31,"Resend"),t.k0s()()()()}if(2&r){const e=t.sdS(16),n=t.XpG();t.R7$(13),t.JRh(n.email),t.R7$(5),t.R50("ngModel",n.otp),t.R7$(7),t.Y8G("disabled",e.invalid||n.loading),t.R7$(),t.Y8G("ngIf",!n.loading),t.R7$(),t.Y8G("ngIf",n.loading),t.R7$(3),t.AVh("disabled",n.loading)}}function x(r,d){1&r&&(t.j41(0,"span"),t.EFF(1,"Reset Password"),t.k0s())}function w(r,d){1&r&&t.nrm(0,"span",29)}function v(r,d){if(1&r){const e=t.RV6();t.j41(0,"div",11)(1,"div",12)(2,"div",13),t.qSk(),t.j41(3,"svg",30),t.nrm(4,"path",37),t.k0s()(),t.joV(),t.j41(5,"h2"),t.EFF(6,"Reset "),t.nrm(7,"br"),t.j41(8,"span",17),t.EFF(9,"Password"),t.k0s()(),t.j41(10,"p"),t.EFF(11,"Create a strong new password for your account."),t.k0s()(),t.j41(12,"form",18,2),t.bIt("ngSubmit",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onResetPassword())}),t.j41(14,"div",19)(15,"input",38),t.mxI("ngModelChange",function(o){t.eBV(e);const s=t.XpG();return t.DH7(s.password,o)||(s.password=o),t.Njj(o)}),t.k0s(),t.j41(16,"label",39),t.EFF(17,"New Password"),t.k0s(),t.j41(18,"div",22),t.qSk(),t.j41(19,"svg",23),t.nrm(20,"rect",15)(21,"path",16),t.k0s()()(),t.joV(),t.j41(22,"div",19)(23,"input",40),t.mxI("ngModelChange",function(o){t.eBV(e);const s=t.XpG();return t.DH7(s.confirmPassword,o)||(s.confirmPassword=o),t.Njj(o)}),t.k0s(),t.j41(24,"label",41),t.EFF(25,"Confirm Password"),t.k0s(),t.j41(26,"div",22),t.qSk(),t.j41(27,"svg",23),t.nrm(28,"path",31),t.k0s()()(),t.joV(),t.j41(29,"button",26),t.DNE(30,x,2,0,"span",27)(31,w,1,0,"span",28),t.k0s()()()}if(2&r){const e=t.sdS(13),n=t.XpG();t.R7$(15),t.R50("ngModel",n.password),t.R7$(8),t.R50("ngModel",n.confirmPassword),t.R7$(6),t.Y8G("disabled",e.invalid||n.loading),t.R7$(),t.Y8G("ngIf",!n.loading),t.R7$(),t.Y8G("ngIf",n.loading)}}let C=(()=>{class r{authService;router;toastService;step="email";email="";otp="";password="";confirmPassword="";loading=!1;constructor(e,n,o){this.authService=e,this.router=n,this.toastService=o}onSendOtp(){this.email&&(this.loading=!0,this.authService.forgotPassword(this.email).subscribe({next:()=>{this.loading=!1,this.step="otp",this.toastService.success("Verification code sent to your email.")},error:e=>{this.loading=!1,this.toastService.error(e.error?.message||"Failed to send OTP. Please try again.")}}))}onVerifyOtp(){6===this.otp.length&&(this.loading=!0,this.authService.verifyOtp(this.email,this.otp).subscribe({next:()=>{this.loading=!1,this.step="reset",this.toastService.success("OTP verified successfully!")},error:e=>{this.loading=!1,this.toastService.error(e.error?.message||"Invalid OTP code.")}}))}onResetPassword(){this.password===this.confirmPassword?this.password.length<6?this.toastService.error("Password must be at least 6 characters"):(this.loading=!0,this.authService.resetPassword(this.email,this.otp,this.password).subscribe({next:()=>{this.loading=!1,this.toastService.success("Password reset successfully! Redirecting to login..."),setTimeout(()=>this.router.navigate(["/login"]),2e3)},error:e=>{this.loading=!1,this.toastService.error(e.error?.message||"Failed to reset password.")}})):this.toastService.error("Passwords do not match")}static \u0275fac=function(n){return new(n||r)(t.rXU(g.u),t.rXU(l.Ix),t.rXU(f.f))};static \u0275cmp=t.VBU({type:r,selectors:[["app-forgot-password"]],standalone:!0,features:[t.aNF],decls:11,vars:3,consts:[["emailForm","ngForm"],["otpForm","ngForm"],["resetForm","ngForm"],[1,"auth-container"],[1,"glow-orb","orb-1"],[1,"glow-orb","orb-2"],[1,"auth-card","glass-panel"],["routerLink","/login",1,"back-link-top"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M19 12H5M12 19l-7-7 7-7"],["class","animate-fade-in",4,"ngIf"],[1,"animate-fade-in"],[1,"auth-header"],[1,"icon-wrapper"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["x","3","y","11","width","18","height","11","rx","2","ry","2"],["d","M7 11V7a5 5 0 0 1 10 0v4"],[1,"text-gradient"],[3,"ngSubmit"],[1,"floating-input-group"],["type","email","id","email","name","email","required","","email","","placeholder"," ",3,"ngModelChange","ngModel"],["for","email"],[1,"input-icon"],["width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"],["points","22,6 12,13 2,6"],["type","submit",1,"btn-primary",3,"disabled"],[4,"ngIf"],["class","loader",4,"ngIf"],[1,"loader"],["width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"],["type","text","id","otp","name","otp","required","","minlength","6","maxlength","6","pattern","[0-9]*","placeholder"," ",3,"ngModelChange","ngModel"],["for","otp"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],[1,"resend-text"],[3,"click"],["d","M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3y"],["type","password","id","password","name","password","required","","minlength","6","placeholder"," ",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","confirmPassword","name","confirmPassword","required","","placeholder"," ",3,"ngModelChange","ngModel"],["for","confirmPassword"]],template:function(n,o){1&n&&(t.j41(0,"div",3),t.nrm(1,"div",4)(2,"div",5),t.j41(3,"div",6)(4,"a",7),t.qSk(),t.j41(5,"svg",8),t.nrm(6,"path",9),t.k0s(),t.EFF(7," Back to Login "),t.k0s(),t.DNE(8,u,26,4,"div",10)(9,b,32,7,"div",10)(10,v,32,5,"div",10),t.k0s()()),2&n&&(t.R7$(8),t.Y8G("ngIf","email"===o.step),t.R7$(),t.Y8G("ngIf","otp"===o.step),t.R7$(),t.Y8G("ngIf","reset"===o.step))},dependencies:[c.MD,c.bT,i.YN,i.qT,i.me,i.BC,i.cb,i.YS,i.xh,i.tU,i.R_,i.Dg,i.vS,i.cV,l.iI,l.Wk],styles:["[_nghost-%COMP%]{display:block;height:100vh;overflow:hidden;background:#0f172a}.auth-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;padding:20px;position:relative}.glow-orb[_ngcontent-%COMP%]{position:absolute;border-radius:50%;filter:blur(80px);opacity:.6;z-index:0;animation:_ngcontent-%COMP%_float 10s ease-in-out infinite}.orb-1[_ngcontent-%COMP%]{width:400px;height:400px;background:#00f2fe;top:-100px;left:-100px}.orb-2[_ngcontent-%COMP%]{width:300px;height:300px;background:#4facfe;bottom:-50px;right:-50px;animation-delay:2s}.auth-card[_ngcontent-%COMP%]{width:100%;max-width:480px;padding:50px 40px;position:relative;background:#1e293bb3;backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.1);border-radius:24px;z-index:10}.back-link-top[_ngcontent-%COMP%]{position:absolute;top:24px;left:24px;display:flex;align-items:center;gap:6px;color:#94a3b8;text-decoration:none;font-size:.9rem;transition:color .2s;cursor:pointer}.back-link-top[_ngcontent-%COMP%]:hover{color:#fff}.auth-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:40px}.icon-wrapper[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:20px;background:#00f2fe1a;border:1px solid rgba(0,242,254,.2);display:flex;align-items:center;justify-content:center;margin:0 auto 20px;color:#00f2fe}.text-gradient[_ngcontent-%COMP%]{background:linear-gradient(135deg,#00f2fe,#4facfe);-webkit-background-clip:text;-webkit-text-fill-color:transparent}h2[_ngcontent-%COMP%]{font-size:2.2rem;margin-bottom:10px;color:#fff}p[_ngcontent-%COMP%]{color:#94a3b8;font-size:.95rem;line-height:1.5}.floating-input-group[_ngcontent-%COMP%]{position:relative;margin-bottom:25px}.floating-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:#0f172a80;border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:16px 16px 16px 45px;color:#fff;font-size:1rem;outline:none;transition:all .3s}.floating-input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;left:45px;top:50%;transform:translateY(-50%);color:#64748b;pointer-events:none;transition:all .3s}.floating-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .floating-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown){border-color:#00f2fe;background:#0f172acc}.floating-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%], .floating-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%]{top:0;left:14px;font-size:.75rem;color:#00f2fe;background:#1e293b;padding:0 5px}.input-icon[_ngcontent-%COMP%]{position:absolute;left:14px;top:50%;transform:translateY(-50%);color:#64748b;transition:color .3s}.floating-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ .input-icon[_ngcontent-%COMP%]{color:#00f2fe}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:16px;background:linear-gradient(135deg,#00f2fe,#4facfe);border:none;border-radius:12px;color:#000;font-weight:700;cursor:pointer;transition:all .3s}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 0 20px #00f2fe66}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.resend-text[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.resend-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00f2fe;text-decoration:none;cursor:pointer;font-weight:500}.resend-text[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.loader[_ngcontent-%COMP%]{display:inline-block;width:22px;height:22px;border:3px solid rgba(0,0,0,.1);border-top-color:#000;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .4s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})}return r})()}}]);