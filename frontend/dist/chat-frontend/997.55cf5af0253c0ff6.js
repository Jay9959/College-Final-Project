"use strict";(self.webpackChunkchat_frontend=self.webpackChunkchat_frontend||[]).push([[997],{3997:(v,c,l)=>{l.r(c),l.d(c,{RegisterComponent:()=>P});var p=l(177),a=l(4341),h=l(1069),n=l(4438),u=l(4796),f=l(8397);function m(e,d){1&e&&(n.qSk(),n.j41(0,"svg",35),n.nrm(1,"path",36)(2,"circle",37),n.k0s())}function _(e,d){1&e&&(n.qSk(),n.j41(0,"svg",35),n.nrm(1,"path",38)(2,"line",39),n.k0s())}function b(e,d){1&e&&(n.qSk(),n.j41(0,"svg",35),n.nrm(1,"path",36)(2,"circle",37),n.k0s())}function w(e,d){1&e&&(n.qSk(),n.j41(0,"svg",35),n.nrm(1,"path",38)(2,"line",39),n.k0s())}function C(e,d){1&e&&(n.j41(0,"div",40),n.qSk(),n.j41(1,"svg",41),n.nrm(2,"circle",42)(3,"line",43)(4,"line",44),n.k0s(),n.EFF(5," Passwords do not match "),n.k0s())}function M(e,d){1&e&&(n.j41(0,"span"),n.EFF(1,"Sign Up"),n.k0s())}function x(e,d){1&e&&n.nrm(0,"span",45)}let P=(()=>{class e{authService;router;ngZone;toastService;username="";email="";password="";confirmPassword="";showPassword=!1;showConfirmPassword=!1;isLoading=!1;constructor(r,s,t,i){this.authService=r,this.router=s,this.ngZone=t,this.toastService=i}ngOnInit(){window.addEventListener("message",this.handleMessage.bind(this),!1)}ngOnDestroy(){window.removeEventListener("message",this.handleMessage.bind(this))}handleMessage(r){const{token:s}=r.data;s&&this.ngZone.run(()=>{this.handleSocialLoginSuccess(s)})}handleSocialLoginSuccess(r){sessionStorage.setItem("token",r),this.authService.getProfile().subscribe({next:()=>{this.router.navigate(["/chat"])},error:()=>{this.toastService.error("Failed to load user profile"),this.router.navigate(["/chat"])}})}loginWith(r){const g=window.screen.width/2-250,o=window.screen.height/2-300;window.open(`http://192.168.43.95:5000/api/auth/${r}`,"Authentication",`width=500,height=600,top=${o},left=${g}`)}togglePassword(){this.showPassword=!this.showPassword}toggleConfirmPassword(){this.showConfirmPassword=!this.showConfirmPassword}onRegister(){!this.username||!this.email||!this.password||this.password===this.confirmPassword&&(this.isLoading=!0,this.authService.register(this.username,this.email,this.password).subscribe({next:()=>{this.router.navigate(["/chat"])},error:r=>{this.isLoading=!1,this.toastService.error(r.error?.message||"Registration failed. Please try again.")}}))}static \u0275fac=function(s){return new(s||e)(n.rXU(u.u),n.rXU(h.Ix),n.rXU(n.SKi),n.rXU(f.f))};static \u0275cmp=n.VBU({type:e,selectors:[["app-register"]],standalone:!0,features:[n.aNF],decls:68,vars:14,consts:[["registerForm","ngForm"],["usernameInput","ngModel"],["emailInput","ngModel"],[1,"auth-container"],[1,"auth-card"],[1,"auth-toggle"],["routerLink","/login",1,"toggle-btn"],[1,"toggle-btn","active"],[1,"auth-header"],[1,"highlight"],[3,"ngSubmit"],[1,"form-group"],["type","text","name","username","placeholder","Enter your username","required","","minlength","3",3,"ngModelChange","ngModel"],["type","email","name","email","placeholder","Enter your email","required","","email","",3,"ngModelChange","ngModel"],[1,"password-wrapper"],["name","password","placeholder","Enter your password","required","","minlength","6",3,"ngModelChange","type","ngModel"],["type","button",1,"eye-btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",4,"ngIf"],["name","confirmPassword","placeholder","Confirm your password","required","",3,"ngModelChange","type","ngModel"],["class","error-msg",4,"ngIf"],["type","submit",1,"btn-submit",3,"disabled"],[4,"ngIf"],["class","loader",4,"ngIf"],[1,"divider"],[1,"social-btns"],["type","button",1,"social-btn",3,"click"],["width","20","height","20","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg"],["d","M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z","fill","#4285F4"],["d","M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z","fill","#34A853"],["d","M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z","fill","#FBBC05"],["d","M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z","fill","#EA4335"],["width","20","height","20","viewBox","0 0 24 24","fill","currentColor"],["d","M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"],[1,"auth-footer"],["routerLink","/login"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"],["cx","12","cy","12","r","3"],["d","M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"],["x1","1","y1","1","x2","23","y2","23"],[1,"error-msg"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["cx","12","cy","12","r","10"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"loader"]],template:function(s,t){if(1&s){const i=n.RV6();n.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"button",6),n.EFF(4,"Sign in"),n.k0s(),n.j41(5,"button",7),n.EFF(6,"Sign up"),n.k0s()(),n.j41(7,"div",8)(8,"h1"),n.EFF(9,"Create "),n.j41(10,"span",9),n.EFF(11,"Account"),n.k0s()(),n.j41(12,"p"),n.EFF(13,"Sign up to get started"),n.k0s()(),n.j41(14,"form",10,0),n.bIt("ngSubmit",function(){return n.eBV(i),n.Njj(t.onRegister())}),n.j41(16,"div",11)(17,"label"),n.EFF(18,"Username"),n.k0s(),n.j41(19,"input",12,1),n.mxI("ngModelChange",function(o){return n.eBV(i),n.DH7(t.username,o)||(t.username=o),n.Njj(o)}),n.k0s()(),n.j41(21,"div",11)(22,"label"),n.EFF(23,"Email Address"),n.k0s(),n.j41(24,"input",13,2),n.mxI("ngModelChange",function(o){return n.eBV(i),n.DH7(t.email,o)||(t.email=o),n.Njj(o)}),n.k0s()(),n.j41(26,"div",11)(27,"label"),n.EFF(28,"Password"),n.k0s(),n.j41(29,"div",14)(30,"input",15),n.mxI("ngModelChange",function(o){return n.eBV(i),n.DH7(t.password,o)||(t.password=o),n.Njj(o)}),n.k0s(),n.j41(31,"button",16),n.bIt("click",function(){return n.eBV(i),n.Njj(t.togglePassword())}),n.DNE(32,m,3,0,"svg",17)(33,_,3,0,"svg",17),n.k0s()()(),n.j41(34,"div",11)(35,"label"),n.EFF(36,"Confirm Password"),n.k0s(),n.j41(37,"div",14)(38,"input",18),n.mxI("ngModelChange",function(o){return n.eBV(i),n.DH7(t.confirmPassword,o)||(t.confirmPassword=o),n.Njj(o)}),n.k0s(),n.j41(39,"button",16),n.bIt("click",function(){return n.eBV(i),n.Njj(t.toggleConfirmPassword())}),n.DNE(40,b,3,0,"svg",17)(41,w,3,0,"svg",17),n.k0s()()(),n.DNE(42,C,6,0,"div",19),n.j41(43,"button",20),n.DNE(44,M,2,0,"span",21)(45,x,1,0,"span",22),n.k0s(),n.j41(46,"div",23)(47,"span"),n.EFF(48,"OR SIGN UP WITH"),n.k0s()(),n.j41(49,"div",24)(50,"button",25),n.bIt("click",function(){return n.eBV(i),n.Njj(t.loginWith("google"))}),n.qSk(),n.j41(51,"svg",26),n.nrm(52,"path",27)(53,"path",28)(54,"path",29)(55,"path",30),n.k0s(),n.joV(),n.j41(56,"span"),n.EFF(57,"Google"),n.k0s()(),n.j41(58,"button",25),n.bIt("click",function(){return n.eBV(i),n.Njj(t.loginWith("github"))}),n.qSk(),n.j41(59,"svg",31),n.nrm(60,"path",32),n.k0s(),n.joV(),n.j41(61,"span"),n.EFF(62,"GitHub"),n.k0s()()(),n.j41(63,"div",33)(64,"p"),n.EFF(65,"Already have an account? "),n.j41(66,"a",34),n.EFF(67,"Sign In"),n.k0s()()()()()()}if(2&s){const i=n.sdS(15);n.R7$(19),n.R50("ngModel",t.username),n.R7$(5),n.R50("ngModel",t.email),n.R7$(6),n.Y8G("type",t.showPassword?"text":"password"),n.R50("ngModel",t.password),n.R7$(2),n.Y8G("ngIf",!t.showPassword),n.R7$(),n.Y8G("ngIf",t.showPassword),n.R7$(5),n.Y8G("type",t.showConfirmPassword?"text":"password"),n.R50("ngModel",t.confirmPassword),n.R7$(2),n.Y8G("ngIf",!t.showConfirmPassword),n.R7$(),n.Y8G("ngIf",t.showConfirmPassword),n.R7$(),n.Y8G("ngIf",t.confirmPassword&&t.password!==t.confirmPassword),n.R7$(),n.Y8G("disabled",i.invalid||t.password!==t.confirmPassword||t.isLoading),n.R7$(),n.Y8G("ngIf",!t.isLoading),n.R7$(),n.Y8G("ngIf",t.isLoading)}},dependencies:[p.MD,p.bT,a.YN,a.qT,a.me,a.BC,a.cb,a.YS,a.xh,a.Dg,a.vS,a.cV,h.Wk],styles:['@import"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap";[_nghost-%COMP%]{display:block;min-height:100vh;font-family:Inter,sans-serif}.auth-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#0a0e27,#1a1f3a,#0a0e27);padding:40px 20px;position:relative;overflow:hidden}.auth-container[_ngcontent-%COMP%]:before{content:"";position:absolute;width:500px;height:500px;background:radial-gradient(circle,rgba(139,92,246,.15),transparent);top:-200px;right:-200px;border-radius:50%;animation:_ngcontent-%COMP%_pulse 8s ease-in-out infinite}.auth-container[_ngcontent-%COMP%]:after{content:"";position:absolute;width:400px;height:400px;background:radial-gradient(circle,rgba(236,72,153,.15),transparent);bottom:-150px;left:-150px;border-radius:50%;animation:_ngcontent-%COMP%_pulse 8s ease-in-out infinite 4s}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1);opacity:.5}50%{transform:scale(1.1);opacity:.8}}.auth-card[_ngcontent-%COMP%]{width:100%;max-width:440px;background:#111827cc;backdrop-filter:blur(20px);border-radius:24px;padding:48px 40px;box-shadow:0 20px 60px #00000080;border:1px solid rgba(255,255,255,.05);position:relative;z-index:1;animation:_ngcontent-%COMP%_slideUp .5s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.auth-toggle[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:40px}.toggle-btn[_ngcontent-%COMP%]{background:none;border:none;color:#6b7280;font-size:16px;font-weight:500;padding:8px 0;cursor:pointer;position:relative;transition:color .3s}.toggle-btn[_ngcontent-%COMP%]:hover{color:#9ca3af}.toggle-btn.active[_ngcontent-%COMP%]{color:#a78bfa}.toggle-btn.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;right:0;height:2px;background:linear-gradient(90deg,#8b5cf6,#a78bfa);border-radius:2px}.auth-header[_ngcontent-%COMP%]{margin-bottom:32px}.auth-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#f9fafb;margin:0 0 8px;letter-spacing:-.5px}.auth-header[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a78bfa,#8b5cf6);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#9ca3af;font-size:14px;margin:0}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:#d1d5db;font-size:13px;font-weight:500;margin-bottom:8px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:#1f293780;border:2px solid #374151;border-radius:12px;padding:14px 16px;color:#f9fafb;font-size:14px;font-family:Inter,sans-serif;transition:all .3s;outline:none}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#14b8a6;background:#1f2937cc;box-shadow:0 0 0 3px #14b8a61a}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#6b7280}.password-wrapper[_ngcontent-%COMP%]{position:relative}.eye-btn[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);background:none;border:none;color:#6b7280;cursor:pointer;padding:4px;display:flex;align-items:center;justify-content:center;transition:color .3s}.eye-btn[_ngcontent-%COMP%]:hover{color:#9ca3af}.error-msg[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#ef4444;font-size:13px;margin-bottom:16px;padding:10px 14px;background:#ef44441a;border:1px solid rgba(239,68,68,.2);border-radius:8px}.btn-submit[_ngcontent-%COMP%]{width:100%;background:linear-gradient(90deg,#8b5cf6,#ec4899);border:none;border-radius:12px;padding:16px;color:#fff;font-size:15px;font-weight:600;cursor:pointer;transition:all .3s;box-shadow:0 4px 20px #8b5cf666;margin-top:8px}.btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 25px #8b5cf680}.btn-submit[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.btn-submit[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.loader[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .6s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.divider[_ngcontent-%COMP%]{margin:28px 0;text-align:center;position:relative}.divider[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:0;right:0;height:1px;background:#ffffff1a}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#111827e6;padding:0 16px;color:#6b7280;font-size:12px;font-weight:500;position:relative;letter-spacing:.5px}.social-btns[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:28px}.social-btn[_ngcontent-%COMP%]{flex:1;background:#1f293780;border:1px solid #374151;border-radius:12px;padding:14px;color:#d1d5db;font-size:14px;font-weight:500;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:10px;transition:all .3s}.social-btn[_ngcontent-%COMP%]:hover{background:#1f2937cc;border-color:#4b5563;transform:translateY(-2px)}.auth-footer[_ngcontent-%COMP%]{text-align:center}.auth-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#9ca3af;font-size:14px;margin:0}.auth-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#a78bfa;text-decoration:none;font-weight:600;transition:color .3s}.auth-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#8b5cf6}@media (max-width: 640px){.auth-card[_ngcontent-%COMP%]{padding:36px 28px}.auth-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px}}']})}return e})()}}]);