import{a as N,b as W,c as B,d as G,e as H,f as j,g as D,j as q}from"./chunk-HL3PVTPL.js";import{Aa as T,Da as F,F as r,G as h,M as b,O as m,P as S,Q as e,R as t,S as s,V as P,W as O,X as L,aa as v,ba as o,da as k,ea as w,fa as _,ga as M,ia as E,r as y,ra as V,sa as I,v as u,w as f,x as c,y as x,za as z}from"./chunk-TEBBNW7E.js";function R(n,C){if(n&1&&(e(0,"div",26),c(),e(1,"svg",27),s(2,"circle",28)(3,"line",29)(4,"line",30),t(),o(5),t()),n&2){let a=L();r(5),k(" ",a.errorMessage," ")}}function A(n,C){n&1&&(e(0,"span"),o(1,"Sign In"),t())}function U(n,C){n&1&&s(0,"div",31)}var te=(()=>{class n{authService;router;email="";password="";isLoading=!1;errorMessage="";constructor(a,d){this.authService=a,this.router=d}onLogin(){!this.email||!this.password||(this.isLoading=!0,this.errorMessage="",this.authService.login(this.email,this.password).subscribe({next:()=>{this.router.navigate(["/chat"])},error:a=>{this.isLoading=!1,this.errorMessage=a.error?.message||"Login failed. Please try again."}}))}static \u0275fac=function(d){return new(d||n)(h(F),h(z))};static \u0275cmp=y({type:n,selectors:[["app-login"]],standalone:!0,features:[E],decls:40,vars:8,consts:[["loginForm","ngForm"],["emailInput","ngModel"],[1,"login-wrapper"],[1,"blob","blob-1"],[1,"blob","blob-2"],[1,"glass-card","animate-fade-up"],[1,"header"],[1,"icon-box"],["width","32","height","32","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"],[3,"ngSubmit"],[1,"input-group"],[1,"input-wrapper"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"input-icon"],["d","M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],["type","text","name","email","required","","placeholder","Username or Email",3,"ngModelChange","ngModel"],["x","3","y","11","width","18","height","11","rx","2","ry","2"],["d","M7 11V7a5 5 0 0 1 10 0v4"],["type","password","name","password","required","","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",3,"ngModelChange","ngModel"],["class","error-banner",4,"ngIf"],["type","submit",1,"btn-glow",3,"disabled"],[4,"ngIf"],["class","spinner-sm",4,"ngIf"],[1,"footer"],["routerLink","/register"],[1,"error-banner"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["cx","12","cy","12","r","10"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"spinner-sm"]],template:function(d,i){if(d&1){let p=P();e(0,"div",2),s(1,"div",3)(2,"div",4),e(3,"div",5)(4,"div",6)(5,"div",7),c(),e(6,"svg",8),s(7,"path",9),t()(),x(),e(8,"h1"),o(9,"Welcome Back"),t(),e(10,"p"),o(11,"Enter your credentials to access your chats."),t()(),e(12,"form",10,0),O("ngSubmit",function(){return u(p),f(i.onLogin())}),e(14,"div",11)(15,"label"),o(16,"Email or Username"),t(),e(17,"div",12),c(),e(18,"svg",13),s(19,"path",14)(20,"circle",15),t(),x(),e(21,"input",16,1),M("ngModelChange",function(l){return u(p),_(i.email,l)||(i.email=l),f(l)}),t()()(),e(23,"div",11)(24,"label"),o(25,"Password"),t(),e(26,"div",12),c(),e(27,"svg",13),s(28,"rect",17)(29,"path",18),t(),x(),e(30,"input",19),M("ngModelChange",function(l){return u(p),_(i.password,l)||(i.password=l),f(l)}),t()()(),b(31,R,6,1,"div",20),e(32,"button",21),b(33,A,2,0,"span",22)(34,U,1,0,"div",23),t()(),e(35,"div",24)(36,"p"),o(37,"Don't have an account? "),e(38,"a",25),o(39,"Create one"),t()()()()()}if(d&2){let p=v(13),g=v(22);r(21),S("error",g.invalid&&g.touched),w("ngModel",i.email),r(9),w("ngModel",i.password),r(),m("ngIf",i.errorMessage),r(),m("disabled",p.invalid||i.isLoading),r(),m("ngIf",!i.isLoading),r(),m("ngIf",i.isLoading)}},dependencies:[I,V,q,j,N,W,B,D,H,G,T],styles:[".login-wrapper[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;padding:20px}.blob[_ngcontent-%COMP%]{position:absolute;border-radius:50%;filter:blur(80px);z-index:-1;opacity:.6}.blob-1[_ngcontent-%COMP%]{top:-10%;left:-10%;width:500px;height:500px;background:#00d2ad4d;animation:float 8s ease-in-out infinite}.blob-2[_ngcontent-%COMP%]{bottom:-10%;right:-10%;width:600px;height:600px;background:#7f00ff40;animation:float 10s ease-in-out infinite reverse}.glass-card[_ngcontent-%COMP%]{background:#0f172a99;backdrop-filter:blur(16px);border:1px solid rgba(255,255,255,.1);padding:48px;border-radius:24px;width:100%;max-width:440px;box-shadow:0 25px 50px -12px #00000080}.header[_ngcontent-%COMP%]{text-align:center;margin-bottom:40px}.icon-box[_ngcontent-%COMP%]{width:64px;height:64px;background:linear-gradient(135deg,var(--primary-color),#009b85);border-radius:16px;display:flex;align-items:center;justify-content:center;margin:0 auto 24px;color:#fff;box-shadow:0 10px 25px #00d2ad66;transform:rotate(-5deg)}h1[_ngcontent-%COMP%]{font-size:28px;margin-bottom:8px;background:linear-gradient(to right,#fff,#94a3b8);-webkit-background-clip:text;-webkit-text-fill-color:transparent}p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:15px}.input-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;color:var(--text-secondary);font-size:13px;font-weight:600;margin-bottom:8px;text-transform:uppercase;letter-spacing:.05em}.input-wrapper[_ngcontent-%COMP%]{position:relative}.input-icon[_ngcontent-%COMP%]{position:absolute;left:16px;top:50%;transform:translateY(-50%);color:var(--text-muted);pointer-events:none;transition:color .3s}input[_ngcontent-%COMP%]{width:100%;padding:14px 16px 14px 48px;border-radius:12px;font-size:15px}input[_ngcontent-%COMP%]:focus + .input-icon[_ngcontent-%COMP%], input[_ngcontent-%COMP%]:focus ~ .input-icon[_ngcontent-%COMP%]{color:var(--primary-color)}.btn-glow[_ngcontent-%COMP%]{width:100%;padding:16px;border-radius:12px;background:var(--primary-gradient);color:#fff;font-weight:600;font-size:16px;margin-top:12px;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 4px 15px #00d2ad4d}.btn-glow[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 25px #00d2ad80}.btn-glow[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.error-banner[_ngcontent-%COMP%]{background:#ef444426;color:#fca5a5;padding:12px;border-radius:8px;font-size:14px;display:flex;align-items:center;gap:8px;margin-bottom:20px}.footer[_ngcontent-%COMP%]{margin-top:32px;text-align:center;font-size:14px;color:var(--text-secondary)}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:600}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.spinner-sm[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:spin .8s linear infinite;margin:0 auto}"]})}return n})();export{te as LoginComponent};
