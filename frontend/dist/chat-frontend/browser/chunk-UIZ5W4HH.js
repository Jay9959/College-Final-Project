import{b as I,c as L,d as j,e as V,f as T,g as z,k as W,l as Q,m as q,o as N}from"./chunk-4DV72Q7C.js";import{C as S,Fa as E,Ga as A,H as p,I as m,Ja as k,La as R,O as F,Q as h,S as _,T as t,U as i,V as f,Y as O,Z as u,da as b,ea as a,ha as U,ia as w,ja as C,la as P,s as x,va as B,w as d,wa as D,x as c,y as v,z as y}from"./chunk-ZOMM7OCX.js";function H(g,M){g&1&&(t(0,"div",39),a(1,"Passwords do not match"),i())}function G(g,M){g&1&&(t(0,"span"),a(1,"Sign Up"),i())}function Z(g,M){g&1&&f(0,"span",40)}var oe=(()=>{class g{authService;router;ngZone;toastService;username="";email="";password="";confirmPassword="";isLoading=!1;errorMessage="";constructor(o,l,e,r){this.authService=o,this.router=l,this.ngZone=e,this.toastService=r}ngOnInit(){window.addEventListener("message",this.handleMessage.bind(this),!1)}ngOnDestroy(){window.removeEventListener("message",this.handleMessage.bind(this))}handleMessage(o){o.origin!=="http://localhost:5000"&&o.origin;let{token:l}=o.data;l&&this.ngZone.run(()=>{this.handleSocialLoginSuccess(l)})}handleSocialLoginSuccess(o){sessionStorage.setItem("token",o),this.authService.getProfile().subscribe({next:()=>{this.router.navigate(["/chat"])},error:()=>{this.toastService.error("Failed to load user profile"),this.router.navigate(["/chat"])}})}loginWith(o){let l="http://localhost:5000/api/auth",s=window.screen.width/2-250,n=window.screen.height/2-600/2;window.open(`${l}/${o}`,"Authentication",`width=500,height=600,top=${n},left=${s}`)}onRegister(){!this.username||!this.email||!this.password||this.password===this.confirmPassword&&(this.isLoading=!0,this.errorMessage="",this.authService.register(this.username,this.email,this.password).subscribe({next:()=>{this.router.navigate(["/chat"])},error:o=>{this.isLoading=!1,this.errorMessage=o.error?.message||"Registration failed. Please try again.",this.toastService.error(this.errorMessage)}}))}static \u0275fac=function(l){return new(l||g)(m(R),m(E),m(S),m(k))};static \u0275cmp=x({type:g,selectors:[["app-register"]],standalone:!0,features:[P],decls:61,vars:12,consts:[["registerForm","ngForm"],["usernameInput","ngModel"],["emailInput","ngModel"],[1,"login-container"],[1,"bg-image"],[1,"overlay"],[1,"content-wrapper"],[1,"spacer"],[1,"login-card","animate-fade-in"],[1,"auth-toggle"],["routerLink","/login",1,"inactive"],[1,"active"],[1,"header"],[3,"ngSubmit"],[1,"form-group"],["type","text","name","username","placeholder","Astronaut123","required","","minlength","3",3,"ngModelChange","ngModel"],["type","email","name","email","placeholder","name@example.com","required","","email","",3,"ngModelChange","ngModel"],[1,"password-wrapper"],["type","password","name","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","","minlength","6",3,"ngModelChange","ngModel"],["type","password","name","confirmPassword","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",3,"ngModelChange","ngModel"],["class","error-msg",4,"ngIf"],["type","submit",1,"btn-primary",3,"disabled"],[4,"ngIf"],["class","loader",4,"ngIf"],[1,"footer-links"],["routerLink","/login"],[1,"social-login"],[1,"social-icons"],["type","button",1,"social-btn","google",3,"click"],["width","24","height","24","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg"],["d","M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z","fill","#4285F4"],["d","M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z","fill","#34A853"],["d","M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z","fill","#FBBC05"],["d","M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z","fill","#EA4335"],["type","button",1,"social-btn","apple",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","#FFFFFF","xmlns","http://www.w3.org/2000/svg"],["d","M17.05 20.28c-.98.95-2.05 0-3.08-1.05-1.07-1.07-2.79-1.07-3.83 0-1.05 1.05-2.13 2.03-3.07 1.03-2.18-2.32-3.82-7.85-.29-11.45 2.1-2.14 5.92-1.74 7.6.4 1.07 1.34 3.03 1.34 4.12 0 1.28-1.59 4.31-2.48 6.94-.36.1 2.32-2.18 3.32-2.58 3.92-3.1 4.67-4.43 4.67-4.47 4.74h-.05c-2.3 1.15-4.04 4.09-3.99 7 .1 5.37 5.76 7.42 5.95 7.49-.03.11-1.05 3.39-3.23 5.58z M13 6.95C12.16 3.99 15.65 1.58 17.5 1c.52 3.8-3.32 6.74-4.5 5.95z"],["type","button",1,"social-btn","github",3,"click"],["d","M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"],[1,"error-msg"],[1,"loader"]],template:function(l,e){if(l&1){let r=O();t(0,"div",3),f(1,"div",4)(2,"div",5),t(3,"div",6),f(4,"div",7),t(5,"div",8)(6,"div",9)(7,"span",10),a(8,"Sign in"),i(),t(9,"span",11),a(10,"Sign up"),i()(),t(11,"div",12)(12,"h2"),a(13,"Create an account to join the journey"),i()(),t(14,"form",13,0),u("ngSubmit",function(){return d(r),c(e.onRegister())}),t(16,"div",14)(17,"label"),a(18,"Username"),i(),t(19,"input",15,1),C("ngModelChange",function(n){return d(r),w(e.username,n)||(e.username=n),c(n)}),i()(),t(21,"div",14)(22,"label"),a(23,"Email"),i(),t(24,"input",16,2),C("ngModelChange",function(n){return d(r),w(e.email,n)||(e.email=n),c(n)}),i()(),t(26,"div",14)(27,"label"),a(28,"Password"),i(),t(29,"div",17)(30,"input",18),C("ngModelChange",function(n){return d(r),w(e.password,n)||(e.password=n),c(n)}),i()()(),t(31,"div",14)(32,"label"),a(33,"Confirm Password"),i(),t(34,"div",17)(35,"input",19),C("ngModelChange",function(n){return d(r),w(e.confirmPassword,n)||(e.confirmPassword=n),c(n)}),i()()(),F(36,H,2,0,"div",20),t(37,"button",21),F(38,G,2,0,"span",22)(39,Z,1,0,"span",23),i(),t(40,"div",24)(41,"p"),a(42,"Already have an account? "),t(43,"a",25),a(44,"Sign In"),i()()(),t(45,"div",26)(46,"p"),a(47,"OR"),i(),t(48,"div",27)(49,"button",28),u("click",function(){return d(r),c(e.loginWith("google"))}),v(),t(50,"svg",29),f(51,"path",30)(52,"path",31)(53,"path",32)(54,"path",33),i()(),y(),t(55,"button",34),u("click",function(){return d(r),c(e.loginWith("apple"))}),v(),t(56,"svg",35),f(57,"path",36),i()(),y(),t(58,"button",37),u("click",function(){return d(r),c(e.loginWith("github"))}),v(),t(59,"svg",35),f(60,"path",38),i()()()()()()()()}if(l&2){let r=b(15),s=b(20),n=b(25);p(19),_("error",s.invalid&&s.touched),U("ngModel",e.username),p(5),_("error",n.invalid&&n.touched),U("ngModel",e.email),p(6),U("ngModel",e.password),p(5),U("ngModel",e.confirmPassword),p(),h("ngIf",e.confirmPassword&&e.password!==e.confirmPassword),p(),h("disabled",r.invalid||e.password!==e.confirmPassword||e.isLoading),p(),h("ngIf",!e.isLoading),p(),h("ngIf",e.isLoading)}},dependencies:[D,B,N,z,I,L,j,W,q,Q,T,V,A],styles:['@font-face{font-family:Orbitron;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/orbitron/v35/yMJRMIlzdpvBhQQL_Qq7dy0.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Orbitron;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/orbitron/v35/yMJRMIlzdpvBhQQL_Qq7dy0.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Rajdhani;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/rajdhani/v17/LDI2apCSOBg7S-QT7pasEfOqeef2kg.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Rajdhani;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/rajdhani/v17/LDI2apCSOBg7S-QT7pasEfOleef2kg.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Rajdhani;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/rajdhani/v17/LDI2apCSOBg7S-QT7pasEfOreec.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Rajdhani;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/rajdhani/v17/LDI2apCSOBg7S-QT7pb0EPOqeef2kg.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Rajdhani;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/rajdhani/v17/LDI2apCSOBg7S-QT7pb0EPOleef2kg.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Rajdhani;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/rajdhani/v17/LDI2apCSOBg7S-QT7pb0EPOreec.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Rajdhani;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/rajdhani/v17/LDI2apCSOBg7S-QT7pa8FvOqeef2kg.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Rajdhani;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/rajdhani/v17/LDI2apCSOBg7S-QT7pa8FvOleef2kg.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Rajdhani;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/rajdhani/v17/LDI2apCSOBg7S-QT7pa8FvOreec.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}[_nghost-%COMP%]{display:block;height:100vh;font-family:Rajdhani,sans-serif}.login-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;overflow:hidden;background:var(--bg-darker)}.bg-image[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=2072&auto=format&fit=crop);background-size:cover;background-position:center;z-index:1}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(to right,rgba(0,0,0,.1) 0%,rgba(0,0,0,.8) 60%,var(--bg-darker) 100%);z-index:2}.content-wrapper[_ngcontent-%COMP%]{position:relative;z-index:3;display:flex;height:100%;padding:40px;overflow-y:auto}.spacer[_ngcontent-%COMP%]{flex:1;display:none}@media (min-width: 768px){.spacer[_ngcontent-%COMP%]{display:block}}.login-card[_ngcontent-%COMP%]{width:100%;max-width:450px;padding:3rem 2.5rem;background:var(--bg-glass);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border:1px solid var(--border-glass);border-radius:24px;color:var(--text-primary);display:flex;flex-direction:column;justify-content:center;margin:auto 0;box-shadow:var(--shadow-glass)}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .8s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.auth-toggle[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:25px;font-family:Orbitron,Rajdhani,sans-serif;font-size:20px;font-weight:700}.auth-toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;position:relative;color:var(--text-secondary);transition:color .3s}.auth-toggle[_ngcontent-%COMP%]   span.active[_ngcontent-%COMP%]{color:var(--text-primary)}.auth-toggle[_ngcontent-%COMP%]   span.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-4px;left:0;width:100%;height:2px;background:var(--primary-color);box-shadow:0 0 10px var(--primary-color)}.auth-toggle[_ngcontent-%COMP%]   span.inactive[_ngcontent-%COMP%]:hover{color:var(--text-primary)}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;font-weight:500;color:var(--text-secondary);margin-bottom:30px;line-height:1.4}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:12px;color:var(--text-secondary);margin-bottom:6px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:var(--bg-glass);border:1px solid var(--border-glass);border-radius:8px;padding:12px 16px;color:var(--text-primary);font-family:inherit;font-size:15px;transition:all .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;background:var(--bg-panel);border-color:var(--primary-color)}.password-wrapper[_ngcontent-%COMP%]{position:relative}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:14px;background:var(--primary-gradient);border:none;border-radius:8px;color:#fff;font-weight:600;font-size:16px;cursor:pointer;box-shadow:0 4px 15px #3b82f666;transition:all .3s;margin-top:10px}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){filter:brightness(1.1);transform:translateY(-2px);box-shadow:0 6px 20px #3b82f699}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.error-msg[_ngcontent-%COMP%]{color:#ef4444;font-size:14px;margin-bottom:15px;text-align:center}.footer-links[_ngcontent-%COMP%]{text-align:center;margin-top:20px;font-size:14px;color:var(--text-secondary)}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none;font-weight:600}.social-login[_ngcontent-%COMP%]{margin-top:25px;text-align:center}.social-login[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-muted);font-size:12px;margin-bottom:15px;position:relative}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:15px}.social-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:var(--bg-glass);border:1px solid var(--border-glass);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background .2s}.social-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.loader[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid #fff;border-bottom-color:transparent;border-radius:50%;display:inline-block;animation:_ngcontent-%COMP%_rotation 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return g})();export{oe as RegisterComponent};
