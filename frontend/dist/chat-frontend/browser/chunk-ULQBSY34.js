import{a as st,b as ct,c as lt,f as dt,h as pt,i as mt,j as gt,n as ht,o as _t}from"./chunk-4DV72Q7C.js";import{$ as tt,F as N,Fa as ot,G as $e,H as d,I as F,Ja as rt,Ka as $,La as at,M as et,O as v,Q as _,R as se,S as E,T as r,U as a,V as g,W as V,X as U,Y as w,Z as h,_ as l,a as ae,aa as K,b as Ke,ba as X,ca as Z,d as Jt,da as ve,e as R,ea as c,f as z,fa as P,ga as T,h as Xe,ha as y,ia as S,ja as k,la as Ce,n as J,q as Ze,s as xe,ua as nt,va as we,w as p,wa as be,x as m,xa as ye,y as u,ya as it,z as f}from"./chunk-ZOMM7OCX.js";var D=Object.create(null);D.open="0";D.close="1";D.ping="2";D.pong="3";D.message="4";D.upgrade="5";D.noop="6";var ce=Object.create(null);Object.keys(D).forEach(i=>{ce[D[i]]=i});var le={type:"error",data:"parser error"};var xt=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",vt=typeof ArrayBuffer=="function",Ct=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer,de=({type:i,data:o},e,n)=>xt&&o instanceof Blob?e?n(o):ut(o,n):vt&&(o instanceof ArrayBuffer||Ct(o))?e?n(o):ut(new Blob([o]),n):n(D[i]+(o||"")),ut=(i,o)=>{let e=new FileReader;return e.onload=function(){let n=e.result.split(",")[1];o("b"+(n||""))},e.readAsDataURL(i)};function ft(i){return i instanceof Uint8Array?i:i instanceof ArrayBuffer?new Uint8Array(i):new Uint8Array(i.buffer,i.byteOffset,i.byteLength)}var Ne;function wt(i,o){if(xt&&i.data instanceof Blob)return i.data.arrayBuffer().then(ft).then(o);if(vt&&(i.data instanceof ArrayBuffer||Ct(i.data)))return o(ft(i.data));de(i,!1,e=>{Ne||(Ne=new TextEncoder),o(Ne.encode(e))})}var bt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let i=0;i<bt.length;i++)pe[bt.charCodeAt(i)]=i;var yt=i=>{let o=i.length*.75,e=i.length,n,t=0,s,x,C,b;i[i.length-1]==="="&&(o--,i[i.length-2]==="="&&o--);let A=new ArrayBuffer(o),L=new Uint8Array(A);for(n=0;n<e;n+=4)s=pe[i.charCodeAt(n)],x=pe[i.charCodeAt(n+1)],C=pe[i.charCodeAt(n+2)],b=pe[i.charCodeAt(n+3)],L[t++]=s<<2|x>>4,L[t++]=(x&15)<<4|C>>2,L[t++]=(C&3)<<6|b&63;return A};var Kt=typeof ArrayBuffer=="function",me=(i,o)=>{if(typeof i!="string")return{type:"message",data:St(i,o)};let e=i.charAt(0);return e==="b"?{type:"message",data:Xt(i.substring(1),o)}:ce[e]?i.length>1?{type:ce[e],data:i.substring(1)}:{type:ce[e]}:le},Xt=(i,o)=>{if(Kt){let e=yt(i);return St(e,o)}else return{base64:!0,data:i}},St=(i,o)=>{switch(o){case"blob":return i instanceof Blob?i:new Blob([i]);case"arraybuffer":default:return i instanceof ArrayBuffer?i:i.buffer}};var kt="",Mt=(i,o)=>{let e=i.length,n=new Array(e),t=0;i.forEach((s,x)=>{de(s,!1,C=>{n[x]=C,++t===e&&o(n.join(kt))})})},Pt=(i,o)=>{let e=i.split(kt),n=[];for(let t=0;t<e.length;t++){let s=me(e[t],o);if(n.push(s),s.type==="error")break}return n};function Et(){return new TransformStream({transform(i,o){wt(i,e=>{let n=e.length,t;if(n<126)t=new Uint8Array(1),new DataView(t.buffer).setUint8(0,n);else if(n<65536){t=new Uint8Array(3);let s=new DataView(t.buffer);s.setUint8(0,126),s.setUint16(1,n)}else{t=new Uint8Array(9);let s=new DataView(t.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(n))}i.data&&typeof i.data!="string"&&(t[0]|=128),o.enqueue(t),o.enqueue(e)})}})}var Be;function Se(i){return i.reduce((o,e)=>o+e.length,0)}function ke(i,o){if(i[0].length===o)return i.shift();let e=new Uint8Array(o),n=0;for(let t=0;t<o;t++)e[t]=i[0][n++],n===i[0].length&&(i.shift(),n=0);return i.length&&n<i[0].length&&(i[0]=i[0].slice(n)),e}function Ot(i,o){Be||(Be=new TextDecoder);let e=[],n=0,t=-1,s=!1;return new TransformStream({transform(x,C){for(e.push(x);;){if(n===0){if(Se(e)<1)break;let b=ke(e,1);s=(b[0]&128)===128,t=b[0]&127,t<126?n=3:t===126?n=1:n=2}else if(n===1){if(Se(e)<2)break;let b=ke(e,2);t=new DataView(b.buffer,b.byteOffset,b.length).getUint16(0),n=3}else if(n===2){if(Se(e)<8)break;let b=ke(e,8),A=new DataView(b.buffer,b.byteOffset,b.length),L=A.getUint32(0);if(L>Math.pow(2,21)-1){C.enqueue(le);break}t=L*Math.pow(2,32)+A.getUint32(4),n=3}else{if(Se(e)<t)break;let b=ke(e,t);C.enqueue(me(s?b:Be.decode(b),o)),n=0}if(t===0||t>i){C.enqueue(le);break}}}})}var ze=4;function O(i){if(i)return Zt(i)}function Zt(i){for(var o in O.prototype)i[o]=O.prototype[o];return i}O.prototype.on=O.prototype.addEventListener=function(i,o){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(o),this};O.prototype.once=function(i,o){function e(){this.off(i,e),o.apply(this,arguments)}return e.fn=o,this.on(i,e),this};O.prototype.off=O.prototype.removeListener=O.prototype.removeAllListeners=O.prototype.removeEventListener=function(i,o){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var e=this._callbacks["$"+i];if(!e)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var n,t=0;t<e.length;t++)if(n=e[t],n===o||n.fn===o){e.splice(t,1);break}return e.length===0&&delete this._callbacks["$"+i],this};O.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var o=new Array(arguments.length-1),e=this._callbacks["$"+i],n=1;n<arguments.length;n++)o[n-1]=arguments[n];if(e){e=e.slice(0);for(var n=0,t=e.length;n<t;++n)e[n].apply(this,o)}return this};O.prototype.emitReserved=O.prototype.emit;O.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]};O.prototype.hasListeners=function(i){return!!this.listeners(i).length};var W=typeof Promise=="function"&&typeof Promise.resolve=="function"?o=>Promise.resolve().then(o):(o,e)=>e(o,0),I=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Tt="arraybuffer";function Me(i,...o){return o.reduce((e,n)=>(i.hasOwnProperty(n)&&(e[n]=i[n]),e),{})}var $t=I.setTimeout,en=I.clearTimeout;function H(i,o){o.useNativeTimers?(i.setTimeoutFn=$t.bind(I),i.clearTimeoutFn=en.bind(I)):(i.setTimeoutFn=I.setTimeout.bind(I),i.clearTimeoutFn=I.clearTimeout.bind(I))}var tn=1.33;function Vt(i){return typeof i=="string"?nn(i):Math.ceil((i.byteLength||i.size)*tn)}function nn(i){let o=0,e=0;for(let n=0,t=i.length;n<t;n++)o=i.charCodeAt(n),o<128?e+=1:o<2048?e+=2:o<55296||o>=57344?e+=3:(n++,e+=4);return e}function Pe(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Ut(i){let o="";for(let e in i)i.hasOwnProperty(e)&&(o.length&&(o+="&"),o+=encodeURIComponent(e)+"="+encodeURIComponent(i[e]));return o}function It(i){let o={},e=i.split("&");for(let n=0,t=e.length;n<t;n++){let s=e[n].split("=");o[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return o}var Ee=class extends Error{constructor(o,e,n){super(o),this.description=e,this.context=n,this.type="TransportError"}},j=class extends O{constructor(o){super(),this.writable=!1,H(this,o),this.opts=o,this.query=o.query,this.socket=o.socket,this.supportsBinary=!o.forceBase64}onError(o,e,n){return super.emitReserved("error",new Ee(o,e,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(o){this.readyState==="open"&&this.write(o)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(o){let e=me(o,this.socket.binaryType);this.onPacket(e)}onPacket(o){super.emitReserved("packet",o)}onClose(o){this.readyState="closed",super.emitReserved("close",o)}pause(o){}createUri(o,e={}){return o+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){let o=this.opts.hostname;return o.indexOf(":")===-1?o:"["+o+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(o){let e=Ut(o);return e.length?"?"+e:""}};var ge=class extends j{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(o){this.readyState="pausing";let e=()=>{this.readyState="paused",o()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||e()})),this.writable||(n++,this.once("drain",function(){--n||e()}))}else e()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(o){let e=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};Pt(o,this.socket.binaryType).forEach(e),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let o=()=>{this.write([{type:"close"}])};this.readyState==="open"?o():this.once("open",o)}write(o){this.writable=!1,Mt(o,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let o=this.opts.secure?"https":"http",e=this.query||{};return this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=Pe()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.createUri(o,e)}};var At=!1;try{At=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var Lt=At;function on(){}var De=class extends ge{constructor(o){if(super(o),typeof location<"u"){let e=location.protocol==="https:",n=location.port;n||(n=e?"443":"80"),this.xd=typeof location<"u"&&o.hostname!==location.hostname||n!==o.port}}doWrite(o,e){let n=this.request({method:"POST",data:o});n.on("success",e),n.on("error",(t,s)=>{this.onError("xhr post error",t,s)})}doPoll(){let o=this.request();o.on("data",this.onData.bind(this)),o.on("error",(e,n)=>{this.onError("xhr poll error",e,n)}),this.pollXhr=o}},Oe=(()=>{class i extends O{constructor(e,n,t){super(),this.createRequest=e,H(this,t),this._opts=t,this._method=t.method||"GET",this._uri=n,this._data=t.data!==void 0?t.data:null,this._create()}_create(){var e;let n=Me(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;let t=this._xhr=this.createRequest(n);try{t.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&t.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{t.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(t),"withCredentials"in t&&(t.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(t.timeout=this._opts.requestTimeout),t.onreadystatechange=()=>{var s;t.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(t.getResponseHeader("set-cookie"))),t.readyState===4&&(t.status===200||t.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof t.status=="number"?t.status:0)},0))},t.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=i.requestsCount++,i.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=on,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete i.requests[this._index],this._xhr=null}}_onLoad(){let e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return i.requestsCount=0,i.requests={},i})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Nt);else if(typeof addEventListener=="function"){let i="onpagehide"in I?"pagehide":"unload";addEventListener(i,Nt,!1)}}function Nt(){for(let i in Oe.requests)Oe.requests.hasOwnProperty(i)&&Oe.requests[i].abort()}var rn=function(){let i=Bt({xdomain:!1});return i&&i.responseType!==null}(),q=class extends De{constructor(o){super(o);let e=o&&o.forceBase64;this.supportsBinary=rn&&!e}request(o={}){return Object.assign(o,{xd:this.xd},this.opts),new Oe(Bt,this.uri(),o)}};function Bt(i){let o=i.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!o||Lt))return new XMLHttpRequest}catch{}if(!o)try{return new I[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var zt=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",Fe=class extends j{get name(){return"websocket"}doOpen(){let o=this.uri(),e=this.opts.protocols,n=zt?{}:Me(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(o,e,n)}catch(t){return this.emitReserved("error",t)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=o=>this.onClose({description:"websocket connection closed",context:o}),this.ws.onmessage=o=>this.onData(o.data),this.ws.onerror=o=>this.onError("websocket error",o)}write(o){this.writable=!1;for(let e=0;e<o.length;e++){let n=o[e],t=e===o.length-1;de(n,this.supportsBinary,s=>{try{this.doWrite(n,s)}catch{}t&&W(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let o=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=Pe()),this.supportsBinary||(e.b64=1),this.createUri(o,e)}},Re=I.WebSocket||I.MozWebSocket,Q=class extends Fe{createSocket(o,e,n){return zt?new Re(o,e,n):e?new Re(o,e):new Re(o)}doWrite(o,e){this.ws.send(e)}};var ee=class extends j{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(o){return this.emitReserved("error",o)}this._transport.closed.then(()=>{this.onClose()}).catch(o=>{this.onError("webtransport error",o)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(o=>{let e=Ot(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=o.readable.pipeThrough(e).getReader(),t=Et();t.readable.pipeTo(o.writable),this._writer=t.writable.getWriter();let s=()=>{n.read().then(({done:C,value:b})=>{C||(this.onPacket(b),s())}).catch(C=>{})};s();let x={type:"open"};this.query.sid&&(x.data=`{"sid":"${this.query.sid}"}`),this._writer.write(x).then(()=>this.onOpen())})})}write(o){this.writable=!1;for(let e=0;e<o.length;e++){let n=o[e],t=e===o.length-1;this._writer.write(n).then(()=>{t&&W(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var o;(o=this._transport)===null||o===void 0||o.close()}};var We={websocket:Q,webtransport:ee,polling:q};var an=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,sn=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function te(i){if(i.length>8e3)throw"URI too long";let o=i,e=i.indexOf("["),n=i.indexOf("]");e!=-1&&n!=-1&&(i=i.substring(0,e)+i.substring(e,n).replace(/:/g,";")+i.substring(n,i.length));let t=an.exec(i||""),s={},x=14;for(;x--;)s[sn[x]]=t[x]||"";return e!=-1&&n!=-1&&(s.source=o,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=cn(s,s.path),s.queryKey=ln(s,s.query),s}function cn(i,o){let e=/\/{2,9}/g,n=o.replace(e,"/").split("/");return(o.slice(0,1)=="/"||o.length===0)&&n.splice(0,1),o.slice(-1)=="/"&&n.splice(n.length-1,1),n}function ln(i,o){let e={};return o.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,t,s){t&&(e[t]=s)}),e}var He=typeof addEventListener=="function"&&typeof removeEventListener=="function",Te=[];He&&addEventListener("offline",()=>{Te.forEach(i=>i())},!1);var Ve=(()=>{class i extends O{constructor(e,n){if(super(),this.binaryType=Tt,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){let t=te(e);n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)}else n.host&&(n.hostname=te(n.host).host);H(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(t=>{let s=t.prototype.name;this.transports.push(s),this._transportsByName[s]=t}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=It(this.opts.query)),He&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Te.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){let n=Object.assign({},this.opts.query);n.EIO=ze,n.transport=e,this.id&&(n.sid=this.id);let t=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](t)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let e=this.opts.rememberUpgrade&&i.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",i.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let t=0;t<this.writeBuffer.length;t++){let s=this.writeBuffer[t].data;if(s&&(n+=Vt(s)),t>0&&n>this._maxPayload)return this.writeBuffer.slice(0,t);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,W(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,t){return this._sendPacket("message",e,n,t),this}send(e,n,t){return this._sendPacket("message",e,n,t),this}_sendPacket(e,n,t,s){if(typeof n=="function"&&(s=n,n=void 0),typeof t=="function"&&(s=t,t=null),this.readyState==="closing"||this.readyState==="closed")return;t=t||{},t.compress=t.compress!==!1;let x={type:e,data:n,options:t};this.emitReserved("packetCreate",x),this.writeBuffer.push(x),s&&this.once("flush",s),this.flush()}close(){let e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},t=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?t():e()}):this.upgrading?t():e()),this}_onError(e){if(i.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),He&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let t=Te.indexOf(this._offlineEventListener);t!==-1&&Te.splice(t,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}return i.protocol=ze,i})(),Ue=class extends Ve{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let o=0;o<this._upgrades.length;o++)this._probe(this._upgrades[o])}_probe(o){let e=this.createTransport(o),n=!1;Ve.priorWebsocketSuccess=!1;let t=()=>{n||(e.send([{type:"ping",data:"probe"}]),e.once("packet",G=>{if(!n)if(G.type==="pong"&&G.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;Ve.priorWebsocketSuccess=e.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(L(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{let re=new Error("probe error");re.transport=e.name,this.emitReserved("upgradeError",re)}}))};function s(){n||(n=!0,L(),e.close(),e=null)}let x=G=>{let re=new Error("probe error: "+G);re.transport=e.name,s(),this.emitReserved("upgradeError",re)};function C(){x("transport closed")}function b(){x("socket closed")}function A(G){e&&G.name!==e.name&&s()}let L=()=>{e.removeListener("open",t),e.removeListener("error",x),e.removeListener("close",C),this.off("close",b),this.off("upgrading",A)};e.once("open",t),e.once("error",x),e.once("close",C),this.once("close",b),this.once("upgrading",A),this._upgrades.indexOf("webtransport")!==-1&&o!=="webtransport"?this.setTimeoutFn(()=>{n||e.open()},200):e.open()}onHandshake(o){this._upgrades=this._filterUpgrades(o.upgrades),super.onHandshake(o)}_filterUpgrades(o){let e=[];for(let n=0;n<o.length;n++)~this.transports.indexOf(o[n])&&e.push(o[n]);return e}},ne=class extends Ue{constructor(o,e={}){let n=typeof o=="object"?o:e;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(t=>We[t]).filter(t=>!!t)),super(o,n)}};var Mr=ne.protocol;function Dt(i,o="",e){let n=i;e=e||typeof location<"u"&&location,i==null&&(i=e.protocol+"//"+e.host),typeof i=="string"&&(i.charAt(0)==="/"&&(i.charAt(1)==="/"?i=e.protocol+i:i=e.host+i),/^(https?|wss?):\/\//.test(i)||(typeof e<"u"?i=e.protocol+"//"+i:i="https://"+i),n=te(i)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";let s=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port+o,n.href=n.protocol+"://"+s+(e&&e.port===n.port?"":":"+n.port),n}var Je={};Jt(Je,{Decoder:()=>Qe,Encoder:()=>qe,PacketType:()=>M,isPacketValid:()=>vn,protocol:()=>jt});var pn=typeof ArrayBuffer=="function",mn=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i.buffer instanceof ArrayBuffer,Rt=Object.prototype.toString,gn=typeof Blob=="function"||typeof Blob<"u"&&Rt.call(Blob)==="[object BlobConstructor]",hn=typeof File=="function"||typeof File<"u"&&Rt.call(File)==="[object FileConstructor]";function _e(i){return pn&&(i instanceof ArrayBuffer||mn(i))||gn&&i instanceof Blob||hn&&i instanceof File}function he(i,o){if(!i||typeof i!="object")return!1;if(Array.isArray(i)){for(let e=0,n=i.length;e<n;e++)if(he(i[e]))return!0;return!1}if(_e(i))return!0;if(i.toJSON&&typeof i.toJSON=="function"&&arguments.length===1)return he(i.toJSON(),!0);for(let e in i)if(Object.prototype.hasOwnProperty.call(i,e)&&he(i[e]))return!0;return!1}function Ft(i){let o=[],e=i.data,n=i;return n.data=je(e,o),n.attachments=o.length,{packet:n,buffers:o}}function je(i,o){if(!i)return i;if(_e(i)){let e={_placeholder:!0,num:o.length};return o.push(i),e}else if(Array.isArray(i)){let e=new Array(i.length);for(let n=0;n<i.length;n++)e[n]=je(i[n],o);return e}else if(typeof i=="object"&&!(i instanceof Date)){let e={};for(let n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=je(i[n],o));return e}return i}function Wt(i,o){return i.data=Ge(i.data,o),delete i.attachments,i}function Ge(i,o){if(!i)return i;if(i&&i._placeholder===!0){if(typeof i.num=="number"&&i.num>=0&&i.num<o.length)return o[i.num];throw new Error("illegal attachments")}else if(Array.isArray(i))for(let e=0;e<i.length;e++)i[e]=Ge(i[e],o);else if(typeof i=="object")for(let e in i)Object.prototype.hasOwnProperty.call(i,e)&&(i[e]=Ge(i[e],o));return i}var Ht=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],jt=5,M=function(i){return i[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK",i}(M||{}),qe=class{constructor(o){this.replacer=o}encode(o){return(o.type===M.EVENT||o.type===M.ACK)&&he(o)?this.encodeAsBinary({type:o.type===M.EVENT?M.BINARY_EVENT:M.BINARY_ACK,nsp:o.nsp,data:o.data,id:o.id}):[this.encodeAsString(o)]}encodeAsString(o){let e=""+o.type;return(o.type===M.BINARY_EVENT||o.type===M.BINARY_ACK)&&(e+=o.attachments+"-"),o.nsp&&o.nsp!=="/"&&(e+=o.nsp+","),o.id!=null&&(e+=o.id),o.data!=null&&(e+=JSON.stringify(o.data,this.replacer)),e}encodeAsBinary(o){let e=Ft(o),n=this.encodeAsString(e.packet),t=e.buffers;return t.unshift(n),t}},Qe=class i extends O{constructor(o){super(),this.reviver=o}add(o){let e;if(typeof o=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(o);let n=e.type===M.BINARY_EVENT;n||e.type===M.BINARY_ACK?(e.type=n?M.EVENT:M.ACK,this.reconstructor=new Ye(e),e.attachments===0&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else if(_e(o)||o.base64)if(this.reconstructor)e=this.reconstructor.takeBinaryData(o),e&&(this.reconstructor=null,super.emitReserved("decoded",e));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+o)}decodeString(o){let e=0,n={type:Number(o.charAt(0))};if(M[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===M.BINARY_EVENT||n.type===M.BINARY_ACK){let s=e+1;for(;o.charAt(++e)!=="-"&&e!=o.length;);let x=o.substring(s,e);if(x!=Number(x)||o.charAt(e)!=="-")throw new Error("Illegal attachments");n.attachments=Number(x)}if(o.charAt(e+1)==="/"){let s=e+1;for(;++e&&!(o.charAt(e)===","||e===o.length););n.nsp=o.substring(s,e)}else n.nsp="/";let t=o.charAt(e+1);if(t!==""&&Number(t)==t){let s=e+1;for(;++e;){let x=o.charAt(e);if(x==null||Number(x)!=x){--e;break}if(e===o.length)break}n.id=Number(o.substring(s,e+1))}if(o.charAt(++e)){let s=this.tryParse(o.substr(e));if(i.isPayloadValid(n.type,s))n.data=s;else throw new Error("invalid payload")}return n}tryParse(o){try{return JSON.parse(o,this.reviver)}catch{return!1}}static isPayloadValid(o,e){switch(o){case M.CONNECT:return Ie(e);case M.DISCONNECT:return e===void 0;case M.CONNECT_ERROR:return typeof e=="string"||Ie(e);case M.EVENT:case M.BINARY_EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&Ht.indexOf(e[0])===-1);case M.ACK:case M.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},Ye=class{constructor(o){this.packet=o,this.buffers=[],this.reconPack=o}takeBinaryData(o){if(this.buffers.push(o),this.buffers.length===this.reconPack.attachments){let e=Wt(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function _n(i){return typeof i=="string"}var un=Number.isInteger||function(i){return typeof i=="number"&&isFinite(i)&&Math.floor(i)===i};function fn(i){return i===void 0||un(i)}function Ie(i){return Object.prototype.toString.call(i)==="[object Object]"}function xn(i,o){switch(i){case M.CONNECT:return o===void 0||Ie(o);case M.DISCONNECT:return o===void 0;case M.EVENT:return Array.isArray(o)&&(typeof o[0]=="number"||typeof o[0]=="string"&&Ht.indexOf(o[0])===-1);case M.ACK:return Array.isArray(o);case M.CONNECT_ERROR:return typeof o=="string"||Ie(o);default:return!1}}function vn(i){return _n(i.nsp)&&fn(i.id)&&xn(i.type,i.data)}function B(i,o,e){return i.on(o,e),function(){i.off(o,e)}}var Cn=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),ie=class extends O{constructor(o,e,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=o,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let o=this.io;this.subs=[B(o,"open",this.onopen.bind(this)),B(o,"packet",this.onpacket.bind(this)),B(o,"error",this.onerror.bind(this)),B(o,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...o){return o.unshift("message"),this.emit.apply(this,o),this}emit(o,...e){var n,t,s;if(Cn.hasOwnProperty(o))throw new Error('"'+o.toString()+'" is a reserved event name');if(e.unshift(o),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;let x={type:M.EVENT,data:e};if(x.options={},x.options.compress=this.flags.compress!==!1,typeof e[e.length-1]=="function"){let L=this.ids++,G=e.pop();this._registerAckCallback(L,G),x.id=L}let C=(t=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||t===void 0?void 0:t.writable,b=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!C||(b?(this.notifyOutgoingListeners(x),this.packet(x)):this.sendBuffer.push(x)),this.flags={},this}_registerAckCallback(o,e){var n;let t=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(t===void 0){this.acks[o]=e;return}let s=this.io.setTimeoutFn(()=>{delete this.acks[o];for(let C=0;C<this.sendBuffer.length;C++)this.sendBuffer[C].id===o&&this.sendBuffer.splice(C,1);e.call(this,new Error("operation has timed out"))},t),x=(...C)=>{this.io.clearTimeoutFn(s),e.apply(this,C)};x.withError=!0,this.acks[o]=x}emitWithAck(o,...e){return new Promise((n,t)=>{let s=(x,C)=>x?t(x):n(C);s.withError=!0,e.push(s),this.emit(o,...e)})}_addToQueue(o){let e;typeof o[o.length-1]=="function"&&(e=o.pop());let n={id:this._queueSeq++,tryCount:0,pending:!1,args:o,flags:Object.assign({fromQueue:!0},this.flags)};o.push((t,...s)=>(this._queue[0],t!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(t)):(this._queue.shift(),e&&e(null,...s)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(o=!1){if(!this.connected||this._queue.length===0)return;let e=this._queue[0];e.pending&&!o||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(o){o.nsp=this.nsp,this.io._packet(o)}onopen(){typeof this.auth=="function"?this.auth(o=>{this._sendConnectPacket(o)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(o){this.packet({type:M.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},o):o})}onerror(o){this.connected||this.emitReserved("connect_error",o)}onclose(o,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",o,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(o=>{if(!this.sendBuffer.some(n=>String(n.id)===o)){let n=this.acks[o];delete this.acks[o],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(o){if(o.nsp===this.nsp)switch(o.type){case M.CONNECT:o.data&&o.data.sid?this.onconnect(o.data.sid,o.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case M.EVENT:case M.BINARY_EVENT:this.onevent(o);break;case M.ACK:case M.BINARY_ACK:this.onack(o);break;case M.DISCONNECT:this.ondisconnect();break;case M.CONNECT_ERROR:this.destroy();let n=new Error(o.data.message);n.data=o.data.data,this.emitReserved("connect_error",n);break}}onevent(o){let e=o.data||[];o.id!=null&&e.push(this.ack(o.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(o){if(this._anyListeners&&this._anyListeners.length){let e=this._anyListeners.slice();for(let n of e)n.apply(this,o)}super.emit.apply(this,o),this._pid&&o.length&&typeof o[o.length-1]=="string"&&(this._lastOffset=o[o.length-1])}ack(o){let e=this,n=!1;return function(...t){n||(n=!0,e.packet({type:M.ACK,id:o,data:t}))}}onack(o){let e=this.acks[o.id];typeof e=="function"&&(delete this.acks[o.id],e.withError&&o.data.unshift(null),e.apply(this,o.data))}onconnect(o,e){this.id=o,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(o=>this.emitEvent(o)),this.receiveBuffer=[],this.sendBuffer.forEach(o=>{this.notifyOutgoingListeners(o),this.packet(o)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(o=>o()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:M.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(o){return this.flags.compress=o,this}get volatile(){return this.flags.volatile=!0,this}timeout(o){return this.flags.timeout=o,this}onAny(o){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(o),this}prependAny(o){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(o),this}offAny(o){if(!this._anyListeners)return this;if(o){let e=this._anyListeners;for(let n=0;n<e.length;n++)if(o===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(o){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(o),this}prependAnyOutgoing(o){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(o),this}offAnyOutgoing(o){if(!this._anyOutgoingListeners)return this;if(o){let e=this._anyOutgoingListeners;for(let n=0;n<e.length;n++)if(o===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(o){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let e=this._anyOutgoingListeners.slice();for(let n of e)n.apply(this,o.data)}}};function Y(i){i=i||{},this.ms=i.min||100,this.max=i.max||1e4,this.factor=i.factor||2,this.jitter=i.jitter>0&&i.jitter<=1?i.jitter:0,this.attempts=0}Y.prototype.duration=function(){var i=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var o=Math.random(),e=Math.floor(o*this.jitter*i);i=Math.floor(o*10)&1?i+e:i-e}return Math.min(i,this.max)|0};Y.prototype.reset=function(){this.attempts=0};Y.prototype.setMin=function(i){this.ms=i};Y.prototype.setMax=function(i){this.max=i};Y.prototype.setJitter=function(i){this.jitter=i};var oe=class extends O{constructor(o,e){var n;super(),this.nsps={},this.subs=[],o&&typeof o=="object"&&(e=o,o=void 0),e=e||{},e.path=e.path||"/socket.io",this.opts=e,H(this,e),this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor((n=e.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Y({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(e.timeout==null?2e4:e.timeout),this._readyState="closed",this.uri=o;let t=e.parser||Je;this.encoder=new t.Encoder,this.decoder=new t.Decoder,this._autoConnect=e.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(o){return arguments.length?(this._reconnection=!!o,o||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(o){return o===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=o,this)}reconnectionDelay(o){var e;return o===void 0?this._reconnectionDelay:(this._reconnectionDelay=o,(e=this.backoff)===null||e===void 0||e.setMin(o),this)}randomizationFactor(o){var e;return o===void 0?this._randomizationFactor:(this._randomizationFactor=o,(e=this.backoff)===null||e===void 0||e.setJitter(o),this)}reconnectionDelayMax(o){var e;return o===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=o,(e=this.backoff)===null||e===void 0||e.setMax(o),this)}timeout(o){return arguments.length?(this._timeout=o,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(o){if(~this._readyState.indexOf("open"))return this;this.engine=new ne(this.uri,this.opts);let e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;let t=B(e,"open",function(){n.onopen(),o&&o()}),s=C=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",C),o?o(C):this.maybeReconnectOnOpen()},x=B(e,"error",s);if(this._timeout!==!1){let C=this._timeout,b=this.setTimeoutFn(()=>{t(),s(new Error("timeout")),e.close()},C);this.opts.autoUnref&&b.unref(),this.subs.push(()=>{this.clearTimeoutFn(b)})}return this.subs.push(t),this.subs.push(x),this}connect(o){return this.open(o)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let o=this.engine;this.subs.push(B(o,"ping",this.onping.bind(this)),B(o,"data",this.ondata.bind(this)),B(o,"error",this.onerror.bind(this)),B(o,"close",this.onclose.bind(this)),B(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(o){try{this.decoder.add(o)}catch(e){this.onclose("parse error",e)}}ondecoded(o){W(()=>{this.emitReserved("packet",o)},this.setTimeoutFn)}onerror(o){this.emitReserved("error",o)}socket(o,e){let n=this.nsps[o];return n?this._autoConnect&&!n.active&&n.connect():(n=new ie(this,o,e),this.nsps[o]=n),n}_destroy(o){let e=Object.keys(this.nsps);for(let n of e)if(this.nsps[n].active)return;this._close()}_packet(o){let e=this.encoder.encode(o);for(let n=0;n<e.length;n++)this.engine.write(e[n],o.options)}cleanup(){this.subs.forEach(o=>o()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(o,e){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",o,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let o=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let e=this.backoff.duration();this._reconnecting=!0;let n=this.setTimeoutFn(()=>{o.skipReconnect||(this.emitReserved("reconnect_attempt",o.backoff.attempts),!o.skipReconnect&&o.open(t=>{t?(o._reconnecting=!1,o.reconnect(),this.emitReserved("reconnect_error",t)):o.onreconnect()}))},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){let o=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",o)}};var ue={};function fe(i,o){typeof i=="object"&&(o=i,i=void 0),o=o||{};let e=Dt(i,o.path||"/socket.io"),n=e.source,t=e.id,s=e.path,x=ue[t]&&s in ue[t].nsps,C=o.forceNew||o["force new connection"]||o.multiplex===!1||x,b;return C?b=new oe(n,o):(ue[t]||(ue[t]=new oe(n,o)),b=ue[t]),e.query&&!o.query&&(o.query=e.queryKey),b.socket(e.path,o)}Object.assign(fe,{Manager:oe,Socket:ie,io:fe,connect:fe});var Le=(()=>{class i{socket=null;onlineUsersSubject=new Xe([]);onlineUsers$=this.onlineUsersSubject.asObservable();constructor(){}connect(e){this.socket?.connected||(this.socket=fe($.socketUrl,{transports:["websocket","polling"],autoConnect:!0}),this.socket.on("connect",()=>{console.log("Socket connected:",this.socket?.id),this.socket?.emit("join-user",e)}),this.socket.on("online-users",n=>{this.onlineUsersSubject.next(n)}),this.socket.on("user-status-change",n=>{let t=this.onlineUsersSubject.value;n.isOnline?t.includes(n.userId)||this.onlineUsersSubject.next([...t,n.userId]):this.onlineUsersSubject.next(t.filter(s=>s!==n.userId))}),this.socket.on("disconnect",()=>{console.log("Socket disconnected")}))}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null)}sendMessage(e){this.socket?.emit("send-message",e)}onMessageSent(){return new z(e=>{this.socket?.on("message-sent",n=>{e.next(n)})})}onReceiveMessage(){return new z(e=>{this.socket?.on("receive-message",n=>{e.next(n)})})}sendTyping(e){this.socket?.emit("typing",e)}onUserTyping(){return new z(e=>{this.socket?.on("user-typing",n=>{e.next(n)})})}markMessagesSeen(e,n,t){this.socket?.emit("message-seen",{messageIds:e,senderId:n,seenBy:t})}onMessagesSeen(){return new z(e=>{this.socket?.on("messages-seen",n=>{e.next(n)})})}onMessageDelivered(){return new z(e=>{this.socket?.on("message-delivered",n=>{e.next(n)})})}callUser(e){this.socket?.emit("call-user",e)}onCallMade(){return new z(e=>{this.socket?.on("call-made",n=>{e.next(n)})})}answerCall(e){this.socket?.emit("make-answer",e)}onAnswerMade(){return new z(e=>{this.socket?.on("answer-made",n=>{e.next(n)})})}sendIceCandidate(e){this.socket?.emit("ice-candidate",{to:e.target,candidate:e.candidate})}onIceCandidate(){return new z(e=>{this.socket?.on("ice-candidate-received",n=>{e.next(n)})})}rejectCall(e){this.socket?.emit("reject-call",e)}onCallRejected(){return new z(e=>{this.socket?.on("call-rejected",n=>{e.next(n)})})}endCall(e){this.socket?.emit("end-call",e)}onCallEnded(){return new z(e=>{this.socket?.on("call-ended",()=>{e.next()})})}emitCallLog(e){this.socket?.emit("call-log",e)}isUserOnline(e){return this.onlineUsersSubject.value.includes(e)}isConnected(){return!!this.socket?.connected}static \u0275fac=function(n){return new(n||i)};static \u0275prov=J({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var bn=["localVideo"],yn=["remoteVideo"];function Sn(i,o){if(i&1){let e=w();r(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),c(4),a()(),r(5,"h3"),c(6),a(),r(7,"p"),c(8,"Incoming Video Call..."),a()(),r(9,"div",10)(10,"button",11),h("click",function(){p(e);let t=l(2);return m(t.declineCall())}),u(),r(11,"svg",12),g(12,"line",13)(13,"line",14),a(),c(14," Decline "),a(),f(),r(15,"button",15),h("click",function(){p(e);let t=l(2);return m(t.acceptCall())}),u(),r(16,"svg",12),g(17,"path",16),a(),c(18," Answer "),a()()()}if(i&2){let e=l(2);d(4),T(" ",e.callerName.charAt(0).toUpperCase()," "),d(2),P(e.callerName)}}function kn(i,o){i&1&&(V(0),g(1,"video",26,0)(3,"video",27,1),U())}function Mn(i,o){if(i&1&&(r(0,"div",28)(1,"div",29)(2,"div",30),c(3),a()(),r(4,"h3"),c(5),a(),r(6,"p"),c(7,"Voice Call"),a(),g(8,"audio",31,0),a()),i&2){let e=l(3);d(3),T(" ",e.callerName.charAt(0).toUpperCase()," "),d(2),P(e.callerName)}}function Pn(i,o){i&1&&(u(),r(0,"svg",12),g(1,"path",32)(2,"path",33)(3,"line",34)(4,"line",35),a())}function En(i,o){i&1&&(u(),r(0,"svg",12),g(1,"line",36)(2,"path",37)(3,"path",38)(4,"line",34)(5,"line",35),a())}function On(i,o){i&1&&(u(),r(0,"svg",12),g(1,"polygon",39)(2,"rect",40),a())}function Tn(i,o){i&1&&(u(),r(0,"svg",12),g(1,"path",41)(2,"line",36),a())}function Vn(i,o){if(i&1){let e=w();r(0,"div",17),v(1,kn,5,0,"ng-container",18)(2,Mn,10,2,"div",19),r(3,"div",20)(4,"button",21),h("click",function(){p(e);let t=l(2);return m(t.toggleAudio())}),v(5,Pn,5,0,"svg",22)(6,En,6,0,"svg",22),a(),r(7,"button",23),h("click",function(){p(e);let t=l(2);return m(t.hangup())}),u(),r(8,"svg",24),g(9,"path",25),a()(),f(),r(10,"button",21),h("click",function(){p(e);let t=l(2);return m(t.toggleVideo())}),v(11,On,3,0,"svg",22)(12,Tn,3,0,"svg",22),a()()()}if(i&2){let e=l(2);d(),_("ngIf",e.callType==="video"),d(),_("ngIf",e.callType==="audio"),d(2),E("active",!e.audioEnabled),d(),_("ngIf",e.audioEnabled),d(),_("ngIf",!e.audioEnabled),d(4),E("active",!e.videoEnabled),d(),_("ngIf",e.videoEnabled),d(),_("ngIf",!e.videoEnabled)}}function Un(i,o){if(i&1&&(r(0,"div",3),v(1,Sn,19,2,"div",4)(2,Vn,13,10,"div",5),a()),i&2){let e=l();d(),_("ngIf",e.incomingCall&&!e.callActive),d(),_("ngIf",e.callActive)}}var qt=(()=>{class i{socketService;currentUser;localVideo;remoteVideo;callActive=!1;incomingCall=!1;callerName="";callerId="";callerSignal;callType="video";audioEnabled=!0;videoEnabled=!0;peerConnection;localStream;remoteStream;subscriptions=[];rtcConfig={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]};constructor(e){this.socketService=e}ngOnInit(){this.subscriptions.push(this.socketService.onCallMade().subscribe(e=>{this.callActive?this.socketService.rejectCall({to:e.from}):(this.incomingCall=!0,this.callerName=e.name||"Unknown User",this.callerId=e.from,this.callerSignal=e.signal,this.callType=e.callType||"video")}),this.socketService.onAnswerMade().subscribe(e=>R(this,null,function*(){this.peerConnection&&(yield this.peerConnection.setRemoteDescription(new RTCSessionDescription(e.signal)),this.startTime=Date.now())})),this.socketService.onIceCandidate().subscribe(e=>R(this,null,function*(){if(this.peerConnection)try{yield this.peerConnection.addIceCandidate(new RTCIceCandidate(e.candidate))}catch(n){console.error("Error adding received ice candidate",n)}})),this.socketService.onCallRejected().subscribe(()=>{alert("User rejected the call"),this.socketService.emitCallLog({to:this.callerId,type:"missed",callType:this.callType}),this.resetCall()}),this.socketService.onCallEnded().subscribe(()=>{this.resetCall()}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe()),this.resetCall()}startCall(e,n,t="video"){return R(this,null,function*(){this.callActive=!0,this.callerId=e,this.callType=t,yield this.setupMedia(),this.createPeerConnection(e);let s=yield this.peerConnection.createOffer();yield this.peerConnection.setLocalDescription(s),this.socketService.callUser({userToCall:e,signalData:s,from:this.currentUser._id,name:this.currentUser.username,callType:t})})}acceptCall(){return R(this,null,function*(){this.incomingCall=!1,this.callActive=!0,this.startTime=Date.now(),yield this.setupMedia(),this.createPeerConnection(this.callerId),yield this.peerConnection.setRemoteDescription(new RTCSessionDescription(this.callerSignal));let e=yield this.peerConnection.createAnswer();yield this.peerConnection.setLocalDescription(e),this.socketService.answerCall({signal:e,to:this.callerId})})}declineCall(){this.socketService.rejectCall({to:this.callerId}),this.incomingCall=!1,this.resetCall()}hangup(){this.socketService.endCall({to:this.callerId});let e=this.calculateDuration();this.socketService.emitCallLog({to:this.callerId,type:"ended",duration:e,callType:this.callType}),this.resetCall()}toggleAudio(){this.audioEnabled=!this.audioEnabled,this.localStream.getAudioTracks().forEach(e=>e.enabled=this.audioEnabled)}toggleVideo(){this.videoEnabled=!this.videoEnabled,this.localStream.getVideoTracks().forEach(e=>e.enabled=this.videoEnabled)}startTime=null;calculateDuration(){if(!this.startTime)return"0s";let e=Date.now(),n=Math.floor((e-this.startTime)/1e3),t=Math.floor(n/60),s=n%60;return`${t}m ${s}s`}setupMedia(){return R(this,null,function*(){try{let e={audio:!0,video:this.callType==="video"};this.localStream=yield navigator.mediaDevices.getUserMedia(e),this.localVideo&&this.callType==="video"&&(this.localVideo.nativeElement.srcObject=this.localStream)}catch(e){console.error("Error accessing media devices:",e)}})}createPeerConnection(e){this.peerConnection=new RTCPeerConnection(this.rtcConfig),this.localStream.getTracks().forEach(n=>{this.peerConnection.addTrack(n,this.localStream)}),this.peerConnection.ontrack=n=>{this.remoteStream=n.streams[0],this.remoteVideo&&(this.remoteVideo.nativeElement.srcObject=this.remoteStream)},this.peerConnection.onicecandidate=n=>{n.candidate&&this.socketService.sendIceCandidate({target:e,candidate:n.candidate})},this.peerConnection.onconnectionstatechange=()=>{console.log("Connection state:",this.peerConnection.connectionState),(this.peerConnection.connectionState==="disconnected"||this.peerConnection.connectionState==="failed")&&this.resetCall()}}resetCall(){this.callActive=!1,this.incomingCall=!1,this.callerId="",this.callerName="",this.localStream&&this.localStream.getTracks().forEach(e=>e.stop()),this.peerConnection&&this.peerConnection.close()}static \u0275fac=function(n){return new(n||i)(F(Le))};static \u0275cmp=xe({type:i,selectors:[["app-call-modal"]],viewQuery:function(n,t){if(n&1&&(K(bn,5),K(yn,5)),n&2){let s;X(s=Z())&&(t.localVideo=s.first),X(s=Z())&&(t.remoteVideo=s.first)}},inputs:{currentUser:"currentUser"},standalone:!0,features:[Ce],decls:1,vars:1,consts:[["remoteVideo",""],["localVideo",""],["class","call-overlay",4,"ngIf"],[1,"call-overlay"],["class","incoming-call-modal animate-scale-in",4,"ngIf"],["class","active-call-container animate-fade-in",4,"ngIf"],[1,"incoming-call-modal","animate-scale-in"],[1,"caller-info"],[1,"avatar-ring"],[1,"avatar"],[1,"call-actions"],[1,"btn-decline",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"btn-answer",3,"click"],["d","M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"],[1,"active-call-container","animate-fade-in"],[4,"ngIf"],["class","audio-call-ui",4,"ngIf"],[1,"call-controls"],[1,"control-btn",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",4,"ngIf"],[1,"control-btn","hangup-btn",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","currentColor","stroke","none"],["d","M12 9c-1.6 0-3.15.25-4.6.72v3.1c0 .39-.23.74-.56.9-.98.49-1.87 1.12-2.66 1.85-.18.18-.43.28-.7.28-.28 0-.53-.11-.71-.29L.29 13.08c-.18-.17-.29-.42-.29-.7 0-.28.11-.53.29-.71C3.34 8.78 7.46 7 12 7s8.66 1.78 11.71 4.67c.18.18.29.43.29.71 0 .28-.11.53-.29.71l-2.48 2.48c-.18.18-.43.29-.71.29-.27 0-.52-.11-.7-.28-.79-.74-1.69-1.36-2.67-1.85-.33-.16-.56-.5-.56-.9v-3.1C15.15 9.25 13.6 9 12 9z"],["autoplay","","playsinline","",1,"remote-video"],["autoplay","","playsinline","","muted","",1,"local-video"],[1,"audio-call-ui"],[1,"audio-avatar-ring"],[1,"audio-avatar"],["autoplay",""],["d","M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"],["d","M19 10v2a7 7 0 0 1-14 0v-2"],["x1","12","y1","19","x2","12","y2","23"],["x1","8","y1","23","x2","16","y2","23"],["x1","1","y1","1","x2","23","y2","23"],["d","M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"],["d","M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"],["points","23 7 16 12 23 17 23 7"],["x","1","y","5","width","15","height","14","rx","2","ry","2"],["d","M16 16v1a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2m5.66 0H14a2 2 0 0 1 2 2v3.34l1 1L23 7v10"]],template:function(n,t){n&1&&v(0,Un,3,2,"div",2),n&2&&_("ngIf",t.callActive||t.incomingCall)},dependencies:[be,we],styles:[".call-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000000d9;backdrop-filter:blur(8px);z-index:9999;display:flex;justify-content:center;align-items:center}.incoming-call-modal[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e293b,#0f172a);padding:2.5rem;border-radius:20px;text-align:center;box-shadow:0 10px 40px #00000080;border:1px solid rgba(255,255,255,.1);width:90%;max-width:400px}.avatar-ring[_ngcontent-%COMP%]{width:100px;height:100px;margin:0 auto 1.5rem;border-radius:50%;padding:4px;background:linear-gradient(45deg,#3b82f6,#8b5cf6);animation:_ngcontent-%COMP%_pulse-ring 2s infinite}.avatar[_ngcontent-%COMP%]{width:100%;height:100%;background:#475569;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:2.5rem;color:#fff;font-weight:700;border:4px solid #0f172a}.caller-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;color:#fff;margin-bottom:.5rem}.caller-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#94a3b8;margin-bottom:2rem}.call-actions[_ngcontent-%COMP%]{display:flex;gap:1.5rem;justify-content:center}.btn-answer[_ngcontent-%COMP%], .btn-decline[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border-radius:50px;border:none;font-weight:600;cursor:pointer;transition:transform .2s,filter .2s}.btn-answer[_ngcontent-%COMP%]{background:#22c55e;color:#fff;box-shadow:0 4px 12px #22c55e4d}.btn-decline[_ngcontent-%COMP%]{background:#ef4444;color:#fff;box-shadow:0 4px 12px #ef44444d}.btn-answer[_ngcontent-%COMP%]:hover, .btn-decline[_ngcontent-%COMP%]:hover{transform:translateY(-2px);filter:brightness(1.1)}.active-call-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:#000}.remote-video[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.local-video[_ngcontent-%COMP%]{position:absolute;bottom:30px;right:30px;width:180px;height:240px;background:#1e293b;border-radius:12px;object-fit:cover;box-shadow:0 4px 20px #00000080;border:2px solid rgba(255,255,255,.2);transition:all .3s ease}.local-video[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.call-controls[_ngcontent-%COMP%]{position:absolute;bottom:30px;left:50%;transform:translate(-50%);display:flex;gap:1.5rem;padding:1rem 2rem;background:#0f172a99;backdrop-filter:blur(10px);border-radius:50px;border:1px solid rgba(255,255,255,.1)}.control-btn[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;border:none;background:#ffffff1a;color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s}.control-btn[_ngcontent-%COMP%]:hover{background:#fff3}.control-btn.active[_ngcontent-%COMP%]{background:#fff;color:#000}.hangup-btn[_ngcontent-%COMP%]{background:#ef4444;width:60px;height:60px;transform:translateY(-5px)}.hangup-btn[_ngcontent-%COMP%]:hover{background:#dc2626}@keyframes _ngcontent-%COMP%_pulse-ring{0%{box-shadow:0 0 #8b5cf6b3}70%{box-shadow:0 0 0 15px #8b5cf600}to{box-shadow:0 0 #8b5cf600}}.animate-scale-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scaleIn .3s cubic-bezier(.16,1,.3,1)}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@media (max-width: 768px){.local-video[_ngcontent-%COMP%]{width:100px;height:140px;bottom:120px;right:20px}.call-controls[_ngcontent-%COMP%]{bottom:30px;width:90%;justify-content:space-around;padding:1rem}}.audio-call-ui[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;color:#fff;z-index:2}.audio-avatar-ring[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;padding:5px;background:linear-gradient(45deg,#22c55e,#3b82f6);margin-bottom:2rem;box-shadow:0 0 30px #3b82f680;animation:_ngcontent-%COMP%_pulse-ring 3s infinite}.audio-avatar[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;background:#1e293b;display:flex;align-items:center;justify-content:center;font-size:4rem;font-weight:700;border:4px solid #0f172a}"]})}return i})();var Qt=(()=>{class i{http;apiUrl=$.apiUrl;constructor(e){this.http=e}getUsers(){return this.http.get(`${this.apiUrl}/users`)}getUserById(e){return this.http.get(`${this.apiUrl}/users/${e}`)}getMessages(e){return this.http.get(`${this.apiUrl}/messages/${e}`)}markMessagesAsRead(e){return this.http.put(`${this.apiUrl}/messages/read/${e}`,{})}getUnreadCount(){return this.http.get(`${this.apiUrl}/messages/unread/count`)}uploadFile(e){let n=new FormData;return n.append("file",e),this.http.post(`${this.apiUrl}/messages/upload`,n,{reportProgress:!0,observe:"events"})}static \u0275fac=function(n){return new(n||i)(Ze(it))};static \u0275prov=J({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Yt=(()=>{class i{currentTheme=et("system");mediaQuery;constructor(){this.mediaQuery=window.matchMedia("(prefers-color-scheme: dark)");let e=localStorage.getItem("app-theme");e?this.setTheme(e):this.setTheme("system"),this.mediaQuery.addEventListener("change",n=>{this.currentTheme()==="system"&&this.applyThemeClass(n.matches?"dark":"light")})}setTheme(e){if(this.currentTheme.set(e),localStorage.setItem("app-theme",e),e==="system"){let n=this.mediaQuery.matches;this.applyThemeClass(n?"dark":"light")}else this.applyThemeClass(e)}applyThemeClass(e){document.body.classList.remove("theme-dark","theme-light","theme-midnight","theme-forest"),document.body.classList.add(`theme-${e}`)}getTheme(){return this.currentTheme()}static \u0275fac=function(n){return new(n||i)};static \u0275prov=J({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Ln=["messagesContainer"],Nn=["callModal"];function Bn(i,o){if(i&1&&(r(0,"div",38),c(1),a()),i&2){let e,n=l();d(),T(" ",n.currentUser==null||n.currentUser.username==null||(e=n.currentUser.username.charAt(0))==null?null:e.toUpperCase()," ")}}function zn(i,o){if(i&1){let e=w();r(0,"img",39),h("error",function(){p(e);let t=l();return m(t.onAvatarError())}),a()}if(i&2){let e=l();tt("alt",e.currentUser==null?null:e.currentUser.username),_("src",e.getAvatarUrl(e.currentUser==null?null:e.currentUser.avatar),N)}}function Dn(i,o){if(i&1&&(V(0),c(1),U()),i&2){let e=l().$implicit;d(),T(" ",e.username.charAt(0).toUpperCase()," ")}}function Rn(i,o){if(i&1){let e=w();r(0,"img",47),h("error",function(){p(e);let t=l().$implicit;return m(t.avatar=void 0)}),a()}if(i&2){let e=l().$implicit,n=l();_("src",n.getAvatarUrl(e.avatar),N)}}function Fn(i,o){if(i&1){let e=w();r(0,"div",40),h("click",function(){let t=p(e).$implicit,s=l();return m(s.selectUser(t))}),r(1,"div",41),v(2,Dn,2,1,"ng-container",33)(3,Rn,1,1,"img",42),g(4,"span",43),a(),r(5,"div",44)(6,"div",45),c(7),a(),r(8,"div",46),c(9),a()()()}if(i&2){let e=o.$implicit,n=l();E("active",(n.selectedUser==null?null:n.selectedUser._id)===e._id),d(2),_("ngIf",!e.avatar),d(),_("ngIf",e.avatar),d(),E("online",n.isUserOnline(e._id)),d(3),P(e.fullName||e.username),d(2),P(n.isUserOnline(e._id)?"Online":"Offline")}}function Wn(i,o){i&1&&(r(0,"div",48)(1,"p"),c(2,"No users found"),a(),r(3,"small"),c(4,"Invite friends to chat!"),a()())}function Hn(i,o){i&1&&(r(0,"div",49)(1,"div",50),u(),r(2,"svg",51)(3,"defs")(4,"linearGradient",52),g(5,"stop",53)(6,"stop",54),a()(),g(7,"path",55),a(),f(),r(8,"h2"),c(9,"Chat"),a(),r(10,"p"),c(11,"Select a conversation to start messaging."),a()()())}function jn(i,o){if(i&1&&g(0,"img",91),i&2){let e=l(2);_("src",e.getAvatarUrl(e.selectedUser.avatar),N)}}function Gn(i,o){if(i&1&&(r(0,"span"),c(1),a()),i&2){let e=l(2);d(),P(e.selectedUser.username.charAt(0).toUpperCase())}}function qn(i,o){i&1&&(r(0,"span",92),c(1,"typing..."),a())}function Qn(i,o){i&1&&(r(0,"span"),g(1,"span",93),c(2," Online "),a())}function Yn(i,o){i&1&&(r(0,"span"),c(1,"Offline"),a())}function Jn(i,o){if(i&1&&(r(0,"p",106),c(1),a()),i&2){let e=l().$implicit;d(),P(e.content)}}function Kn(i,o){if(i&1){let e=w();r(0,"img",110),h("click",function(){p(e);let t=l(2).$implicit,s=l(2);return m(s.downloadFile(t.fileUrl))}),a()}if(i&2){let e=l(2).$implicit,n=l(2);_("src",n.getAvatarUrl(e.fileUrl),N)}}function Xn(i,o){if(i&1){let e=w();r(0,"div",111),h("click",function(){p(e);let t=l(2).$implicit,s=l(2);return m(s.downloadMedia(t))}),r(1,"div",112),u(),r(2,"svg",113),g(3,"path",114)(4,"polyline",115)(5,"line",116),a()(),f(),r(6,"span"),c(7,"Photo \u2022 Click to download"),a()()}}function Zn(i,o){if(i&1&&(r(0,"div",107),v(1,Kn,1,1,"img",108)(2,Xn,8,0,"div",109),a()),i&2){let e=l().$implicit,n=l(2);d(),_("ngIf",n.shouldShowMedia(e)),d(),_("ngIf",!n.shouldShowMedia(e))}}function $n(i,o){if(i&1&&g(0,"video",119),i&2){let e=l(2).$implicit,n=l(2);_("src",n.getAvatarUrl(e.fileUrl),N)}}function ei(i,o){if(i&1){let e=w();r(0,"div",111),h("click",function(){p(e);let t=l(2).$implicit,s=l(2);return m(s.downloadMedia(t))}),r(1,"div",112),u(),r(2,"svg",113),g(3,"path",114)(4,"polyline",115)(5,"line",116),a()(),f(),r(6,"span"),c(7,"Video \u2022 Click to download"),a()()}}function ti(i,o){if(i&1&&(r(0,"div",117),v(1,$n,1,1,"video",118)(2,ei,8,0,"div",109),a()),i&2){let e=l().$implicit,n=l(2);d(),_("ngIf",n.shouldShowMedia(e)),d(),_("ngIf",!n.shouldShowMedia(e))}}function ni(i,o){if(i&1&&(r(0,"a",123)(1,"div",124),u(),r(2,"svg",59),g(3,"path",125)(4,"polyline",126),a()(),f(),r(5,"div",127)(6,"span",128),c(7),a(),r(8,"span",129),c(9,"Click to open"),a()()()),i&2){let e=l(2).$implicit,n=l(2);_("href",n.getAvatarUrl(e.fileUrl),N),d(7),P(e.content)}}function ii(i,o){if(i&1){let e=w();r(0,"div",130),h("click",function(){p(e);let t=l(2).$implicit,s=l(2);return m(s.downloadMedia(t))}),r(1,"div",131),u(),r(2,"svg",113),g(3,"path",114)(4,"polyline",115)(5,"line",116),a()(),f(),r(6,"span"),c(7),a()()}if(i&2){let e=l(2).$implicit;d(7),T("",e.content," \u2022 Click to download")}}function oi(i,o){if(i&1&&(r(0,"div",120),v(1,ni,10,2,"a",121)(2,ii,8,1,"div",122),a()),i&2){let e=l().$implicit,n=l(2);d(),_("ngIf",n.shouldShowMedia(e)),d(),_("ngIf",!n.shouldShowMedia(e))}}function ri(i,o){if(i&1&&g(0,"audio",135),i&2){let e=l(2).$implicit,n=l(2);_("src",n.getAvatarUrl(e.fileUrl),N)}}function ai(i,o){if(i&1){let e=w();r(0,"div",136),h("click",function(){p(e);let t=l(2).$implicit,s=l(2);return m(s.downloadMedia(t))}),r(1,"div",131),u(),r(2,"svg",113),g(3,"path",114)(4,"polyline",115)(5,"line",116),a()(),f(),r(6,"span"),c(7,"Audio \u2022 Download"),a()()}}function si(i,o){if(i&1&&(r(0,"div",132),v(1,ri,1,1,"audio",133)(2,ai,8,0,"div",134),a()),i&2){let e=l().$implicit,n=l(2);d(),_("ngIf",n.shouldShowMedia(e)),d(),_("ngIf",!n.shouldShowMedia(e))}}function ci(i,o){i&1&&(u(),r(0,"svg",59),g(1,"path",143)(2,"rect",72)(3,"line",144),a())}function li(i,o){i&1&&(u(),r(0,"svg",59),g(1,"path",69),a())}function di(i,o){if(i&1){let e=w();r(0,"div",137),h("click",function(){p(e);let t=l(3);return m(t.onVideoCall())}),r(1,"div",138),v(2,ci,4,0,"svg",139)(3,li,2,0,"svg",139),a(),r(4,"div",140)(5,"div",141),c(6),a(),r(7,"div",142),c(8),a()()()}if(i&2){let e=l().$implicit;d(),E("missed",e.content==null?null:e.content.includes("Missed"))("ended",!(e.content!=null&&e.content.includes("Missed"))),d(),_("ngIf",e.content==null?null:e.content.includes("Missed")),d(),_("ngIf",!(e.content!=null&&e.content.includes("Missed"))),d(3),P(e.content),d(2),P(e.content!=null&&e.content.includes("Missed")?"Click to call back":"Tap to call again")}}function pi(i,o){i&1&&(r(0,"span",149),c(1,"\u2713\u2713"),a())}function mi(i,o){i&1&&(r(0,"span",150),c(1,"\u2713\u2713"),a())}function gi(i,o){i&1&&(r(0,"span",151),c(1,"\u2713"),a())}function hi(i,o){if(i&1&&(r(0,"span",145),v(1,pi,2,0,"span",146)(2,mi,2,0,"span",147)(3,gi,2,0,"span",148),a()),i&2){let e=l().$implicit;d(),_("ngIf",e.seen),d(),_("ngIf",!e.seen&&e.delivered),d(),_("ngIf",!e.seen&&!e.delivered)}}function _i(i,o){if(i&1&&(r(0,"div",152),g(1,"div",153),r(2,"span",154),c(3),a()()),i&2){let e=l().$implicit;d(3),T("",e.uploadProgress,"%")}}function ui(i,o){if(i&1&&(r(0,"div",94)(1,"div",95),v(2,Jn,2,1,"p",96)(3,Zn,3,2,"div",97)(4,ti,3,2,"div",98)(5,oi,3,2,"div",99)(6,si,3,2,"div",100)(7,di,9,8,"div",101),r(8,"div",102)(9,"span",103),c(10),a(),v(11,hi,4,3,"span",104),a(),v(12,_i,4,1,"div",105),a()()),i&2){let e=o.$implicit,n=l(2);E("sent",e.sender._id===(n.currentUser==null?null:n.currentUser._id))("received",e.sender._id!==(n.currentUser==null?null:n.currentUser._id)),d(2),_("ngIf",e.messageType==="text"||!e.messageType),d(),_("ngIf",e.messageType==="image"),d(),_("ngIf",e.messageType==="video"),d(),_("ngIf",e.messageType==="file"),d(),_("ngIf",e.messageType==="audio"),d(),_("ngIf",e.messageType==="call_log"),d(3),P(n.formatTime(e.createdAt)),d(),_("ngIf",e.sender._id===(n.currentUser==null?null:n.currentUser._id)&&!e.uploadProgress),d(),_("ngIf",e.uploadProgress!==void 0)}}function fi(i,o){i&1&&(r(0,"div",155)(1,"p"),c(2,"No messages yet"),a(),r(3,"small"),c(4,"Start the conversation!"),a()())}function xi(i,o){if(i&1){let e=w();r(0,"span",158),h("click",function(){let t=p(e).$implicit,s=l(3);return m(s.addEmoji(t))}),c(1),a()}if(i&2){let e=o.$implicit;d(),P(e)}}function vi(i,o){if(i&1&&(r(0,"div",156),v(1,xi,2,1,"span",157),a()),i&2){let e=l(2);d(),_("ngForOf",e.emojis)}}function Ci(i,o){i&1&&(u(),r(0,"svg",59),g(1,"path",160)(2,"path",161)(3,"line",162)(4,"line",163),a())}function wi(i,o){i&1&&(u(),r(0,"svg",59),g(1,"rect",164),a())}function bi(i,o){if(i&1){let e=w();r(0,"button",159),h("click",function(){p(e);let t=l(2);return m(t.isRecording?t.stopRecording():t.startRecording())}),v(1,Ci,5,0,"svg",139)(2,wi,2,0,"svg",139),a()}if(i&2){let e=l(2);se("color",e.isRecording?"#ef4444":"")("animation",e.isRecording?"pulse 1.5s infinite":""),_("title",e.isRecording?"Stop Recording":"Record Audio"),d(),_("ngIf",!e.isRecording),d(),_("ngIf",e.isRecording)}}function yi(i,o){if(i&1){let e=w();r(0,"button",165),h("click",function(){p(e);let t=l(2);return m(t.sendMessage())}),u(),r(1,"svg",166),g(2,"path",167)(3,"path",168),a()()}}function Si(i,o){if(i&1){let e=w();V(0),r(1,"div",56)(2,"div",57)(3,"button",58),h("click",function(){p(e);let t=l();return m(t.deselectUser())}),u(),r(4,"svg",59),g(5,"path",60),a()(),f(),r(6,"div",61),v(7,jn,1,1,"img",62)(8,Gn,2,1,"span",33),a(),r(9,"div",63)(10,"div",64),c(11),a(),r(12,"div",65),v(13,qn,2,0,"span",66)(14,Qn,3,0,"span",33)(15,Yn,2,0,"span",33),a()(),r(16,"div",67)(17,"button",68),h("click",function(){p(e);let t=l();return m(t.onVoiceCall())}),u(),r(18,"svg",59),g(19,"path",69),a()(),f(),r(20,"button",70),h("click",function(){p(e);let t=l();return m(t.onVideoCall())}),u(),r(21,"svg",59),g(22,"polygon",71)(23,"rect",72),a()()()()(),f(),g(24,"app-call-modal",73,1),r(26,"div",74,2),v(28,ui,13,13,"div",75)(29,fi,5,0,"div",76),a(),r(30,"div",77),v(31,vi,2,1,"div",78),r(32,"div",79)(33,"button",80),h("click",function(){p(e);let t=ve(37);return m(t.click())}),u(),r(34,"svg",59),g(35,"path",81),a()(),f(),r(36,"input",82,3),h("change",function(t){p(e);let s=l();return m(s.onChatFileSelected(t))}),a(),r(38,"button",83),h("click",function(){p(e);let t=l();return m(t.toggleEmojiPicker())}),u(),r(39,"svg",59),g(40,"circle",84)(41,"path",85)(42,"line",86)(43,"line",87),a()(),f(),r(44,"input",88),k("ngModelChange",function(t){p(e);let s=l();return S(s.newMessage,t)||(s.newMessage=t),m(t)}),h("keyup.enter",function(){p(e);let t=l();return m(t.sendMessage())})("input",function(){p(e);let t=l();return m(t.onTyping())}),a(),v(45,bi,3,7,"button",89)(46,yi,4,0,"button",90),a()(),U()}if(i&2){let e=l();d(7),_("ngIf",e.selectedUser.avatar),d(),_("ngIf",!e.selectedUser.avatar),d(3),P(e.selectedUser.fullName||e.selectedUser.username),d(2),_("ngIf",e.typingUsers[e.selectedUser._id]),d(),_("ngIf",!e.typingUsers[e.selectedUser._id]&&e.isUserOnline(e.selectedUser._id)),d(),_("ngIf",!e.typingUsers[e.selectedUser._id]&&!e.isUserOnline(e.selectedUser._id)),d(9),_("currentUser",e.currentUser),d(4),_("ngForOf",e.messages),d(),_("ngIf",e.messages.length===0),d(2),_("ngIf",e.showEmojiPicker),d(13),_("placeholder",e.isRecording?"Recording audio...":"Type your message..."),y("ngModel",e.newMessage),_("disabled",e.isRecording),d(),_("ngIf",!e.newMessage.trim()),d(),_("ngIf",e.newMessage.trim())}}function ki(i,o){if(i&1&&g(0,"img",182),i&2){let e=l(2);_("src",e.previewUrl,N)}}function Mi(i,o){if(i&1&&g(0,"video",183),i&2){let e=l(2);_("src",e.previewUrl,N)}}function Pi(i,o){if(i&1&&(r(0,"div",124),u(),r(1,"svg",184),g(2,"path",125)(3,"polyline",126),a(),f(),r(4,"span"),c(5),a(),r(6,"small"),c(7),a()()),i&2){let e=l(2);d(5),P(e.previewFile.name),d(2),T("",(e.previewFile.size/1024/1024).toFixed(2)," MB")}}function Ei(i,o){if(i&1){let e=w();r(0,"div",169)(1,"div",170)(2,"div",171)(3,"h3"),c(4,"Send Attachment?"),a(),r(5,"button",172),h("click",function(){p(e);let t=l();return m(t.cancelPreview())}),c(6,"\xD7"),a()(),r(7,"div",173),v(8,ki,1,1,"img",174)(9,Mi,1,1,"video",175)(10,Pi,8,2,"div",176),a(),r(11,"div",177)(12,"button",178),h("click",function(){p(e);let t=l();return m(t.cancelPreview())}),c(13,"Cancel"),a(),r(14,"button",179),h("click",function(){p(e);let t=l();return m(t.confirmSendFile())}),c(15," Send "),u(),r(16,"svg",23),g(17,"line",180)(18,"polygon",181),a()()()()()}if(i&2){let e=l();d(8),_("ngIf",e.previewUrl&&(e.previewFile==null||e.previewFile.type==null?null:e.previewFile.type.startsWith("image/"))),d(),_("ngIf",e.previewUrl&&(e.previewFile==null||e.previewFile.type==null?null:e.previewFile.type.startsWith("video/"))),d(),_("ngIf",!e.previewUrl)}}function Oi(i,o){if(i&1&&g(0,"img",213),i&2){let e=l(3);_("src",e.getAvatarUrl(e.currentUser==null?null:e.currentUser.avatar),N)}}function Ti(i,o){if(i&1&&(r(0,"div",214),c(1),a()),i&2){let e,n=l(3);d(),T(" ",n.currentUser==null||n.currentUser.username==null||(e=n.currentUser.username.charAt(0))==null?null:e.toUpperCase()," ")}}function Vi(i,o){if(i&1){let e=w();V(0),r(1,"div",187)(2,"h2"),c(3,"Settings"),a(),r(4,"button",172),h("click",function(){p(e);let t=l(2);return m(t.closeSettings())}),c(5,"\xD7"),a()(),r(6,"div",188),g(7,"input",189),a(),r(8,"div",190)(9,"div",191),h("click",function(){p(e);let t=l(2);return m(t.navigateToSettings("profile"))}),r(10,"div",192),v(11,Oi,1,1,"img",193)(12,Ti,2,1,"div",194),a(),r(13,"div",195)(14,"h3"),c(15),a(),r(16,"p",196),c(17),a()()(),r(18,"div",197)(19,"div",198),h("click",function(){p(e);let t=l(2);return m(t.navigateToSettings("general"))}),u(),r(20,"svg",199),g(21,"rect",200)(22,"line",201),a(),f(),r(23,"div",202)(24,"h4"),c(25,"General"),a(),r(26,"p"),c(27,"Startup and close"),a()()(),r(28,"div",198),h("click",function(){p(e);let t=l(2);return m(t.navigateToSettings("account"))}),u(),r(29,"svg",199),g(30,"path",203),a(),f(),r(31,"div",202)(32,"h4"),c(33,"Account"),a(),r(34,"p"),c(35,"Security notifications, account info"),a()()(),r(36,"div",198),h("click",function(){p(e);let t=l(2);return m(t.navigateToSettings("privacy"))}),u(),r(37,"svg",199),g(38,"rect",204)(39,"path",205),a(),f(),r(40,"div",202)(41,"h4"),c(42,"Privacy"),a(),r(43,"p"),c(44,"Blocked contacts, disappearing messages"),a()()(),r(45,"div",198),h("click",function(){p(e);let t=l(2);return m(t.navigateToSettings("chats"))}),u(),r(46,"svg",199),g(47,"path",206),a(),f(),r(48,"div",202)(49,"h4"),c(50,"Chats"),a(),r(51,"p"),c(52,"Theme, wallpaper, chat settings"),a()()(),r(53,"div",198),h("click",function(){p(e);let t=l(2);return m(t.navigateToSettings("video-voice"))}),u(),r(54,"svg",199),g(55,"polygon",71)(56,"rect",72),a(),f(),r(57,"div",202)(58,"h4"),c(59,"Video & voice"),a(),r(60,"p"),c(61,"Camera, microphone & speakers"),a()()(),r(62,"div",198),h("click",function(){p(e);let t=l(2);return m(t.navigateToSettings("notifications"))}),u(),r(63,"svg",199),g(64,"path",207)(65,"path",208),a(),f(),r(66,"div",202)(67,"h4"),c(68,"Notifications"),a(),r(69,"p"),c(70,"Message notifications"),a()()(),r(71,"div",209),h("click",function(){p(e);let t=l(2);return m(t.onLogout())}),u(),r(72,"svg",199),g(73,"path",210)(74,"polyline",211)(75,"line",212),a(),f(),r(76,"div",202)(77,"h4"),c(78,"Log out"),a()()()()(),U()}if(i&2){let e=l(2);d(11),_("ngIf",e.currentUser==null?null:e.currentUser.avatar),d(),_("ngIf",!(e.currentUser!=null&&e.currentUser.avatar)),d(3),P((e.currentUser==null?null:e.currentUser.fullName)||(e.currentUser==null?null:e.currentUser.username)),d(2),P((e.currentUser==null?null:e.currentUser.about)||"Busy doing nothing...")}}function Ui(i,o){if(i&1&&(r(0,"div",238),c(1),a()),i&2){let e,n=l(3);d(),T(" ",n.currentUser==null||n.currentUser.username==null||(e=n.currentUser.username.charAt(0))==null?null:e.toUpperCase()," ")}}function Ii(i,o){if(i&1&&g(0,"img",239),i&2){let e=l(3);_("src",e.getAvatarUrl(e.currentUser==null?null:e.currentUser.avatar),N)}}function Ai(i,o){if(i&1){let e=w();r(0,"div",240)(1,"span",241),c(2),a(),r(3,"button",242),h("click",function(){p(e);let t=l(3);return m(t.startEditName())}),u(),r(4,"svg",243),g(5,"path",244),a()()()}if(i&2){let e=l(3);d(2),P(e.currentUser==null?null:e.currentUser.username)}}function Li(i,o){if(i&1){let e=w();r(0,"div",245)(1,"input",246),k("ngModelChange",function(t){p(e);let s=l(3);return S(s.tempProfileName,t)||(s.tempProfileName=t),m(t)}),h("keyup.enter",function(){p(e);let t=l(3);return m(t.saveName())})("keyup.escape",function(){p(e);let t=l(3);return m(t.cancelEditName())}),a(),r(2,"span",247),c(3),a(),r(4,"div",248)(5,"button",249),h("click",function(){p(e);let t=l(3);return m(t.cancelEditName())}),u(),r(6,"svg",250),g(7,"line",251)(8,"line",252),a()(),f(),r(9,"button",253),h("click",function(){p(e);let t=l(3);return m(t.saveName())}),u(),r(10,"svg",250),g(11,"polyline",254),a()()()()}if(i&2){let e=l(3);d(),y("ngModel",e.tempProfileName),d(),E("low",100-e.tempProfileName.length<20),d(),T(" ",100-e.tempProfileName.length," ")}}function Ni(i,o){if(i&1){let e=w();r(0,"div",240)(1,"span",241),c(2),a(),r(3,"button",255),h("click",function(){p(e);let t=l(3);return m(t.startEditAbout())}),u(),r(4,"svg",243),g(5,"path",244),a()()()}if(i&2){let e=l(3);d(2),P((e.currentUser==null?null:e.currentUser.about)||"Busy doing nothing...")}}function Bi(i,o){if(i&1){let e=w();r(0,"div",245)(1,"textarea",256),k("ngModelChange",function(t){p(e);let s=l(3);return S(s.tempProfileAbout,t)||(s.tempProfileAbout=t),m(t)}),h("keyup.enter",function(){p(e);let t=l(3);return m(t.saveAbout())})("keyup.escape",function(){p(e);let t=l(3);return m(t.cancelEditAbout())}),a(),r(2,"span",247),c(3),a(),r(4,"div",248)(5,"button",249),h("click",function(){p(e);let t=l(3);return m(t.cancelEditAbout())}),u(),r(6,"svg",250),g(7,"line",251)(8,"line",252),a()(),f(),r(9,"button",253),h("click",function(){p(e);let t=l(3);return m(t.saveAbout())}),u(),r(10,"svg",250),g(11,"polyline",254),a()()()()}if(i&2){let e=l(3);d(),y("ngModel",e.tempProfileAbout),d(),E("low",1500-e.tempProfileAbout.length<50),d(),T(" ",1500-e.tempProfileAbout.length," ")}}function zi(i,o){if(i&1){let e=w();V(0),r(1,"div",215)(2,"button",58),h("click",function(){p(e);let t=l(2);return m(t.navigateToSettings("main"))}),u(),r(3,"svg",216),g(4,"path",217)(5,"path",218),a(),f(),r(6,"span",219),c(7,"Profile"),a()()(),r(8,"div",220)(9,"div",221)(10,"div",222),h("click",function(){p(e),l(2);let t=ve(5);return m(t.click())}),v(11,Ui,2,1,"div",223)(12,Ii,1,1,"img",224),r(13,"div",225),u(),r(14,"svg",226),g(15,"path",227)(16,"path",228)(17,"path",229)(18,"path",230),a(),f(),r(19,"span"),c(20,"CHANGE PROFILE PHOTO"),a()()()(),r(21,"div",231)(22,"div",232)(23,"span",233),c(24,"Your name"),a(),v(25,Ai,6,1,"div",234)(26,Li,12,4,"div",235),r(27,"p",236),c(28,"This is not your username or pin. This name will be visible to your WhatsApp contacts."),a()(),g(29,"div",237),r(30,"div",232)(31,"span",233),c(32,"About"),a(),v(33,Ni,6,1,"div",234)(34,Bi,12,4,"div",235),a()()(),U()}if(i&2){let e=l(2);d(11),_("ngIf",!(e.currentUser!=null&&e.currentUser.avatar)),d(),_("ngIf",e.currentUser==null?null:e.currentUser.avatar),d(13),_("ngIf",!e.isEditingName),d(),_("ngIf",e.isEditingName),d(7),_("ngIf",!e.isEditingAbout),d(),_("ngIf",e.isEditingAbout)}}function Di(i,o){if(i&1){let e=w();V(0),r(1,"div",187)(2,"button",58),h("click",function(){p(e);let t=l(2);return m(t.navigateToSettings("main"))}),u(),r(3,"svg",59),g(4,"line",257)(5,"polyline",258),a(),c(6," Chats "),a(),f(),r(7,"button",172),h("click",function(){p(e);let t=l(2);return m(t.closeSettings())}),c(8,"\xD7"),a()(),r(9,"div",190)(10,"div",259)(11,"h3"),c(12,"Display"),a(),r(13,"div",260),h("click",function(){p(e);let t=l(2);return m(t.openThemeModal())}),r(14,"div",261)(15,"h4"),c(16,"Theme"),a(),r(17,"p"),c(18),a()(),u(),r(19,"svg",262),g(20,"polyline",263),a()(),f(),r(21,"div",260),h("click",function(){p(e);let t=l(2);return m(t.openWallpaperModal())}),r(22,"div",261)(23,"h4"),c(24,"Wallpaper"),a(),r(25,"p"),c(26,"Change chat wallpaper"),a()(),u(),r(27,"svg",262),g(28,"polyline",263),a()(),f(),g(29,"div",264),a(),r(30,"div",259)(31,"h3"),c(32,"Chat settings"),a(),r(33,"div",260),h("click",function(){p(e);let t=l(2);return m(t.navigateToSettings("media-quality"))}),r(34,"div",261)(35,"h4"),c(36,"Media upload quality"),a(),r(37,"p"),c(38),a()(),u(),r(39,"svg",262),g(40,"polyline",263),a()(),f(),r(41,"div",260),h("click",function(){p(e);let t=l(2);return m(t.navigateToSettings("media-auto-download"))}),r(42,"div",261)(43,"h4"),c(44,"Media auto-download"),a(),r(45,"p"),c(46,"Voice messages are always automatically downloaded"),a()(),u(),r(47,"svg",262),g(48,"polyline",263),a()(),f(),g(49,"div",264),r(50,"div",265)(51,"div",266)(52,"h4"),c(53,"Spell check"),a(),r(54,"p"),c(55,"Check spelling while typing"),a()(),r(56,"label",267)(57,"input",268),k("ngModelChange",function(t){p(e);let s=l(2);return S(s.chatSettings.spellCheck,t)||(s.chatSettings.spellCheck=t),m(t)}),h("change",function(){p(e);let t=l(2);return m(t.saveSettings())}),a(),g(58,"span",269),a()(),r(59,"div",265)(60,"div",266)(61,"h4"),c(62,"Replace text with emoji"),a(),r(63,"p"),c(64,"Emoji will replace specific text as you type"),a()(),r(65,"label",267)(66,"input",268),k("ngModelChange",function(t){p(e);let s=l(2);return S(s.chatSettings.replaceEmoji,t)||(s.chatSettings.replaceEmoji=t),m(t)}),h("change",function(){p(e);let t=l(2);return m(t.saveSettings())}),a(),g(67,"span",269),a()(),r(68,"div",265)(69,"div",266)(70,"h4"),c(71,"Enter is send"),a(),r(72,"p"),c(73,"Enter key will send your message"),a()(),r(74,"label",267)(75,"input",268),k("ngModelChange",function(t){p(e);let s=l(2);return S(s.chatSettings.enterIsSend,t)||(s.chatSettings.enterIsSend=t),m(t)}),h("change",function(){p(e);let t=l(2);return m(t.saveSettings())}),a(),g(76,"span",269),a()()()(),U()}if(i&2){let e=l(2);d(18),P(e.chatSettings.theme),d(20),T("",e.chatSettings.mediaQuality," quality"),d(19),y("ngModel",e.chatSettings.spellCheck),d(9),y("ngModel",e.chatSettings.replaceEmoji),d(9),y("ngModel",e.chatSettings.enterIsSend)}}function Ri(i,o){i&1&&g(0,"div",275)}function Fi(i,o){i&1&&g(0,"div",275)}function Wi(i,o){if(i&1){let e=w();V(0),r(1,"div",187)(2,"button",58),h("click",function(){p(e);let t=l(2);return m(t.navigateToSettings("main"))}),u(),r(3,"svg",59),g(4,"line",257)(5,"polyline",258),a(),c(6," Media upload quality "),a(),f(),r(7,"button",172),h("click",function(){p(e);let t=l(2);return m(t.closeSettings())}),c(8,"\xD7"),a()(),r(9,"div",190)(10,"div",259)(11,"div",270),h("click",function(){p(e);let t=l(2);return t.chatSettings.mediaQuality="Standard",m(t.saveSettings())}),r(12,"div",261)(13,"h4"),c(14,"Standard quality"),a(),r(15,"p",271),c(16,"Standard media uses less storage and are faster to send"),a()(),r(17,"div",272)(18,"div",273),v(19,Ri,1,0,"div",274),a()()(),r(20,"div",270),h("click",function(){p(e);let t=l(2);return t.chatSettings.mediaQuality="HD",m(t.saveSettings())}),r(21,"div",261)(22,"h4"),c(23,"HD quality"),a(),r(24,"p",271),c(25,"HD media is slower to send, can be 6 times larger"),a()(),r(26,"div",272)(27,"div",273),v(28,Fi,1,0,"div",274),a()()()()(),U()}if(i&2){let e=l(2);d(18),E("selected",e.chatSettings.mediaQuality==="Standard"),d(),_("ngIf",e.chatSettings.mediaQuality==="Standard"),d(8),E("selected",e.chatSettings.mediaQuality==="HD"),d(),_("ngIf",e.chatSettings.mediaQuality==="HD")}}function Hi(i,o){if(i&1){let e=w();V(0),r(1,"div",187)(2,"button",58),h("click",function(){p(e);let t=l(2);return m(t.navigateToSettings("chats"))}),u(),r(3,"svg",59),g(4,"line",257)(5,"polyline",258),a(),c(6," Media auto-download "),a(),f(),r(7,"button",172),h("click",function(){p(e);let t=l(2);return m(t.closeSettings())}),c(8,"\xD7"),a()(),r(9,"div",190)(10,"div",259)(11,"div",265)(12,"div",266)(13,"h4"),c(14,"Photos"),a()(),r(15,"label",267)(16,"input",268),k("ngModelChange",function(t){p(e);let s=l(2);return S(s.chatSettings.autoDownload.photos,t)||(s.chatSettings.autoDownload.photos=t),m(t)}),h("change",function(){p(e);let t=l(2);return m(t.saveSettings())}),a(),g(17,"span",269),a()(),r(18,"div",265)(19,"div",266)(20,"h4"),c(21,"Audio"),a()(),r(22,"label",267)(23,"input",268),k("ngModelChange",function(t){p(e);let s=l(2);return S(s.chatSettings.autoDownload.audio,t)||(s.chatSettings.autoDownload.audio=t),m(t)}),h("change",function(){p(e);let t=l(2);return m(t.saveSettings())}),a(),g(24,"span",269),a()(),r(25,"div",265)(26,"div",266)(27,"h4"),c(28,"Videos"),a()(),r(29,"label",267)(30,"input",268),k("ngModelChange",function(t){p(e);let s=l(2);return S(s.chatSettings.autoDownload.videos,t)||(s.chatSettings.autoDownload.videos=t),m(t)}),h("change",function(){p(e);let t=l(2);return m(t.saveSettings())}),a(),g(31,"span",269),a()(),r(32,"div",265)(33,"div",266)(34,"h4"),c(35,"Documents"),a()(),r(36,"label",267)(37,"input",268),k("ngModelChange",function(t){p(e);let s=l(2);return S(s.chatSettings.autoDownload.documents,t)||(s.chatSettings.autoDownload.documents=t),m(t)}),h("change",function(){p(e);let t=l(2);return m(t.saveSettings())}),a(),g(38,"span",269),a()(),g(39,"div",264),r(40,"p",276),c(41," Voice messages are always automatically downloaded for the best communication experience. "),a(),r(42,"div",277),h("click",function(){p(e);let t=l(2);return m(t.resetAutoDownloadSettings())}),r(43,"div",278),u(),r(44,"svg",19),g(45,"path",279)(46,"path",280),a(),f(),r(47,"h4"),c(48,"Reset auto-download settings"),a()()()()(),U()}if(i&2){let e=l(2);d(16),y("ngModel",e.chatSettings.autoDownload.photos),d(7),y("ngModel",e.chatSettings.autoDownload.audio),d(7),y("ngModel",e.chatSettings.autoDownload.videos),d(7),y("ngModel",e.chatSettings.autoDownload.documents)}}function ji(i,o){if(i&1){let e=w();V(0),r(1,"div",187)(2,"button",58),h("click",function(){p(e);let t=l(2);return m(t.navigateToSettings("main"))}),u(),r(3,"svg",59),g(4,"line",257)(5,"polyline",258),a(),c(6," General "),a(),f(),r(7,"button",172),h("click",function(){p(e);let t=l(2);return m(t.closeSettings())}),c(8,"\xD7"),a()(),r(9,"div",190)(10,"div",259)(11,"h3"),c(12,"Startup and close"),a(),r(13,"div",265)(14,"div",266)(15,"h4"),c(16,"Start WhatsApp at login"),a()(),r(17,"label",267)(18,"input",281),k("ngModelChange",function(t){p(e);let s=l(2);return S(s.generalSettings.startAtLogin,t)||(s.generalSettings.startAtLogin=t),m(t)}),a(),g(19,"span",269),a()(),r(20,"div",265)(21,"div",266)(22,"h4"),c(23,"Minimise to system tray"),a(),r(24,"p"),c(25,"Keep WhatsApp running after closing the application window"),a()(),r(26,"label",267)(27,"input",281),k("ngModelChange",function(t){p(e);let s=l(2);return S(s.generalSettings.minimizeToTray,t)||(s.generalSettings.minimizeToTray=t),m(t)}),a(),g(28,"span",269),a()()(),r(29,"div",259)(30,"h3"),c(31,"Language"),a(),r(32,"div",282)(33,"select",283),k("ngModelChange",function(t){p(e);let s=l(2);return S(s.generalSettings.language,t)||(s.generalSettings.language=t),m(t)}),r(34,"option",284),c(35,"English"),a(),r(36,"option",285),c(37,"Hindi"),a(),r(38,"option",286),c(39,"Gujarati"),a()()()(),r(40,"div",259)(41,"h3"),c(42,"Font size"),a(),r(43,"div",282)(44,"select",287),k("ngModelChange",function(t){p(e);let s=l(2);return S(s.generalSettings.fontSize,t)||(s.generalSettings.fontSize=t),m(t)}),h("change",function(){p(e);let t=l(2);return m(t.applyFontSize())}),r(45,"option",288),c(46,"100% (default)"),a(),r(47,"option",289),c(48,"125%"),a(),r(49,"option",290),c(50,"150%"),a()(),r(51,"span",291),c(52,"Use Ctrl + / - to increase or decrease text size"),a()()()(),U()}if(i&2){let e=l(2);d(18),y("ngModel",e.generalSettings.startAtLogin),d(9),y("ngModel",e.generalSettings.minimizeToTray),d(6),y("ngModel",e.generalSettings.language),d(11),y("ngModel",e.generalSettings.fontSize)}}function Gi(i,o){if(i&1){let e=w();V(0),r(1,"div",187)(2,"button",58),h("click",function(){p(e);let t=l(2);return m(t.navigateToSettings("main"))}),u(),r(3,"svg",59),g(4,"line",257)(5,"polyline",258),a(),c(6," Account "),a(),f(),r(7,"button",172),h("click",function(){p(e);let t=l(2);return m(t.closeSettings())}),c(8,"\xD7"),a()(),r(9,"div",190)(10,"div",197)(11,"div",198),h("click",function(){p(e);let t=l(2);return m(t.navigateToSettings("security"))}),u(),r(12,"svg",199),g(13,"path",292),a(),f(),r(14,"div",202)(15,"h4"),c(16,"Security notifications"),a()()(),r(17,"div",198),h("click",function(){p(e);let t=l(2);return m(t.navigateToSettings("request-info"))}),u(),r(18,"svg",199),g(19,"path",293)(20,"polyline",294)(21,"line",295)(22,"line",296)(23,"polyline",297),a(),f(),r(24,"div",202)(25,"h4"),c(26,"Request account info"),a()()(),r(27,"div",298),u(),r(28,"svg",199),g(29,"circle",84)(30,"line",299)(31,"line",300),a(),f(),r(32,"div",202)(33,"h4"),c(34,"How to delete my account"),a()()()()(),U()}}function qi(i,o){if(i&1){let e=w();V(0),r(1,"div",187)(2,"button",58),h("click",function(){p(e);let t=l(2);return m(t.navigateToSettings("account"))}),u(),r(3,"svg",59),g(4,"line",257)(5,"polyline",258),a(),c(6," Security "),a(),f(),r(7,"button",172),h("click",function(){p(e);let t=l(2);return m(t.closeSettings())}),c(8,"\xD7"),a()(),r(9,"div",190)(10,"div",301),u(),r(11,"svg",302),g(12,"rect",303)(13,"rect",204)(14,"path",205),a(),f(),r(15,"h3"),c(16,"Your chats and calls are private"),a(),r(17,"p"),c(18,"End-to-end encryption keeps your personal messages and calls between you and the people you choose. No one outside of the chat, not even WhatsApp, can read, listen to, or share them. This includes your:"),a()(),r(19,"div",304)(20,"div",305),u(),r(21,"svg",19),g(22,"path",206),a(),c(23," Text and voice messages "),a(),f(),r(24,"div",305),u(),r(25,"svg",19),g(26,"path",69),a(),c(27," Audio and video calls "),a(),f(),r(28,"div",305),u(),r(29,"svg",19),g(30,"rect",200)(31,"circle",306)(32,"polyline",307),a(),c(33," Photos, videos and documents "),a(),f(),r(34,"div",305),u(),r(35,"svg",19),g(36,"path",308)(37,"circle",309),a(),c(38," Location sharing "),a(),f(),r(39,"div",305),u(),r(40,"svg",19),g(41,"circle",84)(42,"circle",310),a(),c(43," Status updates "),a(),f(),r(44,"a",311),c(45,"Learn more"),a()(),r(46,"div",312)(47,"div",265)(48,"div",266)(49,"h4"),c(50,"Show security notifications on this computer"),a(),r(51,"p",313),c(52,"Get notified when your security code changes for a contact's phone. If you have multiple devices, this setting must be enabled on each device where you want to get notifications."),a(),r(53,"a",311),c(54,"Learn more"),a()(),r(55,"label",267)(56,"input",281),k("ngModelChange",function(t){p(e);let s=l(2);return S(s.securitySettings.showNotifications,t)||(s.securitySettings.showNotifications=t),m(t)}),a(),g(57,"span",269),a()()()(),U()}if(i&2){let e=l(2);d(56),y("ngModel",e.securitySettings.showNotifications)}}function Qi(i,o){if(i&1){let e=w();V(0),r(1,"div",187)(2,"button",58),h("click",function(){p(e);let t=l(2);return m(t.navigateToSettings("account"))}),u(),r(3,"svg",59),g(4,"line",257)(5,"polyline",258),a(),c(6," Request account info "),a(),f(),r(7,"button",172),h("click",function(){p(e);let t=l(2);return m(t.closeSettings())}),c(8,"\xD7"),a()(),r(9,"div",190)(10,"div",259)(11,"h3"),c(12,"Account information"),a(),r(13,"div",314)(14,"div",315),u(),r(15,"svg",59),g(16,"circle",84)(17,"polyline",316),a()(),f(),r(18,"div",317)(19,"h4"),c(20,"Request sent"),a(),r(21,"p"),c(22,"Ready by January 31, 2026"),a()()(),r(23,"p",318),c(24," Your request will be cancelled if you make changes to your account such as changing your number or deleting your account. "),a(),r(25,"h3"),c(26,"Channels activity"),a(),r(27,"div",319),u(),r(28,"svg",59),g(29,"path",293)(30,"polyline",294)(31,"line",295)(32,"line",296)(33,"polyline",297),a(),f(),r(34,"span"),c(35,"Request Channels report"),a()(),r(36,"p",320),c(37," Create a report of updates and information from channels you interact with or manage, which you can access or port to another app. "),r(38,"a",311),c(39,"Learn more"),a()()()(),U()}}function Yi(i,o){if(i&1){let e=w();V(0),r(1,"div",187)(2,"button",58),h("click",function(){p(e);let t=l(2);return m(t.navigateToSettings("main"))}),u(),r(3,"svg",59),g(4,"line",257)(5,"polyline",258),a(),c(6," Privacy "),a(),f(),r(7,"button",172),h("click",function(){p(e);let t=l(2);return m(t.closeSettings())}),c(8,"\xD7"),a()(),r(9,"div",190)(10,"div",259)(11,"h3",321),c(12,"Who can see my personal info"),a(),r(13,"div",322)(14,"div",261)(15,"h4"),c(16,"Last seen and online"),a(),r(17,"p"),c(18),a()(),r(19,"select",323),k("ngModelChange",function(t){p(e);let s=l(2);return S(s.privacySettings.lastSeen,t)||(s.privacySettings.lastSeen=t),m(t)}),h("change",function(){p(e);let t=l(2);return m(t.saveSettings())}),r(20,"option",324),c(21,"Everyone"),a(),r(22,"option",325),c(23,"My contacts"),a(),r(24,"option",326),c(25,"Nobody"),a()(),u(),r(26,"svg",262),g(27,"polyline",263),a()(),f(),r(28,"div",322)(29,"div",261)(30,"h4"),c(31,"Profile photo"),a(),r(32,"p"),c(33),a()(),r(34,"select",323),k("ngModelChange",function(t){p(e);let s=l(2);return S(s.privacySettings.profilePhoto,t)||(s.privacySettings.profilePhoto=t),m(t)}),h("change",function(){p(e);let t=l(2);return m(t.saveSettings())}),r(35,"option",324),c(36,"Everyone"),a(),r(37,"option",325),c(38,"My contacts"),a(),r(39,"option",326),c(40,"Nobody"),a()(),u(),r(41,"svg",262),g(42,"polyline",263),a()(),f(),r(43,"div",322)(44,"div",261)(45,"h4"),c(46,"About"),a(),r(47,"p"),c(48),a()(),r(49,"select",323),k("ngModelChange",function(t){p(e);let s=l(2);return S(s.privacySettings.about,t)||(s.privacySettings.about=t),m(t)}),h("change",function(){p(e);let t=l(2);return m(t.saveSettings())}),r(50,"option",324),c(51,"Everyone"),a(),r(52,"option",325),c(53,"My contacts"),a(),r(54,"option",326),c(55,"Nobody"),a()(),u(),r(56,"svg",262),g(57,"polyline",263),a()(),f(),r(58,"div",322)(59,"div",261)(60,"h4"),c(61,"Status"),a(),r(62,"p"),c(63),a()(),r(64,"select",323),k("ngModelChange",function(t){p(e);let s=l(2);return S(s.privacySettings.status,t)||(s.privacySettings.status=t),m(t)}),h("change",function(){p(e);let t=l(2);return m(t.saveSettings())}),r(65,"option",325),c(66,"My contacts"),a(),r(67,"option",327),c(68,"My contacts except..."),a(),r(69,"option",328),c(70,"Only share with..."),a()(),u(),r(71,"svg",262),g(72,"polyline",263),a()(),f(),r(73,"div",329)(74,"div",261)(75,"h4"),c(76,"Read receipts"),a(),r(77,"p",271),c(78,"If turned off, you won't send or receive read receipts. Read receipts are always sent for group chats."),a()(),r(79,"label",267)(80,"input",268),k("ngModelChange",function(t){p(e);let s=l(2);return S(s.privacySettings.readReceipts,t)||(s.privacySettings.readReceipts=t),m(t)}),h("change",function(){p(e);let t=l(2);return m(t.saveSettings())}),a(),g(81,"span",269),a()()(),g(82,"hr",264),r(83,"div",259)(84,"h3",321),c(85,"Disappearing messages"),a(),r(86,"div",322)(87,"div",261)(88,"h4"),c(89,"Default message timer"),a(),r(90,"p"),c(91),a()(),r(92,"select",323),k("ngModelChange",function(t){p(e);let s=l(2);return S(s.privacySettings.defaultTimer,t)||(s.privacySettings.defaultTimer=t),m(t)}),h("change",function(){p(e);let t=l(2);return m(t.saveSettings())}),r(93,"option",330),c(94,"Off"),a(),r(95,"option",331),c(96,"24 Hours"),a(),r(97,"option",332),c(98,"7 Days"),a(),r(99,"option",333),c(100,"90 Days"),a()(),u(),r(101,"svg",262),g(102,"polyline",263),a()()(),f(),g(103,"hr",264),r(104,"div",259)(105,"div",322)(106,"div",261)(107,"h4"),c(108,"Groups"),a(),r(109,"p"),c(110),a()(),r(111,"select",323),k("ngModelChange",function(t){p(e);let s=l(2);return S(s.privacySettings.groups,t)||(s.privacySettings.groups=t),m(t)}),h("change",function(){p(e);let t=l(2);return m(t.saveSettings())}),r(112,"option",324),c(113,"Everyone"),a(),r(114,"option",325),c(115,"My contacts"),a(),r(116,"option",327),c(117,"My contacts except..."),a()(),u(),r(118,"svg",262),g(119,"polyline",263),a()(),f(),r(120,"div",260),h("click",function(){p(e);let t=l(2);return m(t.navigateToSettings("app-lock"))}),r(121,"div",261)(122,"h4"),c(123,"App lock"),a(),r(124,"p",271),c(125,"Require password to unlock WhatsApp"),a()(),r(126,"div",334)(127,"span",335),c(128),a(),u(),r(129,"svg",262),g(130,"polyline",263),a()()()(),f(),g(131,"hr",264),r(132,"div",259)(133,"h3",321),c(134,"Advanced"),a(),r(135,"div",329)(136,"div",261)(137,"h4"),c(138,"Block unknown account messages"),a(),r(139,"p",271),c(140,"To protect your account and improve device performance, WhatsApp will block messages from unknown accounts if they exceed a certain volume. "),r(141,"a",311),c(142,"Learn more"),a()()(),r(143,"label",267)(144,"input",268),k("ngModelChange",function(t){p(e);let s=l(2);return S(s.privacySettings.blockUnknownMessages,t)||(s.privacySettings.blockUnknownMessages=t),m(t)}),h("change",function(){p(e);let t=l(2);return m(t.saveSettings())}),a(),g(145,"span",269),a()()()(),U()}if(i&2){let e=l(2);d(18),P(e.privacySettings.lastSeen),d(),y("ngModel",e.privacySettings.lastSeen),d(14),P(e.privacySettings.profilePhoto),d(),y("ngModel",e.privacySettings.profilePhoto),d(14),P(e.privacySettings.about),d(),y("ngModel",e.privacySettings.about),d(14),P(e.privacySettings.status),d(),y("ngModel",e.privacySettings.status),d(16),y("ngModel",e.privacySettings.readReceipts),d(11),P(e.privacySettings.defaultTimer),d(),y("ngModel",e.privacySettings.defaultTimer),d(18),P(e.privacySettings.groups),d(),y("ngModel",e.privacySettings.groups),d(17),P(e.privacySettings.appLock?"Enabled":"Disabled"),d(16),y("ngModel",e.privacySettings.blockUnknownMessages)}}function Ji(i,o){if(i&1){let e=w();r(0,"div",351)(1,"div",352),h("click",function(){p(e);let t=l(3);return m(t.selectNotifSetting("showBanner","Always"))}),c(2,"Always"),a(),r(3,"div",352),h("click",function(){p(e);let t=l(3);return m(t.selectNotifSetting("showBanner","When app is open"))}),c(4,"When app is open "),a(),r(5,"div",352),h("click",function(){p(e);let t=l(3);return m(t.selectNotifSetting("showBanner","Never"))}),c(6,"Never"),a()()}if(i&2){let e=l(3);d(),E("selected",e.notificationSettings.showBanner==="Always"),d(2),E("selected",e.notificationSettings.showBanner==="When app is open"),d(2),E("selected",e.notificationSettings.showBanner==="Never")}}function Ki(i,o){if(i&1){let e=w();r(0,"div",351)(1,"div",352),h("click",function(){p(e);let t=l(3);return m(t.selectNotifSetting("showTaskbarBadge","Always"))}),c(2,"Always"),a(),r(3,"div",352),h("click",function(){p(e);let t=l(3);return m(t.selectNotifSetting("showTaskbarBadge","When app is open"))}),c(4,"When app is open"),a(),r(5,"div",352),h("click",function(){p(e);let t=l(3);return m(t.selectNotifSetting("showTaskbarBadge","Never"))}),c(6,"Never"),a()()}if(i&2){let e=l(3);d(),E("selected",e.notificationSettings.showTaskbarBadge==="Always"),d(2),E("selected",e.notificationSettings.showTaskbarBadge==="When app is open"),d(2),E("selected",e.notificationSettings.showTaskbarBadge==="Never")}}function Xi(i,o){if(i&1){let e=w();r(0,"div",352),h("click",function(){let t=p(e).$implicit,s=l(4);return m(s.selectNotifSetting("messageTone",t))}),c(1),a()}if(i&2){let e=o.$implicit,n=l(4);E("selected",n.notificationSettings.messageTone===e),d(),P(e)}}function Zi(i,o){if(i&1){let e=w();r(0,"div",353)(1,"div",352),h("click",function(){p(e);let t=l(3);return m(t.selectNotifSetting("messageTone","None"))}),c(2,"None"),a(),v(3,Xi,2,3,"div",354),a()}if(i&2){let e=l(3);d(),E("selected",e.notificationSettings.messageTone==="None"),d(2),_("ngForOf",e.notificationTones)}}function $i(i,o){if(i&1){let e=w();r(0,"div",352),h("click",function(){let t=p(e).$implicit,s=l(4);return m(s.selectNotifSetting("groupTone",t))}),c(1),a()}if(i&2){let e=o.$implicit,n=l(4);E("selected",n.notificationSettings.groupTone===e),d(),P(e)}}function eo(i,o){if(i&1){let e=w();r(0,"div",353)(1,"div",352),h("click",function(){p(e);let t=l(3);return m(t.selectNotifSetting("groupTone","None"))}),c(2,"None"),a(),v(3,$i,2,3,"div",354),a()}if(i&2){let e=l(3);d(),E("selected",e.notificationSettings.groupTone==="None"),d(2),_("ngForOf",e.notificationTones)}}function to(i,o){if(i&1){let e=w();V(0),r(1,"div",187)(2,"button",58),h("click",function(){p(e);let t=l(2);return m(t.navigateToSettings("main"))}),u(),r(3,"svg",59),g(4,"line",257)(5,"polyline",258),a(),c(6," Notifications "),a(),f(),r(7,"button",172),h("click",function(){p(e);let t=l(2);return m(t.closeSettings())}),c(8,"\xD7"),a()(),r(9,"div",190)(10,"div",259)(11,"div",336),h("click",function(t){p(e);let s=l(2);return m(s.toggleNotifDropdown("banner",t))}),r(12,"div",261)(13,"h4"),c(14,"Show notification banner"),a(),r(15,"p"),c(16),a()(),v(17,Ji,7,6,"div",337),u(),r(18,"svg",262),g(19,"polyline",263),a()(),f(),r(20,"div",336),h("click",function(t){p(e);let s=l(2);return m(s.toggleNotifDropdown("badge",t))}),r(21,"div",261)(22,"h4"),c(23,"Show taskbar notification badge"),a(),r(24,"p"),c(25),a()(),v(26,Ki,7,6,"div",337),u(),r(27,"svg",262),g(28,"polyline",263),a()(),f(),g(29,"hr",264),r(30,"h3"),c(31,"Messages"),a(),r(32,"div",265)(33,"div",266)(34,"h4"),c(35,"Message notifications"),a(),r(36,"p"),c(37,"Show notifications for new messages"),a()(),r(38,"label",267)(39,"input",268),k("ngModelChange",function(t){p(e);let s=l(2);return S(s.notificationSettings.messageNotifications,t)||(s.notificationSettings.messageNotifications=t),m(t)}),h("change",function(){p(e);let t=l(2);return m(t.saveSettings())}),a(),g(40,"span",269),a()(),r(41,"div",265)(42,"div",266)(43,"h4"),c(44,"Show previews"),a()(),r(45,"label",267)(46,"input",268),k("ngModelChange",function(t){p(e);let s=l(2);return S(s.notificationSettings.showPreviews,t)||(s.notificationSettings.showPreviews=t),m(t)}),h("change",function(){p(e);let t=l(2);return m(t.saveSettings())}),a(),g(47,"span",269),a()(),r(48,"div",265)(49,"div",266)(50,"h4"),c(51,"Show reaction notifications"),a()(),r(52,"label",267)(53,"input",268),k("ngModelChange",function(t){p(e);let s=l(2);return S(s.notificationSettings.reactionNotifications,t)||(s.notificationSettings.reactionNotifications=t),m(t)}),h("change",function(){p(e);let t=l(2);return m(t.saveSettings())}),a(),g(54,"span",269),a()(),r(55,"div",265)(56,"div",266)(57,"h4"),c(58,"Status reactions"),a(),r(59,"p"),c(60,"Show notifications when you get likes on a status"),a()(),r(61,"label",267)(62,"input",268),k("ngModelChange",function(t){p(e);let s=l(2);return S(s.notificationSettings.statusReactions,t)||(s.notificationSettings.statusReactions=t),m(t)}),h("change",function(){p(e);let t=l(2);return m(t.saveSettings())}),a(),g(63,"span",269),a()(),g(64,"hr",264),r(65,"h3"),c(66,"Calls"),a(),r(67,"div",265)(68,"div",266)(69,"h4"),c(70,"Call notifications"),a(),r(71,"p"),c(72,"Show notifications for incoming calls"),a()(),r(73,"label",267)(74,"input",268),k("ngModelChange",function(t){p(e);let s=l(2);return S(s.notificationSettings.callNotifications,t)||(s.notificationSettings.callNotifications=t),m(t)}),h("change",function(){p(e);let t=l(2);return m(t.saveSettings())}),a(),g(75,"span",269),a()(),r(76,"div",265)(77,"div",266)(78,"h4"),c(79,"Incoming calls"),a(),r(80,"p"),c(81,"Play sounds for incoming calls"),a()(),r(82,"label",267)(83,"input",268),k("ngModelChange",function(t){p(e);let s=l(2);return S(s.notificationSettings.incomingCallSounds,t)||(s.notificationSettings.incomingCallSounds=t),m(t)}),h("change",function(){p(e);let t=l(2);return m(t.saveSettings())}),a(),g(84,"span",269),a()(),g(85,"hr",264),r(86,"h3"),c(87,"Notification tones"),a(),r(88,"div",265)(89,"div",266)(90,"h4"),c(91,"Incoming sounds"),a(),r(92,"p"),c(93,"Play sounds for incoming messages"),a()(),r(94,"label",267)(95,"input",268),k("ngModelChange",function(t){p(e);let s=l(2);return S(s.notificationSettings.incomingSounds,t)||(s.notificationSettings.incomingSounds=t),m(t)}),h("change",function(){p(e);let t=l(2);return m(t.saveSettings())}),a(),g(96,"span",269),a()(),r(97,"div",265)(98,"div",266)(99,"h4"),c(100,"Outgoing sounds"),a(),r(101,"p"),c(102,"Play sounds for outgoing messages"),a()(),r(103,"label",267)(104,"input",268),k("ngModelChange",function(t){p(e);let s=l(2);return S(s.notificationSettings.outgoingSounds,t)||(s.notificationSettings.outgoingSounds=t),m(t)}),h("change",function(){p(e);let t=l(2);return m(t.saveSettings())}),a(),g(105,"span",269),a()(),g(106,"br"),r(107,"h3"),c(108,"Messages"),a(),r(109,"div",338),h("click",function(t){p(e);let s=l(2);return m(s.toggleNotifDropdown("messageTone",t))}),r(110,"div",339),u(),r(111,"svg",340),g(112,"path",341)(113,"circle",342)(114,"circle",343),a(),c(115),a(),r(116,"svg",344),g(117,"polyline",345),a(),v(118,Zi,4,3,"div",346),a(),f(),r(119,"h3"),c(120,"Group messages"),a(),r(121,"div",338),h("click",function(t){p(e);let s=l(2);return m(s.toggleNotifDropdown("groupTone",t))}),r(122,"div",339),u(),r(123,"svg",340),g(124,"path",347)(125,"circle",348)(126,"path",349)(127,"path",350),a(),c(128),a(),r(129,"svg",344),g(130,"polyline",345),a(),v(131,eo,4,3,"div",346),a()()(),U()}if(i&2){let e=l(2);d(16),P(e.notificationSettings.showBanner),d(),_("ngIf",e.activeNotifDropdown==="banner"),d(8),P(e.notificationSettings.showTaskbarBadge),d(),_("ngIf",e.activeNotifDropdown==="badge"),d(13),y("ngModel",e.notificationSettings.messageNotifications),d(7),y("ngModel",e.notificationSettings.showPreviews),d(7),y("ngModel",e.notificationSettings.reactionNotifications),d(9),y("ngModel",e.notificationSettings.statusReactions),d(12),y("ngModel",e.notificationSettings.callNotifications),d(9),y("ngModel",e.notificationSettings.incomingCallSounds),d(12),y("ngModel",e.notificationSettings.incomingSounds),d(9),y("ngModel",e.notificationSettings.outgoingSounds),d(11),T(" ",e.notificationSettings.messageTone," "),d(),E("open",e.activeNotifDropdown==="messageTone"),d(2),_("ngIf",e.activeNotifDropdown==="messageTone"),d(10),T(" ",e.notificationSettings.groupTone," "),d(),E("open",e.activeNotifDropdown==="groupTone"),d(2),_("ngIf",e.activeNotifDropdown==="groupTone")}}function no(i,o){if(i&1&&(r(0,"option",357),c(1),a()),i&2){let e=o.$implicit;_("value",e.deviceId),d(),T("",e.label," ")}}function io(i,o){if(i&1&&(r(0,"option",357),c(1),a()),i&2){let e=o.$implicit;_("value",e.deviceId),d(),T("",e.label," ")}}function oo(i,o){if(i&1&&(r(0,"option",357),c(1),a()),i&2){let e=o.$implicit;_("value",e.deviceId),d(),T("",e.label," ")}}function ro(i,o){if(i&1){let e=w();V(0),r(1,"div",187)(2,"button",58),h("click",function(){p(e);let t=l(2);return m(t.navigateToSettings("main"))}),u(),r(3,"svg",59),g(4,"line",257)(5,"polyline",258),a(),c(6," Video & voice "),a(),f(),r(7,"button",172),h("click",function(){p(e);let t=l(2);return m(t.closeSettings())}),c(8,"\xD7"),a()(),r(9,"div",190)(10,"div",259)(11,"h3"),c(12,"Camera"),a(),r(13,"select",287),k("ngModelChange",function(t){p(e);let s=l(2);return S(s.videoSettings.cameraDeviceId,t)||(s.videoSettings.cameraDeviceId=t),m(t)}),h("change",function(){p(e);let t=l(2);return m(t.saveSettings())}),r(14,"option",355),c(15,"Select Camera"),a(),v(16,no,2,2,"option",356),a(),r(17,"h3"),c(18,"Microphone"),a(),r(19,"select",287),k("ngModelChange",function(t){p(e);let s=l(2);return S(s.videoSettings.micDeviceId,t)||(s.videoSettings.micDeviceId=t),m(t)}),h("change",function(){p(e);let t=l(2);return m(t.saveSettings())}),r(20,"option",355),c(21,"Select Microphone"),a(),v(22,io,2,2,"option",356),a(),r(23,"h3"),c(24,"Speakers"),a(),r(25,"select",287),k("ngModelChange",function(t){p(e);let s=l(2);return S(s.videoSettings.speakerDeviceId,t)||(s.videoSettings.speakerDeviceId=t),m(t)}),h("change",function(){p(e);let t=l(2);return m(t.saveSettings())}),r(26,"option",355),c(27,"Select Speakers"),a(),v(28,oo,2,2,"option",356),a()()(),U()}if(i&2){let e=l(2);d(13),y("ngModel",e.videoSettings.cameraDeviceId),d(3),_("ngForOf",e.videoInputDevices),d(3),y("ngModel",e.videoSettings.micDeviceId),d(3),_("ngForOf",e.audioInputDevices),d(3),y("ngModel",e.videoSettings.speakerDeviceId),d(3),_("ngForOf",e.audioOutputDevices)}}function ao(i,o){if(i&1){let e=w();V(0),r(1,"div",187)(2,"button",58),h("click",function(){p(e);let t=l(2);return m(t.navigateToSettings("privacy"))}),u(),r(3,"svg",59),g(4,"line",257)(5,"polyline",258),a(),c(6," App lock "),a(),f(),r(7,"button",172),h("click",function(){p(e);let t=l(2);return m(t.closeSettings())}),c(8,"\xD7"),a()(),r(9,"div",190)(10,"div",358)(11,"div",359),u(),r(12,"svg",360),g(13,"path",361),a(),f(),r(14,"div",362),u(),r(15,"svg",363),g(16,"circle",20),a()()(),f(),r(17,"h2",364),c(18,"Lock with a password"),a(),r(19,"p",365),c(20," You can lock WhatsApp instead of logging out. This makes it easier to access again later. "),r(21,"a",311),c(22,"Learn more"),a()()(),r(23,"div",259)(24,"div",329)(25,"div",261)(26,"h4"),c(27,"Enable app lock"),a()(),r(28,"label",267)(29,"input",268),k("ngModelChange",function(t){p(e);let s=l(2);return S(s.privacySettings.appLock,t)||(s.privacySettings.appLock=t),m(t)}),h("change",function(t){p(e);let s=l(2);return m(s.toggleAppLock(t))}),a(),g(30,"span",269),a()()(),r(31,"div",366)(32,"p"),c(33,"When app lock is enabled you can lock WhatsApp from the Chats menu."),a(),r(34,"p"),c(35,"You won't get notifications when WhatsApp is locked. App lock will reset if you log out."),a()()(),U()}if(i&2){let e=l(2);d(29),y("ngModel",e.privacySettings.appLock)}}function so(i,o){if(i&1){let e=w();r(0,"div",185),h("click",function(){p(e);let t=l();return m(t.closeSettings())}),r(1,"div",186),h("click",function(t){return p(e),m(t.stopPropagation())}),v(2,Vi,79,4,"ng-container",33)(3,zi,35,6,"ng-container",33)(4,Di,77,5,"ng-container",33)(5,Wi,29,6,"ng-container",33)(6,Hi,49,4,"ng-container",33)(7,ji,53,4,"ng-container",33)(8,Gi,35,0,"ng-container",33)(9,qi,58,1,"ng-container",33)(10,Qi,40,0,"ng-container",33)(11,Yi,146,15,"ng-container",33)(12,to,132,20,"ng-container",33)(13,ro,29,6,"ng-container",33)(14,ao,36,1,"ng-container",33),a()()}if(i&2){let e=l();d(2),_("ngIf",e.settingsView==="main"),d(),_("ngIf",e.settingsView==="profile"),d(),_("ngIf",e.settingsView==="chats"),d(),_("ngIf",e.settingsView==="media-quality"),d(),_("ngIf",e.settingsView==="media-auto-download"),d(),_("ngIf",e.settingsView==="general"),d(),_("ngIf",e.settingsView==="account"),d(),_("ngIf",e.settingsView==="security"),d(),_("ngIf",e.settingsView==="request-info"),d(),_("ngIf",e.settingsView==="privacy"),d(),_("ngIf",e.settingsView==="notifications"),d(),_("ngIf",e.settingsView==="video-voice"),d(),_("ngIf",e.settingsView==="app-lock")}}function co(i,o){if(i&1){let e=w();r(0,"div",169)(1,"div",367)(2,"h2"),c(3,"Set password"),a(),r(4,"div",368)(5,"label"),c(6,"Enter password"),a(),r(7,"input",369),k("ngModelChange",function(t){p(e);let s=l();return S(s.tempPassword,t)||(s.tempPassword=t),m(t)}),a(),g(8,"div",370),a(),r(9,"div",368)(10,"label"),c(11,"Re-enter password"),a(),r(12,"input",371),k("ngModelChange",function(t){p(e);let s=l();return S(s.tempConfirmPassword,t)||(s.tempConfirmPassword=t),m(t)}),a(),g(13,"div",370),a(),r(14,"p",372),c(15," Password must be 6-128 characters, and may only contain letters, numbers, and common punctuation "),a(),r(16,"div",373)(17,"button",374),h("click",function(){p(e);let t=l();return m(t.closeSetPasswordModal())}),c(18,"Cancel"),a(),r(19,"button",375),h("click",function(){p(e);let t=l();return m(t.confirmSetPassword())}),c(20,"OK"),a()()()()}if(i&2){let e=l();d(7),y("ngModel",e.tempPassword),d(5),y("ngModel",e.tempConfirmPassword)}}function lo(i,o){if(i&1){let e=w();r(0,"div",169)(1,"div",376)(2,"h2"),c(3,"Password set"),a(),r(4,"p",377),c(5,"You can lock WhatsApp from the Chats menu."),a(),r(6,"p",378),c(7,"Update app lock anytime in Settings > Privacy > App lock."),a(),r(8,"div",379)(9,"button",380),h("click",function(){p(e);let t=l();return m(t.closePasswordSetModal())}),c(10,"Done"),a(),r(11,"button",381),h("click",function(){p(e);let t=l();return m(t.lockApp())}),c(12,"Lock now"),a()()()()}}function po(i,o){if(i&1&&g(0,"img",399),i&2){let e=l(2);_("src",e.getAvatarUrl(e.currentUser==null?null:e.currentUser.avatar),N)}}function mo(i,o){if(i&1&&(r(0,"div",400),c(1),a()),i&2){let e,n=l(2);d(),P(n.currentUser==null||n.currentUser.username==null||(e=n.currentUser.username.charAt(0))==null?null:e.toUpperCase())}}function go(i,o){i&1&&(u(),r(0,"svg",19),g(1,"path",401)(2,"circle",20),a())}function ho(i,o){i&1&&(u(),r(0,"svg",19),g(1,"path",402)(2,"line",403),a())}function _o(i,o){if(i&1){let e=w();r(0,"div",382)(1,"div",383)(2,"div",384),v(3,po,1,1,"img",385)(4,mo,2,1,"div",386),a(),r(5,"h2",387),c(6),a(),r(7,"p",388),c(8,"App lock is on. Enter your password to use WhatsApp Windows."),a(),r(9,"div",389)(10,"input",390),k("ngModelChange",function(t){p(e);let s=l();return S(s.unlockPasswordInput,t)||(s.unlockPasswordInput=t),m(t)}),h("keyup.enter",function(){p(e);let t=l();return m(t.attemptUnlock())}),a(),r(11,"button",391),h("click",function(){p(e);let t=l();return m(t.togglePasswordVisibility())}),v(12,go,3,0,"svg",392)(13,ho,3,0,"svg",392),a()(),g(14,"div",393),r(15,"button",394),h("click",function(){p(e);let t=l();return m(t.attemptUnlock())}),c(16,"Unlock"),a(),r(17,"div",395)(18,"a",396),c(19,"Forgot password?"),a(),r(20,"p",397),c(21,"Log out and link again from your phone."),a(),r(22,"button",398),h("click",function(){p(e);let t=l();return m(t.onLogout())}),c(23,"Log out"),a()()()()}if(i&2){let e=l();d(3),_("ngIf",e.currentUser==null?null:e.currentUser.avatar),d(),_("ngIf",!(e.currentUser!=null&&e.currentUser.avatar)),d(2),P((e.currentUser==null?null:e.currentUser.fullName)||(e.currentUser==null?null:e.currentUser.username)),d(4),_("type",e.isPasswordVisible?"text":"password"),y("ngModel",e.unlockPasswordInput),d(2),_("ngIf",!e.isPasswordVisible),d(),_("ngIf",e.isPasswordVisible)}}function uo(i,o){i&1&&g(0,"div",275)}function fo(i,o){i&1&&g(0,"div",275)}function xo(i,o){i&1&&g(0,"div",275)}function vo(i,o){if(i&1){let e=w();r(0,"div",169)(1,"div",404)(2,"h2"),c(3,"Theme"),a(),r(4,"div",405),h("click",function(){p(e);let t=l();return m(t.tempTheme="Light")}),r(5,"div",406),v(6,uo,1,0,"div",274),a(),r(7,"span"),c(8,"Light"),a()(),r(9,"div",405),h("click",function(){p(e);let t=l();return m(t.tempTheme="Dark")}),r(10,"div",406),v(11,fo,1,0,"div",274),a(),r(12,"span"),c(13,"Dark"),a()(),r(14,"div",405),h("click",function(){p(e);let t=l();return m(t.tempTheme="System default")}),r(15,"div",406),v(16,xo,1,0,"div",274),a(),r(17,"span"),c(18,"System default"),a()(),r(19,"div",373)(20,"button",374),h("click",function(){p(e);let t=l();return m(t.closeThemeModal())}),c(21,"Cancel"),a(),r(22,"button",375),h("click",function(){p(e);let t=l();return m(t.applyTheme())}),c(23,"OK"),a()()()()}if(i&2){let e=l();d(6),_("ngIf",e.tempTheme==="Light"),d(5),_("ngIf",e.tempTheme==="Dark"),d(5),_("ngIf",e.tempTheme==="System default")}}function Co(i,o){if(i&1){let e=w();r(0,"div",429),h("click",function(){let t=p(e).$implicit,s=l(2);return m(s.selectWallpaperColor(t))}),a()}if(i&2){let e=o.$implicit,n=l(2);se("background-color",e),E("selected",n.tempWallpaper.color===e)}}function wo(i,o){if(i&1){let e=w();r(0,"div",407),h("click",function(){p(e);let t=l();return m(t.closeWallpaperModal())}),r(1,"div",408),h("click",function(t){return p(e),m(t.stopPropagation())}),r(2,"div",409)(3,"button",58),h("click",function(){p(e);let t=l();return m(t.closeWallpaperModal())}),u(),r(4,"svg",59),g(5,"line",257)(6,"polyline",258),a(),c(7," Set chat wallpaper "),a()(),f(),r(8,"div",410)(9,"div",411)(10,"div",412),c(11,"Hello there!"),a(),r(12,"div",413),c(13,"Wallpaper preview \u2728"),a()()(),r(14,"div",414)(15,"div",415)(16,"label",416)(17,"input",417),k("ngModelChange",function(t){p(e);let s=l();return S(s.tempWallpaper.doodles,t)||(s.tempWallpaper.doodles=t),m(t)}),a(),g(18,"span",418),c(19," Add WhatsApp doodles "),a()(),r(20,"div",419),c(21,"Solid Colors"),a(),r(22,"div",420)(23,"input",8,0),h("change",function(t){p(e);let s=l();return m(s.onWallpaperFileSelected(t))}),a(),r(25,"div",421),h("click",function(){p(e);let t=ve(24);return m(t.click())}),r(26,"div",422),u(),r(27,"svg",113),g(28,"path",114)(29,"polyline",423)(30,"line",424),a()()(),v(31,Co,1,4,"div",425),a()(),f(),r(32,"div",426)(33,"label",427)(34,"input",417),k("ngModelChange",function(t){p(e);let s=l();return S(s.tempWallpaper.doodles,t)||(s.tempWallpaper.doodles=t),m(t)}),a(),g(35,"span",418),c(36," Add Doodles "),a(),g(37,"div",428),r(38,"button",178),h("click",function(){p(e);let t=l();return m(t.closeWallpaperModal())}),c(39,"Cancel"),a(),r(40,"button",179),h("click",function(){p(e);let t=l();return m(t.saveWallpaper())}),c(41,"Set Wallpaper"),a()()()()}if(i&2){let e=l();d(9),se("background-color",e.tempWallpaper.color)("background-image",e.tempWallpaper.image?"url("+e.tempWallpaper.image+")":null),E("has-doodles",e.tempWallpaper.doodles&&!e.tempWallpaper.image),d(8),y("ngModel",e.tempWallpaper.doodles),d(14),_("ngForOf",e.wallpaperColors),d(3),y("ngModel",e.tempWallpaper.doodles)}}var Va=(()=>{class i{authService;socketService;chatService;themeService;router;toastService;messagesContainer;currentUser=null;users=[];selectedUser=null;messages=[];newMessage="";searchQuery="";typingUsers={};showSettings=!1;settingsView="main";generalSettings={startAtLogin:!1,minimizeToTray:!0,language:"English",fontSize:"100% (default)"};securitySettings={showNotifications:!1};privacySettings={lastSeen:"Everyone",profilePhoto:"Everyone",about:"Everyone",status:"My contacts",readReceipts:!0,defaultTimer:"Off",groups:"Everyone",appLock:!1,blockUnknownMessages:!1};notificationSettings={showBanner:"Always",showTaskbarBadge:"Always",messageNotifications:!0,showPreviews:!0,reactionNotifications:!0,statusReactions:!0,callNotifications:!0,incomingCallSounds:!0,incomingSounds:!0,outgoingSounds:!1,messageTone:"Default",groupTone:"Default"};videoSettings={cameraDeviceId:"",micDeviceId:"",speakerDeviceId:""};chatSettings={theme:"System default",wallpaper:{color:"#0b141a",image:null,doodles:!0},mediaQuality:"Standard",autoDownload:{photos:!0,audio:!0,videos:!0,documents:!0},spellCheck:!0,replaceEmoji:!0,enterIsSend:!0};isAppLocked=!1;showSetPasswordModal=!1;showPasswordSetModal=!1;appLockPassword="";tempPassword="";tempConfirmPassword="";showWallpaperModal=!1;wallpaperColors=["#0b141a","#ffffff","#e9edef","#d1d7db","#aeac99","#7acba5","#c7e9fa","#adbdcc","#d6d0f0","#cecece","#f2fce5","#fef3bd","#fee2e9","#e1f9f2","#ffe9e6","#fff6d6","#f3f6f9","#2a3942","#622f42","#1f2c34"];notificationTones=["Default","Alert 1","Alert 2","Alert 3","Alert 4","Alert 5","Alert 6"];notificationAudio=new Audio;tempWallpaper={color:"#0b141a",image:null,doodles:!0};currentTheme="system";availableDevices=[];activeNotifDropdown=null;isEditingName=!1;isEditingAbout=!1;tempProfileName="";tempProfileAbout="";typingTimeout;subscriptions=[];shouldScrollToBottom=!1;constructor(e,n,t,s,x,C){this.authService=e,this.socketService=n,this.chatService=t,this.themeService=s,this.router=x,this.toastService=C,this.currentTheme=this.themeService.getTheme()}ngOnInit(){this.loadSettings(),this.notificationSettings.messageNotifications&&"Notification"in window&&Notification.permission!=="granted"&&Notification.requestPermission(),this.applyFontSize(),this.subscriptions.push(this.authService.currentUser$.subscribe(e=>{this.currentUser=e,e&&!this.socketService.isConnected()&&(this.socketService.connect(e._id),this.loadUsers(),this.setupSocketListeners())}))}loadSettings(){let e=localStorage.getItem("generalSettings");e&&(this.generalSettings=JSON.parse(e));let n=localStorage.getItem("securitySettings");n&&(this.securitySettings=JSON.parse(n));let t=localStorage.getItem("privacySettings");t&&(this.privacySettings=JSON.parse(t));let s=localStorage.getItem("videoSettings");s&&(this.videoSettings=JSON.parse(s));let x=localStorage.getItem("chatSettings");x&&(this.chatSettings=JSON.parse(x));let C=localStorage.getItem("notificationSettings");C&&(this.notificationSettings=ae(ae({},this.notificationSettings),JSON.parse(C)));let b=this.themeService.getTheme();this.currentTheme=b,b==="dark"?this.chatSettings.theme="Dark":b==="light"?this.chatSettings.theme="Light":b==="system"&&(this.chatSettings.theme="System default");let A=localStorage.getItem("appLockPassword");A&&(this.appLockPassword=A,localStorage.getItem("isAppLocked")==="true"&&(this.isAppLocked=!0))}saveSettings(){localStorage.setItem("generalSettings",JSON.stringify(this.generalSettings)),localStorage.setItem("securitySettings",JSON.stringify(this.securitySettings)),localStorage.setItem("privacySettings",JSON.stringify(this.privacySettings)),localStorage.setItem("videoSettings",JSON.stringify(this.videoSettings)),localStorage.setItem("chatSettings",JSON.stringify(this.chatSettings)),localStorage.setItem("notificationSettings",JSON.stringify(this.notificationSettings))}onWallpaperFileSelected(e){let n=e.target.files[0];if(n){let t=new FileReader;t.onload=s=>{this.tempWallpaper.image=s.target.result,this.tempWallpaper.color="#0b141a"},t.readAsDataURL(n)}}openWallpaperModal(){typeof this.chatSettings.wallpaper=="string"?this.tempWallpaper={color:"#0b141a",image:null,doodles:!0}:this.tempWallpaper={color:this.chatSettings.wallpaper.color||"#0b141a",image:this.chatSettings.wallpaper.image||null,doodles:this.chatSettings.wallpaper.doodles},this.showWallpaperModal=!0,this.showSettings=!1}closeWallpaperModal(){this.showWallpaperModal=!1,this.showSettings=!0}selectWallpaperColor(e){this.tempWallpaper.color=e,this.tempWallpaper.image=null}saveWallpaper(){this.chatSettings.wallpaper=ae({},this.tempWallpaper),this.saveSettings(),this.showWallpaperModal=!1,this.showSettings=!0}toggleSecurityNotifications(){this.saveSettings();let e=this.securitySettings.showNotifications?"enabled":"disabled";this.toastService.show(`Security notifications ${e}`)}ngAfterViewChecked(){this.shouldScrollToBottom&&(this.scrollToBottom(),this.shouldScrollToBottom=!1)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe()),this.socketService.disconnect()}get filteredUsers(){return this.searchQuery?this.users.filter(e=>e.username.toLowerCase().includes(this.searchQuery.toLowerCase())):this.users}loadUsers(){this.chatService.getUsers().subscribe({next:e=>this.users=e,error:e=>console.error("Failed to load users:",e)})}selectUser(e){this.selectedUser=e,this.loadMessages(e._id),this.markMessagesAsRead(e._id)}loadMessages(e){this.chatService.getMessages(e).subscribe({next:n=>{console.log("ChatComponent: Loaded messages:",n),this.messages=n,this.shouldScrollToBottom=!0},error:n=>console.error("Failed to load messages:",n)})}setupSocketListeners(){this.subscriptions.push(this.socketService.onMessageSent().subscribe(e=>{this.selectedUser&&(e.receiver._id===this.selectedUser._id||e.sender._id===this.selectedUser._id)&&(this.messages.push(e),this.shouldScrollToBottom=!0)}),this.socketService.onReceiveMessage().subscribe(e=>{this.selectedUser&&e.sender._id===this.selectedUser._id?(this.messages.push(e),this.shouldScrollToBottom=!0,this.markMessagesAsRead(e.sender._id),this.socketService.markMessagesSeen([e._id],e.sender._id,this.currentUser._id),this.notificationSettings.incomingSounds&&this.playNotificationSound("message")):this.handleIncomingNotification(e)}),this.socketService.onUserTyping().subscribe(e=>this.typingUsers[e.userId]=e.isTyping),this.socketService.onMessagesSeen().subscribe(e=>{this.messages.forEach(n=>{e.messageIds.includes(n._id)&&(n.seen=!0,n.seenAt=e.seenAt)})}),this.socketService.onMessageDelivered().subscribe(e=>{let n=this.messages.find(t=>t._id===e.messageId);n&&(n.delivered=!0,n.deliveredAt=e.deliveredAt)}))}sendMessage(){!this.newMessage.trim()||!this.selectedUser||!this.currentUser||(this.socketService.sendMessage({senderId:this.currentUser._id,receiverId:this.selectedUser._id,content:this.newMessage.trim()}),this.newMessage="",this.socketService.sendTyping({senderId:this.currentUser._id,receiverId:this.selectedUser._id,isTyping:!1}))}onTyping(){!this.selectedUser||!this.currentUser||(this.typingTimeout&&clearTimeout(this.typingTimeout),this.socketService.sendTyping({senderId:this.currentUser._id,receiverId:this.selectedUser._id,isTyping:!0}),this.typingTimeout=setTimeout(()=>{this.socketService.sendTyping({senderId:this.currentUser._id,receiverId:this.selectedUser._id,isTyping:!1})},2e3))}markMessagesAsRead(e){this.chatService.markMessagesAsRead(e).subscribe()}callModal;isUserOnline(e){return this.socketService.isUserOnline(e)}onVideoCall(){!this.selectedUser||!this.currentUser||this.callModal.startCall(this.selectedUser._id,this.selectedUser.fullName||this.selectedUser.username,"video")}onVoiceCall(){!this.selectedUser||!this.currentUser||this.callModal.startCall(this.selectedUser._id,this.selectedUser.fullName||this.selectedUser.username,"audio")}formatTime(e){return new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})}getAvatarUrl(e){if(!e)return"";if(e.startsWith("http"))return e;let n=e.replace(/\\/g,"/");return`${$.socketUrl}/${n}`}scrollToBottom(){try{this.messagesContainer&&(this.messagesContainer.nativeElement.scrollTop=this.messagesContainer.nativeElement.scrollHeight)}catch{}}onFileSelected(e){let n=e.target.files[0];n&&(console.log("Uploading file:",n.name),this.authService.uploadAvatar(n).subscribe({next:t=>{console.log("Avatar upload response:",t),this.currentUser=Ke(ae({},this.currentUser),{avatar:t.avatar})},error:t=>{console.error("Avatar upload failed:",t),alert("Failed to upload avatar: "+(t.error?.message||t.message))}}))}onLogout(){this.authService.logout().subscribe({next:()=>{this.socketService.disconnect(),this.toastService.success("Logged out successfully"),this.router.navigate(["/login"])},error:()=>{sessionStorage.clear(),this.router.navigate(["/login"])}})}onAvatarError(){this.currentUser&&(this.currentUser.avatar=void 0)}deselectUser(){this.selectedUser=null}previewFile=null;previewUrl=null;isUploading=!1;uploadProgress=0;onChatFileSelected(e){let n=e.target.files[0];if(!(!n||!this.selectedUser||!this.currentUser)&&(this.previewFile=n,this.previewUrl=null,n.type.startsWith("image/")||n.type.startsWith("video/"))){let t=new FileReader;t.onload=s=>{this.previewUrl=s.target.result},t.readAsDataURL(n)}}cancelPreview(){this.previewFile=null,this.previewUrl=null}confirmSendFile(){if(!this.previewFile||!this.selectedUser||!this.currentUser)return;let e=this.previewFile,n="file";e.type.startsWith("image/")?n="image":e.type.startsWith("video/")?n="video":e.type.startsWith("audio/")&&(n="audio");let t="temp-"+Date.now(),s={_id:t,sender:this.currentUser,receiver:this.selectedUser,content:n==="image"?"Image":n==="video"?"Video":e.name,messageType:n,fileUrl:this.previewUrl||"",delivered:!1,seen:!1,createdAt:new Date,updatedAt:new Date,uploadProgress:0,localId:t};this.messages.push(s),this.shouldScrollToBottom=!0,this.cancelPreview(),this.chatService.uploadFile(e).subscribe({next:x=>{let C=this.messages.findIndex(b=>b.localId===t);if(!(C===-1&&x.type!==ye.Response)){if(x.type===ye.UploadProgress){if(x.total){let b=Math.round(100*x.loaded/x.total);C!==-1&&(this.messages[C].uploadProgress=b)}}else if(x.type===ye.Response){let b=x.body;console.log("File uploaded:",b),this.messages=this.messages.filter(A=>A.localId!==t),this.socketService.sendMessage({senderId:this.currentUser._id,receiverId:this.selectedUser._id,content:n==="image"?"Image":n==="video"?"Video":e.name,fileUrl:b.fileUrl,messageType:n})}}},error:x=>{console.error("Upload failed:",x),alert("Failed to send file"),this.messages=this.messages.filter(C=>C.localId!==t)}})}showEmojiPicker=!1;emojis=["\u{1F600}","\u{1F603}","\u{1F604}","\u{1F601}","\u{1F606}","\u{1F605}","\u{1F602}","\u{1F923}","\u{1F972}","\u{1F60A}","\u{1F607}","\u{1F642}","\u{1F643}","\u{1F609}","\u{1F60C}","\u{1F60D}","\u{1F970}","\u{1F618}","\u{1F617}","\u{1F619}","\u{1F61A}","\u{1F60B}","\u{1F61B}","\u{1F61D}","\u{1F61C}","\u{1F92A}","\u{1F928}","\u{1F9D0}","\u{1F913}","\u{1F60E}","\u{1F978}","\u{1F929}","\u{1F973}","\u{1F60F}","\u{1F612}","\u{1F61E}","\u{1F614}","\u{1F61F}","\u{1F615}","\u{1F641}","\u2639\uFE0F","\u{1F623}","\u{1F616}","\u{1F62B}","\u{1F629}","\u{1F97A}","\u{1F622}","\u{1F62D}","\u{1F624}","\u{1F620}","\u{1F621}","\u{1F92C}","\u{1F92F}","\u{1F633}","\u{1F975}","\u{1F976}","\u{1F631}","\u{1F628}","\u{1F630}","\u{1F625}","\u{1F613}","\u{1F917}","\u{1F914}","\u{1F92D}","\u{1F92B}","\u{1F925}","\u{1F636}","\u{1F610}","\u{1F611}","\u{1F62C}","\u{1F644}","\u{1F62F}","\u{1F626}","\u{1F627}","\u{1F62E}","\u{1F632}","\u{1F971}","\u{1F634}","\u{1F924}","\u{1F62A}","\u{1F635}","\u{1F910}","\u{1F974}","\u{1F922}","\u{1F92E}","\u{1F927}","\u{1F637}","\u{1F912}","\u{1F915}","\u{1F911}","\u{1F920}","\u{1F608}","\u{1F47F}","\u{1F479}","\u{1F47A}","\u{1F921}","\u{1F4A9}","\u{1F47B}","\u{1F480}","\u2620\uFE0F","\u{1F47D}","\u{1F47E}","\u{1F916}","\u{1F383}","\u{1F63A}","\u{1F638}","\u{1F639}","\u{1F63B}","\u{1F63C}","\u{1F63D}","\u{1F640}","\u{1F63F}","\u{1F63E}","\u{1F44B}","\u{1F91A}","\u{1F590}\uFE0F","\u270B","\u{1F596}","\u{1F44C}","\u{1F90C}","\u{1F90F}","\u270C\uFE0F","\u{1F91E}","\u{1F91F}","\u{1F918}","\u{1F919}","\u{1F448}","\u{1F449}","\u{1F446}","\u{1F595}","\u{1F447}","\u261D\uFE0F","\u{1F44D}","\u{1F44E}","\u270A","\u{1F44A}","\u{1F91B}","\u{1F91C}","\u{1F44F}","\u{1F64C}","\u{1F450}","\u{1F932}","\u{1F91D}","\u{1F64F}","\u270D\uFE0F","\u{1F485}","\u{1F933}","\u{1F4AA}","\u{1F9E0}","\u{1FAC0}","\u{1FAC1}","\u{1F9B7}","\u{1F9B4}","\u{1F440}","\u{1F441}\uFE0F","\u{1F445}","\u{1F444}","\u{1F48B}","\u{1FA78}","\u{1F498}","\u{1F49D}","\u{1F496}","\u{1F497}","\u{1F493}","\u{1F49E}","\u{1F495}","\u{1F49F}","\u2763\uFE0F","\u{1F494}","\u2764\uFE0F","\u{1F9E1}","\u{1F49B}","\u{1F49A}","\u{1F499}","\u{1F49C}","\u{1F90E}","\u{1F5A4}","\u{1F90D}","\u{1F4AF}","\u{1F4A2}","\u{1F4A5}","\u{1F4AB}","\u{1F4A6}","\u{1F4A8}","\u{1F573}\uFE0F","\u{1F4A3}","\u{1F4AC}","\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F","\u{1F5E8}\uFE0F","\u{1F5EF}\uFE0F","\u{1F4AD}","\u{1F4A4}","\u{1F436}","\u{1F431}","\u{1F42D}","\u{1F439}","\u{1F430}","\u{1F98A}","\u{1F43B}","\u{1F43C}","\u{1F428}","\u{1F42F}","\u{1F981}","\u{1F42E}","\u{1F437}","\u{1F43D}","\u{1F438}","\u{1F435}","\u{1F648}","\u{1F649}","\u{1F64A}","\u{1F412}","\u{1F414}","\u{1F427}","\u{1F426}","\u{1F424}","\u{1F423}","\u{1F425}","\u{1F986}","\u{1F985}","\u{1F989}","\u{1F987}","\u{1F43A}","\u{1F417}","\u{1F434}","\u{1F984}","\u{1F41D}","\u{1F41B}","\u{1F98B}","\u{1F40C}","\u{1F41E}","\u{1F41C}","\u{1F99F}","\u{1F997}","\u{1F577}\uFE0F","\u{1F578}\uFE0F","\u{1F982}","\u{1F422}","\u{1F40D}","\u{1F98E}","\u{1F996}","\u{1F995}","\u{1F419}","\u{1F991}","\u{1F990}","\u{1F99E}","\u{1F980}","\u{1F421}","\u{1F420}","\u{1F41F}","\u{1F42C}","\u{1F433}","\u{1F40B}","\u{1F988}","\u{1F40A}","\u{1F405}","\u{1F406}","\u{1F993}","\u{1F98D}","\u{1F9A7}","\u{1F418}","\u{1F99B}","\u{1F98F}","\u{1F42A}","\u{1F42B}","\u{1F992}","\u{1F998}","\u{1F403}","\u{1F402}","\u{1F404}","\u{1F40E}","\u{1F416}","\u{1F40F}","\u{1F411}","\u{1F999}","\u{1F410}","\u{1F98C}","\u{1F415}","\u{1F429}","\u{1F9AE}","\u{1F415}\u200D\u{1F9BA}","\u{1F408}","\u{1F413}","\u{1F983}","\u{1F99A}","\u{1F99C}","\u{1F9A2}","\u{1F9A9}","\u{1F54A}\uFE0F","\u{1F407}","\u{1F99D}","\u{1F9A8}","\u{1F9A1}","\u{1F9A6}","\u{1F9A5}","\u{1F401}","\u{1F400}","\u{1F43F}\uFE0F","\u{1F994}","\u{1F43E}","\u{1F409}","\u{1F432}","\u{1F335}","\u{1F384}","\u{1F332}","\u{1F333}","\u{1F334}","\u{1F331}","\u{1F33F}","\u2618\uFE0F","\u{1F340}","\u{1F38D}","\u{1F38B}","\u{1F343}","\u{1F342}","\u{1F341}","\u{1F344}","\u{1F41A}","\u{1F33E}","\u{1F490}","\u{1F337}","\u{1F339}","\u{1F940}","\u{1F33A}","\u{1F338}","\u{1F33C}","\u{1F33B}","\u{1F31E}","\u{1F31D}","\u{1F31B}","\u{1F31C}","\u{1F31A}","\u{1F315}","\u{1F316}","\u{1F317}","\u{1F318}","\u{1F311}","\u{1F312}","\u{1F313}","\u{1F314}","\u{1F319}","\u{1F30E}","\u{1F30D}","\u{1F30F}","\u{1FA90}","\u{1F4AB}","\u2B50","\u{1F31F}","\u2728","\u26A1","\u2604\uFE0F","\u{1F4A5}","\u{1F525}","\u{1F32A}\uFE0F","\u{1F308}","\u2600\uFE0F","\u{1F324}\uFE0F","\u26C5","\u{1F325}\uFE0F","\u2601\uFE0F","\u{1F326}\uFE0F","\u{1F327}\uFE0F","\u{1F328}\uFE0F","\u{1F329}\uFE0F","\u26A1","\u2744\uFE0F","\u2603\uFE0F","\u26C4","\u{1F32C}\uFE0F","\u{1F4A8}","\u{1F4A7}","\u{1F4A6}","\u2614","\u2602\uFE0F","\u{1F30A}","\u{1F32B}\uFE0F","\u{1F34F}","\u{1F34E}","\u{1F350}","\u{1F34A}","\u{1F34B}","\u{1F34C}","\u{1F349}","\u{1F347}","\u{1F353}","\u{1F348}","\u{1F352}","\u{1F351}","\u{1F96D}","\u{1F34D}","\u{1F965}","\u{1F95D}","\u{1F345}","\u{1F346}","\u{1F951}","\u{1F966}","\u{1F96C}","\u{1F952}","\u{1F336}\uFE0F","\u{1F33D}","\u{1F955}","\u{1F9C4}","\u{1F9C5}","\u{1F954}","\u{1F360}","\u{1F950}","\u{1F96F}","\u{1F35E}","\u{1F956}","\u{1F968}","\u{1F9C0}","\u{1F95A}","\u{1F373}","\u{1F9C8}","\u{1F95E}","\u{1F9C7}","\u{1F953}","\u{1F969}","\u{1F357}","\u{1F356}","\u{1F9B4}","\u{1F32D}","\u{1F354}","\u{1F35F}","\u{1F355}","\u{1F96A}","\u{1F959}","\u{1F9C6}","\u{1F32E}","\u{1F32F}","\u{1F957}","\u{1F958}","\u{1F96B}","\u{1F35D}","\u{1F35C}","\u{1F372}","\u{1F35B}","\u{1F363}","\u{1F371}","\u{1F95F}","\u{1F9AA}","\u{1F364}","\u{1F359}","\u{1F35A}","\u{1F358}","\u{1F365}","\u{1F960}","\u{1F96E}","\u{1F362}","\u{1F361}","\u{1F367}","\u{1F368}","\u{1F366}","\u{1F967}","\u{1F9C1}","\u{1F370}","\u{1F382}","\u{1F36E}","\u{1F36D}","\u{1F36C}","\u{1F36B}","\u{1F37F}","\u{1F369}","\u{1F36A}","\u{1F330}","\u{1F95C}","\u{1F36F}","\u{1F95B}","\u{1F37C}","\u2615","\u{1F375}","\u{1F9C3}","\u{1F964}","\u{1F376}","\u{1F37A}","\u{1F37B}","\u{1F942}","\u{1F377}","\u{1F943}","\u{1F378}","\u{1F379}","\u{1F9C9}","\u{1F37E}","\u{1F9CA}","\u{1F944}","\u{1F374}","\u{1F37D}\uFE0F","\u{1F963}","\u{1F961}","\u{1F962}","\u{1F9C2}","\u26BD","\u{1F3C0}","\u{1F3C8}","\u26BE","\u{1F94E}","\u{1F3BE}","\u{1F3D0}","\u{1F3C9}","\u{1F94F}","\u{1F3B1}","\u{1FA80}","\u{1F3D3}","\u{1F3F8}","\u{1F3D2}","\u{1F3D1}","\u{1F94D}","\u{1F3CF}","\u{1F945}","\u26F3","\u{1FA81}","\u{1F3F9}","\u{1F3A3}","\u{1F93F}","\u{1F94A}","\u{1F94B}","\u{1F3BD}","\u{1F6F9}","\u{1F6F7}","\u26F8\uFE0F","\u{1F94C}","\u{1F3BF}","\u26F7\uFE0F","\u{1F3C2}","\u{1FA82}","\u{1F3CB}\uFE0F","\u{1F93C}","\u{1F938}","\u26F9\uFE0F","\u{1F93A}","\u{1F93E}","\u{1F3CC}\uFE0F","\u{1F3C7}","\u{1F9D8}","\u{1F3C4}","\u{1F3CA}","\u{1F93D}","\u{1F6A3}","\u{1F9D7}","\u{1F6B5}","\u{1F6B4}","\u{1F3C6}","\u{1F947}","\u{1F948}","\u{1F949}","\u{1F3C5}","\u{1F396}\uFE0F","\u{1F3F5}\uFE0F","\u{1F397}\uFE0F","\u{1F3AB}","\u{1F39F}\uFE0F","\u{1F3AA}","\u{1F939}","\u{1F3AD}","\u{1FA70}","\u{1F3A8}","\u{1F3AC}","\u{1F3A4}","\u{1F3A7}","\u{1F3BC}","\u{1F3B9}","\u{1F941}","\u{1F3B7}","\u{1F3BA}","\u{1F3B8}","\u{1FA95}","\u{1F3BB}","\u{1F3B2}","\u265F\uFE0F","\u{1F3AF}","\u{1F3B3}","\u{1F3AE}","\u{1F3B0}","\u{1F9E9}","\u{1F697}","\u{1F695}","\u{1F699}","\u{1F68C}","\u{1F68E}","\u{1F3CE}\uFE0F","\u{1F693}","\u{1F691}","\u{1F692}","\u{1F690}","\u{1F69A}","\u{1F69B}","\u{1F69C}","\u{1F3CD}\uFE0F","\u{1F6F5}","\u{1F6B2}","\u{1F6F4}","\u{1F6FA}","\u{1F694}","\u{1F68D}","\u{1F698}","\u{1F696}","\u{1F6A1}","\u{1F6A0}","\u{1F69F}","\u{1F683}","\u{1F68B}","\u{1F69E}","\u{1F69D}","\u{1F684}","\u{1F685}","\u{1F688}","\u{1F682}","\u{1F686}","\u{1F687}","\u{1F68A}","\u{1F689}","\u2708\uFE0F","\u{1F6EB}","\u{1F6EC}","\u{1F6E9}\uFE0F","\u{1F4BA}","\u{1F6F0}\uFE0F","\u{1F680}","\u{1F6F8}","\u{1F681}","\u{1F6F6}","\u26F5","\u{1F6A4}","\u{1F6E5}\uFE0F","\u{1F6F3}\uFE0F","\u26F4\uFE0F","\u{1F6A2}","\u2693","\u26FD","\u{1F6A7}","\u231A","\u{1F4F1}","\u{1F4F2}","\u{1F4BB}","\u2328\uFE0F","\u{1F5A5}\uFE0F","\u{1F5A8}\uFE0F","\u{1F5B1}\uFE0F","\u{1F5B2}\uFE0F","\u{1F579}\uFE0F","\u{1F5DC}\uFE0F","\u{1F4BD}","\u{1F4BE}","\u{1F4BF}","\u{1F4C0}","\u{1F4FC}","\u{1F4F7}","\u{1F4F8}","\u{1F4F9}","\u{1F3A5}","\u{1F4FD}\uFE0F","\u{1F39E}\uFE0F","\u{1F4DE}","\u260E\uFE0F","\u{1F4DF}","\u{1F4E0}","\u{1F4FA}","\u{1F4FB}","\u{1F399}\uFE0F","\u{1F39A}\uFE0F","\u{1F39B}\uFE0F","\u{1F9ED}","\u23F1\uFE0F","\u23F2\uFE0F","\u23F0","\u{1F570}\uFE0F","\u231B","\u23F3","\u{1F4E1}","\u{1F50B}","\u{1F50C}","\u{1F4A1}","\u{1F526}","\u{1F56F}\uFE0F","\u{1FA94}","\u{1F9EF}","\u{1F6E2}\uFE0F","\u{1F4B8}","\u{1F4B5}","\u{1F4B4}","\u{1F4B6}","\u{1F4B7}","\u{1F4B0}","\u{1F4B3}","\u{1F48E}","\u2696\uFE0F","\u{1F9F0}","\u{1F527}","\u{1F528}","\u2692\uFE0F","\u{1F6E0}\uFE0F","\u26CF\uFE0F","\u{1F529}","\u2699\uFE0F","\u{1F9F1}","\u26D3\uFE0F","\u{1F9F2}","\u{1F52B}","\u{1F4A3}","\u{1F9E8}","\u{1FA93}","\u{1F52A}","\u{1F5E1}\uFE0F","\u2694\uFE0F","\u{1F6E1}\uFE0F","\u{1F6AC}","\u26B0\uFE0F","\u26B1\uFE0F","\u{1F3FA}","\u{1F52E}","\u{1F4FF}","\u{1F9FF}","\u{1F488}","\u2697\uFE0F","\u{1F52D}","\u{1F52C}","\u{1F573}\uFE0F","\u{1F48A}","\u{1F489}","\u{1FA78}","\u{1F9EC}","\u{1FA7A}","\u{1FA79}","\u{1F321}\uFE0F","\u{1F9FC}","\u{1FA92}","\u{1F6BD}","\u{1F6B0}","\u{1F6BF}","\u{1F6C1}","\u{1F6C0}","\u{1F9F9}","\u{1F9FA}","\u{1F9FB}","\u{1F9FD}","\u{1F511}","\u{1F5DD}\uFE0F","\u{1F6CB}\uFE0F","\u{1FA91}","\u{1F6CC}","\u{1F6CF}\uFE0F","\u{1F6AA}","\u{1F4E2}","\u{1F4E3}","\u{1F514}","\u{1F515}","\u{1F3B5}","\u{1F3B6}","\u{1F3E7}","\u{1F6AE}","\u{1F6B0}","\u267F","\u{1F6B9}","\u{1F6BA}","\u{1F6BB}","\u{1F6BC}","\u{1F6BE}","\u{1F6C2}","\u{1F6C3}","\u{1F6C4}","\u{1F6C5}","\u26A0\uFE0F","\u{1F6B8}","\u26D4","\u{1F6AB}","\u{1F6B3}","\u{1F6AD}","\u{1F6AF}","\u{1F6B1}","\u{1F6B7}","\u{1F4F5}","\u{1F51E}","\u2622\uFE0F","\u2623\uFE0F","\u2B06\uFE0F","\u2197\uFE0F","\u27A1\uFE0F","\u2198\uFE0F","\u2B07\uFE0F","\u2199\uFE0F","\u2B05\uFE0F","\u2196\uFE0F","\u2195\uFE0F","\u2194\uFE0F","\u21A9\uFE0F","\u21AA\uFE0F","\u2934\uFE0F","\u2935\uFE0F","\u{1F503}","\u{1F504}","\u{1F519}","\u{1F51A}","\u{1F51B}","\u{1F51C}","\u{1F51D}","\u{1F6D0}","\u269B\uFE0F","\u{1F549}\uFE0F","\u2721\uFE0F","\u2638\uFE0F","\u262F\uFE0F","\u271D\uFE0F","\u2626\uFE0F","\u262A\uFE0F","\u262E\uFE0F","\u{1F54E}","\u{1F52F}","\u2648","\u2649","\u264A","\u264B","\u264C","\u264D","\u264E","\u264F","\u2650","\u2651","\u2652","\u2653","\u26CE","\u{1F500}","\u{1F501}","\u{1F502}","\u25B6\uFE0F","\u23E9","\u23ED\uFE0F","\u23EF\uFE0F","\u25C0\uFE0F","\u23EA","\u23EE\uFE0F","\u{1F53C}","\u23EB","\u{1F53D}","\u23EC","\u23F8\uFE0F","\u23F9\uFE0F","\u23FA\uFE0F","\u23CF\uFE0F","\u{1F3A6}","\u{1F505}","\u{1F506}","\u{1F4F6}","\u{1F4F3}","\u{1F4F4}","\u2640\uFE0F","\u2642\uFE0F","\u26A7\uFE0F","\u2716\uFE0F","\u2795","\u2796","\u2797","\u267E\uFE0F","\u203C\uFE0F","\u2049\uFE0F","\u2753","\u2754","\u2755","\u2757","\u3030\uFE0F","\u{1F4B1}","\u{1F4B2}","\u2695\uFE0F","\u267B\uFE0F","\u269C\uFE0F","\u{1F531}","\u{1F4DB}","\u{1F530}","\u2B55","\u2705","\u2611\uFE0F","\u2714\uFE0F","\u274C","\u274E","\u27B0","\u27BF","\u303D\uFE0F","\u2733\uFE0F","\u2734\uFE0F","\u2747\uFE0F","\u2122\uFE0F","\xA9\uFE0F","\xAE\uFE0F","\u3030\uFE0F","\u{1F517}"];toggleEmojiPicker(){this.showEmojiPicker=!this.showEmojiPicker}addEmoji(e){this.newMessage+=e,this.showEmojiPicker=!1}isRecording=!1;isInitializing=!1;mediaRecorder=null;audioChunks=[];startRecording(){return R(this,null,function*(){if(!(this.isRecording||this.isInitializing)){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){window.location.protocol==="http:"&&window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1"?alert(`\u26A0\uFE0F Browser Security Block:

Microphone is blocked because you are using an IP address (`+window.location.hostname+`) without HTTPS.

SOLUTIONS:
1. Use "http://localhost:4200" instead (if on this PC).
2. OR go to "chrome://flags" -> Enable "Insecure origins treated as secure"
   and add: `+window.location.origin):alert("Audio recording not supported or permission denied. Please allow microphone access.");return}this.isInitializing=!0;try{let e=yield navigator.mediaDevices.getUserMedia({audio:!0});if(!this.isInitializing){e.getTracks().forEach(n=>n.stop());return}this.mediaRecorder=new MediaRecorder(e),this.audioChunks=[],this.isRecording=!0,this.isInitializing=!1,this.mediaRecorder.ondataavailable=n=>{this.audioChunks.push(n.data)},this.mediaRecorder.onstop=()=>{if(!this.isRecording)return;let n=new Blob(this.audioChunks,{type:"audio/webm"});if(n.size>0){let t=new File([n],"voice-message.webm",{type:"audio/webm"});this.uploadAudio(t)}this.isRecording=!1,e.getTracks().forEach(t=>t.stop()),this.mediaRecorder=null},this.mediaRecorder.start(),console.log("Recording started")}catch(e){console.error("Error accessing microphone:",e),this.isInitializing=!1,this.isRecording=!1}}})}stopRecording(){this.mediaRecorder&&this.isRecording&&this.mediaRecorder.state!=="inactive"&&this.mediaRecorder.stop()}uploadAudio(e){!this.selectedUser||!this.currentUser||this.chatService.uploadFile(e).subscribe({next:n=>{this.socketService.sendMessage({senderId:this.currentUser._id,receiverId:this.selectedUser._id,content:"Voice Message",fileUrl:n.fileUrl,messageType:"audio"})},error:n=>console.error("Audio upload failed",n)})}openSettings(e="main"){this.showSettings=!0,this.settingsView=e,e==="video-voice"&&this.loadMediaDevices()}closeSettings(){this.showSettings=!1}navigateToSettings(e){this.settingsView=e,this.showSettings=!0,e==="video-voice"&&this.loadMediaDevices()}selectTheme(e){this.themeService.setTheme(e),this.currentTheme=e,e==="dark"?this.chatSettings.theme="Dark":e==="light"?this.chatSettings.theme="Light":e==="system"&&(this.chatSettings.theme="System default"),this.saveSettings()}applyFontSize(){let e=this.generalSettings.fontSize,n="100%";e==="125%"&&(n="125%"),e==="150%"&&(n="150%"),document.body.style.zoom=n}loadMediaDevices(){return R(this,null,function*(){try{yield navigator.mediaDevices.getUserMedia({audio:!0,video:!0});let e=yield navigator.mediaDevices.enumerateDevices();this.availableDevices=e.map(n=>({kind:n.kind,label:n.label||`${n.kind} (${n.deviceId.slice(0,5)}...)`,deviceId:n.deviceId}))}catch(e){console.error("Error fetching devices",e)}})}get audioInputDevices(){return this.availableDevices.filter(e=>e.kind==="audioinput")}get audioOutputDevices(){return this.availableDevices.filter(e=>e.kind==="audiooutput")}get videoInputDevices(){return this.availableDevices.filter(e=>e.kind==="videoinput")}toggleAppLock(e){this.privacySettings.appLock?(this.tempPassword="",this.tempConfirmPassword="",this.showSetPasswordModal=!0):(this.appLockPassword="",localStorage.removeItem("appLockPassword"),localStorage.removeItem("isAppLocked"),this.saveSettings())}closeSetPasswordModal(){this.showSetPasswordModal=!1,this.appLockPassword||(this.privacySettings.appLock=!1)}confirmSetPassword(){if(!this.tempPassword||!this.tempConfirmPassword){alert("Please enter a password.");return}if(this.tempPassword.length<6){alert("Password must be at least 6 characters.");return}if(this.tempPassword!==this.tempConfirmPassword){alert("Passwords do not match.");return}this.appLockPassword=this.tempPassword,localStorage.setItem("appLockPassword",this.appLockPassword),this.showSetPasswordModal=!1,this.showPasswordSetModal=!0,this.saveSettings()}shouldShowMedia(e){if(e.sender._id===this.currentUser?._id||e.isManuallyDownloaded)return!0;let n=e.messageType,t=this.chatSettings.autoDownload;return!!(n==="image"&&t.photos||n==="video"&&t.videos||n==="audio"&&t.audio||n==="file"&&t.documents)}downloadMedia(e){e.isManuallyDownloaded=!0}downloadFile(e){if(!e)return;let n=this.getAvatarUrl(e);window.open(n,"_blank")}resetAutoDownloadSettings(){this.chatSettings.autoDownload={photos:!0,audio:!0,videos:!0,documents:!0},this.saveSettings()}handleIncomingNotification(e){this.notificationSettings.messageNotifications&&this.playNotificationSound("message"),this.notificationSettings.messageNotifications&&this.notificationSettings.showBanner!=="Never"&&this.showBrowserNotification(e)}playNotificationSound(e){let n=e==="group"?this.notificationSettings.groupTone:this.notificationSettings.messageTone;if(n==="None")return;let t="https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3";n==="Alert 1"&&(t="https://assets.mixkit.co/active_storage/sfx/2358/2358-preview.mp3"),n==="Alert 2"&&(t="https://assets.mixkit.co/active_storage/sfx/2354/2354-preview.mp3"),this.notificationAudio.src=t,this.notificationAudio.play().catch(s=>console.warn("Audio play failed",s))}toggleNotifDropdown(e,n){n.stopPropagation(),this.activeNotifDropdown===e?this.activeNotifDropdown=null:this.activeNotifDropdown=e}selectNotifSetting(e,n){this.notificationSettings[e]=n,this.saveSettings(),this.activeNotifDropdown=null}closeNotifDropdowns(){this.activeNotifDropdown=null}showBrowserNotification(e){if("Notification"in window&&Notification.permission==="granted"){let n=e.sender.username||"New Message",t=this.notificationSettings.showPreviews?e.content||"Sent a file":"New Message",s=new Notification(n,{body:t,icon:"assets/icons/icon-128x128.png",silent:!0});s.onclick=()=>{window.focus(),s.close()}}}startEditName(){this.isEditingName=!0,this.tempProfileName=this.currentUser?.username||""}saveName(){if(!this.tempProfileName.trim()||this.tempProfileName===this.currentUser?.username){this.isEditingName=!1;return}this.authService.updateProfile({username:this.tempProfileName}).subscribe({next:e=>{this.isEditingName=!1,this.toastService.show("Name updated successfully")},error:e=>{console.error("Failed to update name",e),this.toastService.show("Failed to update name","error")}})}cancelEditName(){this.isEditingName=!1}startEditAbout(){this.isEditingAbout=!0,this.tempProfileAbout=this.currentUser?.about||""}saveAbout(){if(this.tempProfileAbout===this.currentUser?.about){this.isEditingAbout=!1;return}this.authService.updateProfile({about:this.tempProfileAbout}).subscribe({next:e=>{this.isEditingAbout=!1,this.toastService.show("About updated successfully")},error:e=>{console.error("Failed to update about",e),this.toastService.show("Failed to update about","error")}})}cancelEditAbout(){this.isEditingAbout=!1}refreshProfile(){this.authService.getProfile().subscribe()}closePasswordSetModal(){this.showPasswordSetModal=!1}lockApp(){this.isAppLocked=!0,localStorage.setItem("isAppLocked","true"),this.showPasswordSetModal=!1}unlockApp(){this.tempPassword===this.appLockPassword?(this.isAppLocked=!1,localStorage.removeItem("isAppLocked"),this.tempPassword=""):alert("Incorrect password")}unlockPasswordInput="";isPasswordVisible=!1;togglePasswordVisibility(){this.isPasswordVisible=!this.isPasswordVisible}attemptUnlock(){this.unlockPasswordInput===this.appLockPassword?(this.isAppLocked=!1,localStorage.removeItem("isAppLocked"),this.unlockPasswordInput="",this.isPasswordVisible=!1):alert("Incorrect password")}showThemeModal=!1;tempTheme="System default";openThemeModal(){this.tempTheme=this.chatSettings.theme,this.showThemeModal=!0}closeThemeModal(){this.showThemeModal=!1}applyTheme(){let e="system";this.tempTheme==="Dark"?e="dark":this.tempTheme==="Light"?e="light":this.tempTheme==="System default"&&(e="system"),this.selectTheme(e),this.closeThemeModal()}static \u0275fac=function(n){return new(n||i)(F(at),F(Le),F(Qt),F(Yt),F(ot),F(rt))};static \u0275cmp=xe({type:i,selectors:[["app-chat"]],viewQuery:function(n,t){if(n&1&&(K(Ln,5),K(Nn,5)),n&2){let s;X(s=Z())&&(t.messagesContainer=s.first),X(s=Z())&&(t.callModal=s.first)}},hostBindings:function(n,t){n&1&&h("click",function(){return t.closeNotifDropdowns()},!1,$e)},standalone:!0,features:[Ce],decls:39,vars:25,consts:[["fileInput",""],["callModal",""],["messagesContainer",""],["chatFileInput",""],[1,"chat-container"],[1,"sidebar"],[1,"sidebar-header"],[1,"user-info"],["type","file","accept","image/*",2,"display","none",3,"change"],["title","View Profile",1,"avatar-container",3,"click"],["class","avatar",4,"ngIf"],["class","avatar-img",3,"src","alt","error",4,"ngIf"],[1,"edit-overlay"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"],["cx","12","cy","13","r","4"],[1,"username"],[1,"header-actions"],["title","Settings",1,"icon-btn",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["cx","12","cy","12","r","3"],["d","M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"],[1,"search-box"],["width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["cx","11","cy","11","r","8"],["d","m21 21-4.35-4.35"],["type","text","placeholder","Search or start new chat",3,"ngModelChange","ngModel"],[1,"users-list"],["class","user-item",3,"active","click",4,"ngFor","ngForOf"],["class","no-users",4,"ngIf"],[1,"chat-area"],[1,"chat-wallpaper"],["class","no-chat",4,"ngIf"],[4,"ngIf"],["class","modal-overlay",4,"ngIf"],["class","settings-overlay",3,"click",4,"ngIf"],["class","locked-overlay",4,"ngIf"],["class","wallpaper-modal-overlay",3,"click",4,"ngIf"],[1,"avatar"],[1,"avatar-img",3,"error","src","alt"],[1,"user-item",3,"click"],[1,"user-avatar"],["class","avatar-img","style","width: 100%; height: 100%; border-radius: 50%; object-fit: cover;",3,"src","error",4,"ngIf"],[1,"status-dot"],[1,"user-details"],[1,"user-name"],[1,"user-status"],[1,"avatar-img",2,"width","100%","height","100%","border-radius","50%","object-fit","cover",3,"error","src"],[1,"no-users"],[1,"no-chat"],[1,"no-chat-content","animate-fade-in"],["width","80","height","80","viewBox","0 0 24 24","fill","none","stroke","url(#gradient)","stroke-width","1.5"],["id","gradient","x1","0","y1","0","x2","24","y2","24","gradientUnits","userSpaceOnUse"],["offset","0%","stop-color","#3b82f6"],["offset","100%","stop-color","#8b5cf6"],["d","M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"],[1,"chat-header"],[1,"chat-user-info-group"],[1,"back-btn",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","m15 18-6-6 6-6"],[1,"chat-user-avatar"],["style","width:100%; height:100%; border-radius:14px; object-fit:cover;",3,"src",4,"ngIf"],[1,"chat-user-text"],[1,"chat-user-name"],[1,"chat-user-status"],["class","typing-indicator",4,"ngIf"],[1,"call-actions"],["title","Voice Call",1,"call-btn",3,"click"],["d","M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"],["title","Video Call",1,"call-btn",3,"click"],["points","23 7 16 12 23 17 23 7"],["x","1","y","5","width","15","height","14","rx","2","ry","2"],[3,"currentUser"],[1,"messages-container"],["class","message",3,"sent","received",4,"ngFor","ngForOf"],["class","no-messages","style","text-align:center; color:rgba(255,255,255,0.3); margin-top:40px;",4,"ngIf"],[1,"message-input-container"],["class","emoji-picker",4,"ngIf"],[1,"input-wrapper"],["title","Attach File",1,"action-btn",3,"click"],["d","M12 5v14M5 12h14"],["type","file",2,"display","none",3,"change"],["title","Emoji",1,"action-btn",3,"click"],["cx","12","cy","12","r","10"],["d","M8 14s1.5 2 4 2 4-2 4-2"],["x1","9","y1","9","x2","9.01","y2","9"],["x1","15","y1","9","x2","15.01","y2","9"],["type","text",3,"ngModelChange","keyup.enter","input","placeholder","ngModel","disabled"],["class","action-btn",3,"title","color","animation","click",4,"ngIf"],["class","send-btn",3,"click",4,"ngIf"],[2,"width","100%","height","100%","border-radius","14px","object-fit","cover",3,"src"],[1,"typing-indicator"],[1,"online-indicator"],[1,"message"],[1,"message-bubble"],["class","message-text",4,"ngIf"],["class","message-image",4,"ngIf"],["class","message-video",4,"ngIf"],["class","message-file","style","background: rgba(0,0,0,0.2); padding: 10px; border-radius: 8px;",4,"ngIf"],["class","message-audio",4,"ngIf"],["class","call-log-bubble",3,"click",4,"ngIf"],[1,"message-meta"],[1,"message-time"],["class","message-status",4,"ngIf"],["class","upload-overlay","style","position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); border-radius: inherit; display: flex; align-items: center; justify-content: center; flex-direction: column;",4,"ngIf"],[1,"message-text"],[1,"message-image"],["alt","Image","title","Click to open","style","max-width: 150px; max-height: 200px; object-fit: cover; border-radius: 12px; cursor: pointer;",3,"src","click",4,"ngIf"],["class","media-placeholder",3,"click",4,"ngIf"],["alt","Image","title","Click to open",2,"max-width","150px","max-height","200px","object-fit","cover","border-radius","12px","cursor","pointer",3,"click","src"],[1,"media-placeholder",3,"click"],[1,"download-icon-wrapper"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","7 10 12 15 17 10"],["x1","12","y1","15","x2","12","y2","3"],[1,"message-video"],["controls","","style","max-width: 250px; max-height: 250px; border-radius: 12px;",3,"src",4,"ngIf"],["controls","",2,"max-width","250px","max-height","250px","border-radius","12px",3,"src"],[1,"message-file",2,"background","rgba(0,0,0,0.2)","padding","10px","border-radius","8px"],["target","_blank","style","text-decoration: none; color: inherit; display: flex; align-items: center; gap: 10px;",3,"href",4,"ngIf"],["class","media-placeholder small","style","display: flex; align-items: center; gap: 10px; cursor: pointer;",3,"click",4,"ngIf"],["target","_blank",2,"text-decoration","none","color","inherit","display","flex","align-items","center","gap","10px",3,"href"],[1,"file-icon"],["d","M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"],["points","13 2 13 9 20 9"],[1,"file-info",2,"display","flex","flex-direction","column"],[1,"file-name",2,"font-weight","500"],[1,"file-label",2,"font-size","0.8em","opacity","0.8"],[1,"media-placeholder","small",2,"display","flex","align-items","center","gap","10px","cursor","pointer",3,"click"],[1,"download-icon-wrapper","small"],[1,"message-audio"],["controls","","style","max-width: 200px;",3,"src",4,"ngIf"],["class","media-placeholder small",3,"click",4,"ngIf"],["controls","",2,"max-width","200px",3,"src"],[1,"media-placeholder","small",3,"click"],[1,"call-log-bubble",3,"click"],[1,"call-log-icon"],["width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",4,"ngIf"],[1,"call-log-content"],[1,"call-log-title"],[1,"call-log-subtitle"],["d","M23 7l-7 5 7 5V7z"],["x1","1","y1","1","x2","23","y2","23","stroke","currentColor","stroke-width","2"],[1,"message-status"],["class","tick seen",4,"ngIf"],["class","tick delivered",4,"ngIf"],["class","tick",4,"ngIf"],[1,"tick","seen"],[1,"tick","delivered"],[1,"tick"],[1,"upload-overlay",2,"position","absolute","top","0","left","0","right","0","bottom","0","background","rgba(0,0,0,0.5)","border-radius","inherit","display","flex","align-items","center","justify-content","center","flex-direction","column"],[1,"spinner",2,"width","20px","height","20px","border","2px solid rgba(255,255,255,0.3)","border-radius","50%","border-top-color","#fff","animation","spin 1s ease-in-out infinite","margin-bottom","5px"],[2,"color","white","font-size","0.7em","font-weight","bold"],[1,"no-messages",2,"text-align","center","color","rgba(255,255,255,0.3)","margin-top","40px"],[1,"emoji-picker"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"action-btn",3,"click","title"],["d","M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"],["d","M19 10v2a7 7 0 0 1-14 0v-2"],["x1","12","y1","19","x2","12","y2","23"],["x1","8","y1","23","x2","16","y2","23"],["x","6","y","6","width","12","height","12","rx","2","fill","currentColor"],[1,"send-btn",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none"],["d","M22 2L11 13","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M22 2L15 22L11 13L2 9L22 2Z","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"modal-overlay"],[1,"preview-modal","animate-scale-in"],[1,"preview-header"],[1,"close-btn",3,"click"],[1,"preview-content"],["alt","Preview",3,"src",4,"ngIf"],["controls","","style","max-width: 100%; max-height: 300px;",3,"src",4,"ngIf"],["class","file-icon",4,"ngIf"],[1,"preview-actions"],[1,"cancel-btn",3,"click"],[1,"confirm-btn",3,"click"],["x1","22","y1","2","x2","11","y2","13"],["points","22 2 15 22 11 13 2 9 22 2"],["alt","Preview",3,"src"],["controls","",2,"max-width","100%","max-height","300px",3,"src"],["width","60","height","60","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5"],[1,"settings-overlay",3,"click"],[1,"settings-modal",3,"click"],[1,"settings-header"],[1,"setting-search-container"],["type","text","placeholder","Search settings",1,"settings-search"],[1,"settings-content"],[1,"settings-profile-card",3,"click"],[1,"profile-avatar-large"],["style","width: 100%; height: 100%; object-fit: cover;",3,"src",4,"ngIf"],["style","width: 100%; height: 100%; background: #6366f1; display: flex; align-items: center; justify-content: center; font-size: 24px; color: white;",4,"ngIf"],[1,"profile-info"],[1,"profile-status"],[1,"settings-menu"],[1,"menu-item",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"menu-icon"],["x","3","y","3","width","18","height","18","rx","2","ry","2"],["x1","3","y1","9","x2","21","y2","9"],[1,"menu-text"],["d","M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"],["x","3","y","11","width","18","height","11","rx","2","ry","2"],["d","M7 11V7a5 5 0 0 1 10 0v4"],["d","M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"],["d","M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"],["d","M13.73 21a2 2 0 0 1-3.46 0"],[1,"menu-item","logout-item",3,"click"],["d","M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"],["points","16,17 21,12 16,7"],["x1","21","y1","12","x2","9","y2","12"],[2,"width","100%","height","100%","object-fit","cover",3,"src"],[2,"width","100%","height","100%","background","#6366f1","display","flex","align-items","center","justify-content","center","font-size","24px","color","white"],[1,"settings-header","profile-header"],["viewBox","0 0 24 24","height","24","width","24","preserveAspectRatio","xMidYMid meet","fill","none","stroke","currentColor","stroke-width","2.5",1,""],["d","M20 12H4"],["d","M10 18l-6-6 6-6"],[1,"header-title"],[1,"settings-content","profile-content-premium","animate-fade-in"],[1,"profile-picture-container"],[1,"profile-avatar-large-wrapper",3,"click"],["class","large-avatar",4,"ngIf"],["class","large-avatar-img","alt","Profile Picture",3,"src",4,"ngIf"],[1,"change-photo-overlay"],["viewBox","0 0 24 24","height","24","width","24","preserveAspectRatio","xMidYMid meet","fill","none","stroke","currentColor","stroke-width","2",1,""],["d","M12 7.5a4.5 4.5 0 1 1 0 9 4.5 4.5 0 0 1 0-9zm0 1.5a3 3 0 1 0 0 6 3 3 0 0 0 0-6z"],["d","M5.5 5.5A1.5 1.5 0 0 1 7 4h10a1.5 1.5 0 0 1 1.5 1.5v13A1.5 1.5 0 0 1 17 20H7a1.5 1.5 0 0 1-1.5-1.5v-13zM7 5.5v13h10v-13H7z",2,"display","none"],["d","M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"],["d","M9 4.25l-1.42 1.5H5.25A2.25 2.25 0 0 0 3 8v10.5A2.25 2.25 0 0 0 5.25 20.75h13.5A2.25 2.25 0 0 0 21 18.5V8a2.25 2.25 0 0 0-2.25-2.25h-2.33l-1.42-1.5H9zM12 16.5a4.5 4.5 0 1 1 0-9 4.5 4.5 0 0 1 0 9z"],[1,"profile-section-group"],[1,"profile-section"],[1,"section-label"],["class","edit-field",4,"ngIf"],["class","edit-input-wrapper animate-slide-in-right",4,"ngIf"],[1,"section-note"],[1,"divider-inset"],[1,"large-avatar"],["alt","Profile Picture",1,"large-avatar-img",3,"src"],[1,"edit-field"],[1,"field-value"],["title","Edit Name",1,"edit-btn",3,"click"],["viewBox","0 0 24 24","height","24","width","24","preserveAspectRatio","xMidYMid meet","fill","currentColor","enable-background","new 0 0 24 24",1,""],["d","M3.95,16.7v3.4h3.4l9.8-9.9l-3.4-3.4L3.95,16.7z M19.75,7.6c0.4-0.4,0.4-0.9,0-1.3l-2.1-2.1c-0.4-0.4-0.9-0.4-1.3,0l-1.6,1.6l3.4,3.4L19.75,7.6z"],[1,"edit-input-wrapper","animate-slide-in-right"],["type","text","maxlength","100","autofocus","",3,"ngModelChange","keyup.enter","keyup.escape","ngModel"],[1,"char-count"],[1,"edit-actions"],["title","Cancel",1,"action-btn","cancel",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],["title","Save",1,"action-btn","save",3,"click"],["points","20 6 9 17 4 12"],["title","Edit About",1,"edit-btn",3,"click"],["rows","3","maxlength","1500","autofocus","",1,"edit-textarea",3,"ngModelChange","keyup.enter","keyup.escape","ngModel"],["x1","19","y1","12","x2","5","y2","12"],["points","12 19 5 12 12 5"],[1,"settings-section"],[1,"setting-row",3,"click"],[1,"setting-info"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"chevron-icon"],["points","9 18 15 12 9 6"],[1,"divider"],[1,"checkbox-row"],[1,"checkbox-info"],[1,"switch-container"],["type","checkbox",1,"switch-input",3,"ngModelChange","change","ngModel"],[1,"switch-slider"],[1,"setting-row","radio-row",3,"click"],[1,"description"],[1,"custom-radio"],[1,"radio-outer"],["class","radio-inner",4,"ngIf"],[1,"radio-inner"],[1,"description",2,"padding","0 20px","color","#8696a0","font-size","14px"],[1,"setting-row",2,"margin-top","20px","color","#8696a0",3,"click"],[1,"setting-info",2,"display","flex","align-items","center","gap","10px"],["d","M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"],["d","M3 3v5h5"],["type","checkbox",1,"switch-input",3,"ngModelChange","ngModel"],[1,"styled-select-container"],[1,"styled-select",3,"ngModelChange","ngModel"],["value","English"],["value","Hindi"],["value","Gujarati"],[1,"styled-select",3,"ngModelChange","change","ngModel"],["value","100% (default)"],["value","125%"],["value","150%"],[1,"help-text"],["d","M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"],["d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"],["points","14 2 14 8 20 8"],["x1","16","y1","13","x2","8","y2","13"],["x1","16","y1","17","x2","8","y2","17"],["points","10 9 9 9 8 9"],[1,"menu-item"],["x1","12","y1","16","x2","12","y2","12"],["x1","12","y1","8","x2","12.01","y2","8"],[1,"security-hero"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5",1,"security-icon"],["x","3","y","11","width","18","height","11","rx","2","ry","2","fill","#10b981","fill-opacity","0.1"],[1,"privacy-list"],[1,"privacy-item"],["cx","8.5","cy","8.5","r","1.5"],["points","21 15 16 10 5 21"],["d","M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"],["cx","12","cy","10","r","3"],["cx","12","cy","12","r","6"],[1,"learn-more"],[1,"security-footer"],[2,"margin-bottom","8px"],[1,"info-card"],[1,"info-icon"],["points","12 6 12 12 16 14"],[1,"info-text"],[1,"help-text",2,"color","#94a3b8","font-size","13px","line-height","1.5","margin-bottom","32px"],[1,"report-item"],[1,"help-text",2,"color","#94a3b8","font-size","13px","line-height","1.5","margin-top","24px"],[1,"section-title"],[1,"setting-row"],[1,"hidden-select",3,"ngModelChange","change","ngModel"],["value","Everyone"],["value","My contacts"],["value","Nobody"],["value","My contacts except..."],["value","Only share with..."],[1,"setting-row","no-hover"],["value","Off"],["value","24 Hours"],["value","7 Days"],["value","90 Days"],[2,"display","flex","align-items","center"],[2,"color","#94a3b8","font-size","14px","margin-right","8px"],[1,"setting-row","dropdown-container",3,"click"],["class","custom-dropdown-menu",4,"ngIf"],[1,"custom-select-box",3,"click"],[1,"selected-value"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"tone-icon"],["d","M9 18V5l12-2v13"],["cx","6","cy","18","r","3"],["cx","18","cy","16","r","3"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"chevron-down"],["points","6 9 12 15 18 9"],["class","custom-dropdown-menu floating",4,"ngIf"],["d","M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"],["cx","9","cy","7","r","4"],["d","M23 21v-2a4 4 0 0 0-3-3.87"],["d","M16 3.13a4 4 0 0 1 0 7.75"],[1,"custom-dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"custom-dropdown-menu","floating"],["class","dropdown-item",3,"selected","click",4,"ngFor","ngForOf"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"lock-hero"],[1,"lock-icon-container"],["viewBox","0 0 24 24","fill","currentColor",1,"lock-icon-large"],["d","M12 2C9.243 2 7 4.243 7 7v3H6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2h-1V7c0-2.757-2.243-5-5-5zm6 10v8H6v-8h12zm-9-5V7c0-1.654 1.346-3 3-3s3 1.346 3 3v3H9z"],[1,"lock-badge"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","3"],[1,"lock-title"],[1,"lock-description"],[1,"lock-footer"],[1,"set-password-modal","animate-scale-in"],[1,"input-group"],["type","password","placeholder","Enter password",1,"password-input",3,"ngModelChange","ngModel"],[1,"input-line"],["type","password","placeholder","Re-enter password",1,"password-input",3,"ngModelChange","ngModel"],[1,"password-hint"],[1,"modal-actions"],[1,"cancel-text-btn",3,"click"],[1,"ok-btn",3,"click"],[1,"password-set-modal","animate-scale-in"],[1,"success-text"],[1,"success-text","sub"],[1,"modal-actions-spread"],[1,"done-text-btn",3,"click"],[1,"lock-now-btn",3,"click"],[1,"locked-overlay"],[1,"locked-content","animate-fade-in"],[1,"locked-avatar"],["alt","Avatar",3,"src",4,"ngIf"],["class","default-initial",4,"ngIf"],[1,"locked-username"],[1,"locked-message"],[1,"unlock-input-wrapper"],["placeholder","Enter password",3,"ngModelChange","keyup.enter","type","ngModel"],[1,"visibility-toggle",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",4,"ngIf"],[1,"input-line","active"],[1,"unlock-btn",3,"click"],[1,"locked-footer"],[1,"forgot-link"],[1,"logout-hint"],[1,"logout-link",3,"click"],["alt","Avatar",3,"src"],[1,"default-initial"],["d","M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"],["d","M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"],["x1","1","y1","1","x2","23","y2","23"],[1,"theme-modal","animate-scale-in"],[1,"radio-option",3,"click"],[1,"radio-circle"],[1,"wallpaper-modal-overlay",3,"click"],[1,"wallpaper-modal","animate-scale-in",3,"click"],[1,"wallpaper-header"],[1,"preview-container"],[1,"mini-preview"],[1,"mock-bubble","received"],[1,"mock-bubble","sent"],[1,"wallpaper-content"],[1,"doodle-option"],[1,"checkbox-container"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"checkmark"],[1,"wallpaper-section-title"],[1,"wallpaper-grid"],[1,"wallpaper-item","upload-item",3,"click"],[1,"upload-icon"],["points","17 8 12 3 7 8"],["x1","12","y1","3","x2","12","y2","15"],["class","wallpaper-item",3,"background-color","selected","click",4,"ngFor","ngForOf"],[1,"wallpaper-actions"],[1,"checkbox-container","footer-doodle-checkbox"],[2,"flex","1"],[1,"wallpaper-item",3,"click"]],template:function(n,t){if(n&1){let s=w();r(0,"div",4)(1,"aside",5)(2,"div",6)(3,"div",7)(4,"input",8,0),h("change",function(C){return p(s),m(t.onFileSelected(C))}),a(),r(6,"div",9),h("click",function(){return p(s),m(t.openSettings("profile"))}),v(7,Bn,2,1,"div",10)(8,zn,1,2,"img",11),r(9,"div",12),u(),r(10,"svg",13),g(11,"path",14)(12,"circle",15),a()()(),f(),r(13,"span",16),c(14),a()(),r(15,"div",17)(16,"button",18),h("click",function(){return p(s),m(t.openSettings())}),u(),r(17,"svg",19),g(18,"circle",20)(19,"path",21),a()()()(),f(),r(20,"div",22),u(),r(21,"svg",23),g(22,"circle",24)(23,"path",25),a(),f(),r(24,"input",26),k("ngModelChange",function(C){return p(s),S(t.searchQuery,C)||(t.searchQuery=C),m(C)}),a()(),r(25,"div",27),v(26,Fn,10,8,"div",28)(27,Wn,5,0,"div",29),a()(),r(28,"main",30),g(29,"div",31),v(30,Hn,12,0,"div",32)(31,Si,47,15,"ng-container",33),a(),v(32,Ei,19,3,"div",34)(33,so,15,13,"div",35)(34,co,21,2,"div",34)(35,lo,13,0,"div",34)(36,_o,24,7,"div",36)(37,vo,24,3,"div",34)(38,wo,42,9,"div",37),a()}n&2&&(d(),E("mobile-hidden",t.selectedUser),d(6),_("ngIf",!(t.currentUser!=null&&t.currentUser.avatar)),d(),_("ngIf",t.currentUser==null?null:t.currentUser.avatar),d(6),P((t.currentUser==null?null:t.currentUser.fullName)||(t.currentUser==null?null:t.currentUser.username)),d(10),y("ngModel",t.searchQuery),d(2),_("ngForOf",t.filteredUsers),d(),_("ngIf",t.users.length===0),d(),E("mobile-show",t.selectedUser),d(),se("background-color",t.chatSettings.wallpaper.color||"#0b141a")("background-image",t.chatSettings.wallpaper.image?"url("+t.chatSettings.wallpaper.image+")":null),E("has-doodles",t.chatSettings.wallpaper.doodles&&!t.chatSettings.wallpaper.image),d(),_("ngIf",!t.selectedUser),d(),_("ngIf",t.selectedUser),d(),_("ngIf",t.previewFile),d(),_("ngIf",t.showSettings),d(),_("ngIf",t.showSetPasswordModal),d(),_("ngIf",t.showPasswordSetModal),d(),_("ngIf",t.isAppLocked),d(),_("ngIf",t.showThemeModal),d(),_("ngIf",t.showWallpaperModal))},dependencies:[be,nt,we,_t,mt,gt,ct,st,pt,lt,ht,dt,qt],styles:[`@font-face{font-family:Outfit;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/outfit/v15/QGYvz_MVcBeNP4NJuktqQ4E.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Outfit;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/outfit/v15/QGYvz_MVcBeNP4NJtEtq.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Outfit;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/outfit/v15/QGYvz_MVcBeNP4NJuktqQ4E.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Outfit;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/outfit/v15/QGYvz_MVcBeNP4NJtEtq.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Outfit;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/outfit/v15/QGYvz_MVcBeNP4NJuktqQ4E.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Outfit;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/outfit/v15/QGYvz_MVcBeNP4NJtEtq.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Outfit;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/outfit/v15/QGYvz_MVcBeNP4NJuktqQ4E.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Outfit;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/outfit/v15/QGYvz_MVcBeNP4NJtEtq.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Outfit;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/outfit/v15/QGYvz_MVcBeNP4NJuktqQ4E.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Outfit;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/outfit/v15/QGYvz_MVcBeNP4NJtEtq.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}[_nghost-%COMP%]{display:block;height:100vh;font-family:Outfit,sans-serif;background:var(--bg-darker);color:var(--text-primary)}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.chat-container[_ngcontent-%COMP%]{display:flex;height:100vh;background:var(--bg-darker);position:relative;overflow:hidden}.chat-container[_ngcontent-%COMP%]:before, .chat-container[_ngcontent-%COMP%]:after{content:"";position:absolute;width:500px;height:500px;border-radius:50%;filter:blur(100px);opacity:.15;z-index:0;pointer-events:none}.chat-container[_ngcontent-%COMP%]:before{top:-100px;right:-100px;background:#6366f1}.chat-container[_ngcontent-%COMP%]:after{bottom:-100px;left:-100px;background:#0ea5e9}.sidebar[_ngcontent-%COMP%]{width:400px;background:var(--bg-glass);backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);border-right:1px solid var(--border-glass);display:flex;flex-direction:column;z-index:10;position:relative;transition:transform .3s cubic-bezier(.4,0,.2,1)}.sidebar-header[_ngcontent-%COMP%]{padding:24px;display:flex;align-items:center;justify-content:space-between}.header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:14px}.avatar-container[_ngcontent-%COMP%]{width:52px;height:52px;position:relative;cursor:pointer}.avatar[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:18px;background:var(--primary-gradient);display:flex;align-items:center;justify-content:center;font-size:20px;font-weight:700;color:#fff;box-shadow:0 8px 20px #6366f140;transition:transform .3s cubic-bezier(.34,1.56,.64,1)}.avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05) rotate(3deg)}.avatar-img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:18px;object-fit:cover}.edit-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;border-radius:18px;background:#00000080;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .2s;color:#fff}.username[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--text-primary);letter-spacing:-.02em}.logout-btn[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:14px;border:1px solid var(--border-glass);background:var(--bg-glass);color:var(--text-secondary);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s}.logout-btn[_ngcontent-%COMP%]:hover{background:#ef44441a;border-color:#ef44444d;color:#ef4444;transform:translateY(-2px)}.icon-btn[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:14px;border:1px solid var(--border-glass);background:var(--bg-glass);color:var(--text-secondary);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s}.icon-btn[_ngcontent-%COMP%]:hover{background:rgba(var(--primary-color),.1);border-color:var(--primary-color);color:var(--primary-color);transform:translateY(-2px)}.search-box[_ngcontent-%COMP%]{margin:0 24px 24px;position:relative;background:var(--bg-panel);border:1px solid var(--border-glass);border-radius:16px;padding:2px 16px;display:flex;align-items:center;transition:all .3s}.search-box[_ngcontent-%COMP%]:focus-within{border-color:var(--primary-color);box-shadow:0 0 0 4px #6366f11a;background:var(--bg-glass)}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:14px 10px;background:transparent;border:none;color:var(--text-primary);font-family:inherit;font-size:15px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.search-box[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--text-muted)}.users-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:0 16px}.user-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:12px 16px;border-radius:16px;cursor:pointer;transition:all .2s;margin-bottom:8px;border:1px solid transparent}.user-item[_ngcontent-%COMP%]:hover{background:var(--bg-glass)}.user-item.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(99,102,241,.1),transparent);border-left:3px solid var(--primary-color)}.user-avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:16px;background:var(--bg-glass);display:flex;align-items:center;justify-content:center;font-size:18px;font-weight:600;color:var(--text-primary);position:relative}.status-dot[_ngcontent-%COMP%]{position:absolute;bottom:-2px;right:-2px;width:14px;height:14px;border-radius:50%;border:3px solid var(--bg-dark);background:var(--offline)}.status-dot.online[_ngcontent-%COMP%]{background:var(--online);box-shadow:var(--shadow-glow)}.user-name[_ngcontent-%COMP%]{font-weight:600;color:var(--text-primary);font-size:15px;margin-bottom:2px}.user-status[_ngcontent-%COMP%]{font-size:13px;color:var(--text-muted)}.chat-area[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;position:relative;z-index:5;background:#0000001a}.no-chat[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;text-align:center}.no-chat-content[_ngcontent-%COMP%]{background:var(--bg-glass);border:1px solid var(--border-glass);padding:60px;border-radius:32px;backdrop-filter:blur(20px);max-width:400px;box-shadow:var(--shadow-glass)}.no-chat-content[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-bottom:24px;filter:drop-shadow(0 0 20px rgba(99,102,241,.3))}.no-chat-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;font-weight:700;margin-bottom:12px;color:var(--text-primary)}.no-chat-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-muted);line-height:1.6}.chat-header[_ngcontent-%COMP%]{height:80px;padding:0 32px;display:flex;align-items:center;justify-content:space-between;background:var(--bg-glass);backdrop-filter:blur(10px);border-bottom:1px solid var(--border-glass)}.chat-user-info-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.chat-user-avatar[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:14px;background:linear-gradient(135deg,#8b5cf6,#d946ef);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600}.chat-user-name[_ngcontent-%COMP%]{font-size:17px;font-weight:700;color:#f1f5f9}.chat-user-status[_ngcontent-%COMP%]{font-size:13px;color:#94a3b8;display:flex;align-items:center;gap:6px}.chat-user-status[_ngcontent-%COMP%]   .online-indicator[_ngcontent-%COMP%]{width:8px;height:8px;background:#10b981;border-radius:50%;box-shadow:0 0 10px #10b981}.messages-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:20px 40px;display:flex;flex-direction:column;gap:20px}.message-bubble[_ngcontent-%COMP%]{max-width:65%;padding:14px 20px;border-radius:20px;font-size:15px;line-height:1.5;position:relative;box-shadow:0 4px 15px #0000001a}.message.sent[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6366f1,#4f46e5);color:#fff;border-bottom-right-radius:4px;box-shadow:0 8px 25px #4f46e540}.message.received[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{background:#1e293bb3;backdrop-filter:blur(10px);color:#e2e8f0;border:1px solid rgba(255,255,255,.08);border-bottom-left-radius:4px}.message-meta[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:4px;margin-top:6px;font-size:11px;opacity:.7}.message-input-container[_ngcontent-%COMP%]{padding:24px 40px;background:transparent}.input-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;gap:12px;background:#1e293b99;backdrop-filter:blur(20px);padding:8px 8px 8px 24px;border-radius:24px;border:1px solid rgba(255,255,255,.1);box-shadow:0 8px 32px #0003;transition:all .3s}.input-wrapper[_ngcontent-%COMP%]:focus-within{border-color:#6366f180;background:#1e293bcc;box-shadow:0 12px 40px #6366f126}.message-input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;background:transparent;border:none;color:#fff;font-size:16px;padding:8px 0}.message-input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.send-btn[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:18px;background:linear-gradient(135deg,#6366f1,#d946ef);border:none;color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s cubic-bezier(.34,1.56,.64,1);box-shadow:0 4px 15px #6366f166}.send-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.08) rotate(-10deg);box-shadow:0 8px 25px #d946ef80}.send-btn[_ngcontent-%COMP%]:disabled{background:#334155;box-shadow:none;cursor:default;opacity:.5}.back-btn[_ngcontent-%COMP%]{display:none}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff1a;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#fff3}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{width:100%;position:absolute;height:100%}.sidebar.mobile-hidden[_ngcontent-%COMP%]{display:none}.chat-user-info-group[_ngcontent-%COMP%]{gap:.5rem}.chat-user-avatar[_ngcontent-%COMP%]{width:32px;height:32px;min-width:32px}.chat-user-name[_ngcontent-%COMP%]{font-size:.95rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:120px}.chat-user-status[_ngcontent-%COMP%]{font-size:.7rem}.call-btn[_ngcontent-%COMP%]{padding:6px}.call-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.chat-area.mobile-show[_ngcontent-%COMP%]{display:flex;position:absolute;width:100%;height:100%;background:var(--bg-darker)}.back-btn[_ngcontent-%COMP%]{display:block;border:none;background:transparent;color:var(--text-primary);padding:8px;margin-right:8px}.messages-container[_ngcontent-%COMP%], .message-input-container[_ngcontent-%COMP%]{padding:16px}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1);opacity:1}50%{transform:scale(1.1);opacity:.7}to{transform:scale(1);opacity:1}}.emoji-picker[_ngcontent-%COMP%]{position:absolute;bottom:90px;left:40px;background:#12121be6;backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.1);border-radius:20px;padding:16px;display:grid;grid-template-columns:repeat(6,1fr);gap:8px;box-shadow:0 10px 40px #0006;z-index:100;width:320px;max-height:350px;overflow-y:auto}.emoji-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;cursor:pointer;padding:8px;border-radius:8px;transition:background .2s}.emoji-picker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{background:#ffffff1a}.sidebar[_ngcontent-%COMP%]{width:380px;background:var(--bg-glass-heavy);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-right:1px solid var(--border-glass);display:flex;flex-direction:column;z-index:2}.sidebar-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:20px 24px;background:transparent;border-bottom:1px solid var(--border-glass)}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.avatar-container[_ngcontent-%COMP%]{position:relative;cursor:pointer;width:48px;height:48px}.avatar[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;background:linear-gradient(135deg,#0ea5e9,#2563eb);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:20px;box-shadow:0 4px 12px #2563eb4d;position:relative;overflow:hidden;transition:transform .3s cubic-bezier(.34,1.56,.64,1)}.avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.avatar-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%;display:block}.security-hero[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;padding:20px;margin-bottom:32px}.security-icon[_ngcontent-%COMP%]{width:64px;height:64px;margin-bottom:24px;color:#10b981}.security-hero[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#f1f5f9;margin-bottom:12px}.security-hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#94a3b8;line-height:1.5;max-width:450px}.privacy-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;margin-bottom:32px;padding:0 10px}.privacy-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;font-size:15px;font-weight:500}.privacy-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#94a3b8;min-width:20px}.security-footer[_ngcontent-%COMP%]{border-top:1px solid rgba(255,255,255,.1);padding-top:24px;margin-top:24px}.learn-more[_ngcontent-%COMP%]{color:#10b981;font-size:13px;text-decoration:none;cursor:pointer;font-weight:500}.learn-more[_ngcontent-%COMP%]:hover{text-decoration:underline}.info-card[_ngcontent-%COMP%]{background:#ffffff0d;border-radius:12px;padding:16px;display:flex;align-items:center;gap:16px;margin-bottom:24px;border:1px solid rgba(255,255,255,.05)}.info-icon[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;color:#94a3b8}.info-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#f1f5f9;font-size:15px;margin:0 0 4px}.info-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:13px;margin:0}.report-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px;cursor:pointer;border-radius:12px;transition:background .2s;background:#ffffff05}.report-item[_ngcontent-%COMP%]:hover{background:#ffffff0d}.report-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#94a3b8}.report-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#e2e8f0;font-size:15px;font-weight:500}.edit-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#0009;border-radius:50%;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .2s ease;color:#fff}.avatar-container[_ngcontent-%COMP%]:hover   .edit-overlay[_ngcontent-%COMP%]{opacity:1}.username[_ngcontent-%COMP%]{font-weight:700;font-size:17px;letter-spacing:.3px}.logout-btn[_ngcontent-%COMP%]{width:42px;height:42px;border-radius:12px;display:flex;align-items:center;justify-content:center;color:#fff9;transition:all .3s ease;background:#ffffff0d;border:1px solid rgba(255,255,255,.05)}.logout-btn[_ngcontent-%COMP%]:hover{background:#ef444426;color:#ef4444;border-color:#ef44444d;transform:translateY(-2px);box-shadow:0 4px 12px #ef444433}.search-box[_ngcontent-%COMP%]{margin:20px;display:flex;align-items:center;border:2px solid var(--border-glass);border-radius:12px;padding:2px 16px;transition:all .3s}.search-box[_ngcontent-%COMP%]:focus-within{border-color:var(--primary-color);box-shadow:0 0 0 2px #00d2ad33}.search-box[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--text-secondary)}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent!important;border:none!important;box-shadow:none!important;padding:12px;font-size:14px}.no-users[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--text-secondary)}.users-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:0 12px}.user-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px;border-radius:16px;cursor:pointer;transition:all .2s var(--ease-smooth);margin-bottom:4px;border:1px solid transparent}.user-item[_ngcontent-%COMP%]:hover{background:#ffffff0d}.user-item.active[_ngcontent-%COMP%]{background:#00d2ad1a;border-color:#00d2ad4d}.user-avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:14px;color:#fff;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:18px;position:relative;box-shadow:0 4px 10px #0003;flex-shrink:0}.status-dot[_ngcontent-%COMP%]{position:absolute;bottom:-2px;right:-2px;width:14px;height:14px;border-radius:50%;background:var(--offline);border:3px solid #1e293b}.status-dot.online[_ngcontent-%COMP%]{background:var(--online);box-shadow:0 0 8px var(--online)}.user-name[_ngcontent-%COMP%]{font-weight:600;color:var(--text-primary);margin-bottom:2px}.user-status[_ngcontent-%COMP%]{font-size:13px;color:var(--text-secondary)}.user-item.active[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{color:var(--primary-color)}.chat-area[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;background:var(--bg-glass);position:relative}.chat-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px 32px;background:var(--bg-glass-heavy);backdrop-filter:blur(20px);border-bottom:1px solid var(--border-glass);z-index:10}.chat-user-avatar[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:14px;background:linear-gradient(135deg,#6366f1,#8b5cf6);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:18px;position:relative;flex-shrink:0}.chat-user-name[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.typing-indicator[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:500;font-size:13px;animation:_ngcontent-%COMP%_pulse 1.5s infinite}.messages-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:30px 60px;display:flex;flex-direction:column;gap:16px}.message[_ngcontent-%COMP%]{display:flex;width:100%}.message.sent[_ngcontent-%COMP%]{justify-content:flex-end}.message.received[_ngcontent-%COMP%]{justify-content:flex-start}.message-bubble[_ngcontent-%COMP%]{max-width:60%;padding:12px 20px;border-radius:20px;position:relative;box-shadow:0 4px 15px #0000001a;backdrop-filter:blur(10px)}.message.sent[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{background:linear-gradient(135deg,#00d2adcc,#009b85e6);color:#fff;border-bottom-right-radius:4px;border:1px solid rgba(255,255,255,.1)}.message.received[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{background:#334155b3;color:var(--text-primary);border-bottom-left-radius:4px;border:1px solid var(--border-glass)}.call-log-bubble[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;background:#1e293b;border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:12px 16px;cursor:pointer;transition:background .2s;max-width:250px}.call-log-bubble[_ngcontent-%COMP%]:hover{background:#334155}.call-log-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center}.call-log-icon.missed[_ngcontent-%COMP%]{background:#ef444433;color:#ef4444}.call-log-icon.ended[_ngcontent-%COMP%]{background:#22c55e33;color:#22c55e}.call-log-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.call-log-title[_ngcontent-%COMP%]{font-weight:600;color:#fff;font-size:14px}.call-log-subtitle[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.message-text[_ngcontent-%COMP%]{font-size:15px;line-height:1.5;margin-bottom:4px}.message-meta[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:6px;font-size:.8em;opacity:.8}.call-actions[_ngcontent-%COMP%]{margin-left:auto;display:flex;gap:.5rem}.call-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-secondary);padding:8px;border-radius:50%;cursor:pointer;transition:all .2s}.call-btn[_ngcontent-%COMP%]:hover{color:var(--primary-color);background:#3b82f61a}.chat-user-info-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;width:100%}.tick[_ngcontent-%COMP%]{font-size:14px}.tick.seen[_ngcontent-%COMP%]{color:#84cc16}.message-input-container[_ngcontent-%COMP%]{padding:24px 32px;background:var(--bg-glass);backdrop-filter:blur(20px);border-top:1px solid var(--border-glass);display:flex;gap:16px;align-items:center}.message-input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;background:var(--bg-panel)!important;border:1px solid var(--border-glass)!important;border-radius:16px;padding:16px 24px;font-size:15px;color:var(--text-primary);backdrop-filter:none}.message-input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{background:var(--bg-panel)!important;border-color:var(--primary-color)!important}.action-btn[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:50%;background:transparent!important;border:none!important;color:var(--text-secondary);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s;flex-shrink:0}.action-btn[_ngcontent-%COMP%]:hover{background:var(--bg-glass)!important;color:var(--text-primary)}.action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{pointer-events:none}.send-btn[_ngcontent-%COMP%]{width:52px;height:52px;border-radius:16px;background:var(--primary-gradient);color:#fff;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 15px #00d2ad4d;transition:all .3s var(--ease-elastic)}.send-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.1) rotate(-10deg);box-shadow:0 8px 25px #00d2ad80}.send-btn[_ngcontent-%COMP%]:disabled{filter:grayscale(1);opacity:.5;cursor:not-allowed}.no-chat[_ngcontent-%COMP%]{background:transparent;display:flex;align-items:center;justify-content:center}.no-chat-content[_ngcontent-%COMP%]{background:var(--bg-glass);backdrop-filter:blur(20px);padding:60px;border-radius:30px;border:1px solid rgb(132 117 117 / 60%);text-align:center;box-shadow:var(--shadow-glass)}.no-chat-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:20px;font-size:32px;background:var(--primary-gradient);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000b3;backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:1000}.preview-modal[_ngcontent-%COMP%]{background:var(--bg-panel);border:1px solid var(--border-glass);border-radius:24px;width:90%;max-width:500px;padding:24px;box-shadow:0 20px 60px #00000080;display:flex;flex-direction:column;gap:20px}.preview-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.preview-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:20px;color:var(--text-primary)}.close-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-secondary);font-size:28px;cursor:pointer;line-height:1}.preview-content[_ngcontent-%COMP%]{background:#0003;border-radius:16px;padding:20px;display:flex;justify-content:center;align-items:center;min-height:200px;max-height:400px;overflow:hidden}.preview-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:300px;border-radius:12px;object-fit:contain}.file-icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:12px;color:var(--text-primary)}.preview-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px}.cancel-btn[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--border-glass);color:var(--text-primary);padding:10px 20px;border-radius:12px;cursor:pointer;font-weight:500;transition:all .2s}.cancel-btn[_ngcontent-%COMP%]:hover{background:var(--bg-glass)}.confirm-btn[_ngcontent-%COMP%]{background:var(--primary-gradient);border:none;color:#fff;padding:10px 24px;border-radius:12px;cursor:pointer;font-weight:600;display:flex;align-items:center;gap:8px;box-shadow:0 4px 15px #6366f14d;transition:all .2s}.confirm-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #6366f166}.animate-scale-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scaleIn .3s cubic-bezier(.16,1,.3,1)}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{width:100%;position:absolute;height:100%;background:var(--bg-darker)}.sidebar.mobile-hidden[_ngcontent-%COMP%]{display:none}.chat-area.mobile-show[_ngcontent-%COMP%]{display:flex;z-index:5;background:var(--bg-darker)}.messages-container[_ngcontent-%COMP%]{padding:20px}.message-bubble[_ngcontent-%COMP%]{max-width:80%}}.settings-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:transparent;z-index:1000;display:block;padding:0}.settings-overlay[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:#0003;opacity:0;animation:_ngcontent-%COMP%_fadeIn .3s forwards}.settings-modal[_ngcontent-%COMP%]{background:var(--bg-darker);width:380px;max-width:100vw;height:100vh;border-radius:0;box-shadow:var(--shadow-glass);border-right:1px solid var(--border-glass);overflow:hidden;color:var(--text-primary);display:flex;flex-direction:column;position:relative;z-index:2;animation:_ngcontent-%COMP%_slideInLeft .3s cubic-bezier(.2,.8,.2,1)}@keyframes _ngcontent-%COMP%_slideInLeft{0%{transform:translate(-100%);opacity:0}to{transform:translate(0);opacity:1}}.settings-header[_ngcontent-%COMP%]{padding:24px;display:flex;align-items:center;justify-content:space-between}.settings-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin:0;color:var(--text-primary)}.setting-search-container[_ngcontent-%COMP%]{padding:0 24px;margin-bottom:24px}.settings-search[_ngcontent-%COMP%]{width:100%;background:var(--bg-glass);border:1px solid var(--border-glass);color:var(--text-primary);padding:14px 20px;border-radius:16px;font-size:15px;outline:none;transition:all .2s}.settings-search[_ngcontent-%COMP%]:focus{background:var(--bg-panel);border-color:var(--primary-color)}.settings-content[_ngcontent-%COMP%]{padding:0 24px 24px;overflow-y:auto;flex:1}.settings-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:13px;text-transform:uppercase;font-weight:600;letter-spacing:.05em;color:var(--text-muted);margin:24px 0 12px}.settings-profile-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding-bottom:24px;margin-bottom:8px;border-bottom:1px solid var(--border-glass)}.profile-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin:0 0 4px;color:var(--text-primary)}.profile-status[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:14px;margin:0;line-height:1.4}.settings-menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px;border-radius:16px;cursor:pointer;transition:background .2s}.menu-item[_ngcontent-%COMP%]:hover{background:var(--bg-glass)}.menu-icon[_ngcontent-%COMP%]{width:24px;height:24px;color:var(--text-muted);flex-shrink:0}.menu-text[_ngcontent-%COMP%]{flex:1}.menu-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:500;margin:0 0 2px;color:var(--text-primary)}.menu-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;color:var(--text-secondary);margin:0}.logout-item[_ngcontent-%COMP%]{margin-top:24px}.logout-item[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%], .logout-item[_ngcontent-%COMP%]   .menu-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#ef4444}.logout-item[_ngcontent-%COMP%]:hover{background:#ef44441a}.back-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:18px;font-weight:600;padding:0;display:flex;align-items:center;gap:12px;cursor:pointer}.back-btn[_ngcontent-%COMP%]:hover{opacity:.8}.checkbox-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 0;cursor:pointer}.checkbox-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:500;margin:0 0 4px;color:var(--text-primary)}.checkbox-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;color:var(--text-secondary);margin:0}.switch-container[_ngcontent-%COMP%]{position:relative;width:44px;height:24px;flex-shrink:0}.switch-input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.switch-slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#334155;transition:.4s;border-radius:24px}.section-title[_ngcontent-%COMP%]{color:var(--text-muted);font-size:13px;font-weight:600;margin:24px 0 16px;padding-left:8px}.setting-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 12px;cursor:pointer;position:relative;border-radius:8px;transition:background .2s}.setting-row[_ngcontent-%COMP%]:hover:not(.no-hover){background:var(--bg-glass)}.no-hover[_ngcontent-%COMP%]{cursor:default}.setting-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--text-primary);font-size:16px;font-weight:500;margin:0 0 4px}.setting-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:14px;margin:0}.setting-info[_ngcontent-%COMP%]   p.description[_ngcontent-%COMP%]{font-size:13px;line-height:1.5;max-width:90%}.chevron-icon[_ngcontent-%COMP%]{width:20px;height:20px;color:var(--text-muted)}.hidden-select[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;cursor:pointer;appearance:none}.divider[_ngcontent-%COMP%]{border:none;border-top:1px solid var(--border-glass);margin:8px 0}.lock-hero[_ngcontent-%COMP%]{text-align:center;padding:32px 24px;border-bottom:1px solid var(--border-glass);margin-bottom:16px}.lock-icon-container[_ngcontent-%COMP%]{position:relative;display:inline-block;margin-bottom:24px}.lock-icon-large[_ngcontent-%COMP%]{width:80px;height:80px;color:var(--online)}.lock-badge[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:-5px;background:var(--bg-darker);border-radius:50%;padding:4px}.lock-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:var(--text-primary);margin-bottom:12px}.lock-description[_ngcontent-%COMP%]{font-size:14px;color:var(--text-secondary);line-height:1.5}.lock-footer[_ngcontent-%COMP%]{padding:16px 24px;color:var(--text-secondary);font-size:13px;line-height:1.5}.lock-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:12px}.switch-input[_ngcontent-%COMP%]:checked + .switch-slider[_ngcontent-%COMP%]{background-color:#10b981}.switch-input[_ngcontent-%COMP%]:checked + .switch-slider[_ngcontent-%COMP%]:before{transform:translate(20px)}.styled-select-container[_ngcontent-%COMP%]{margin-bottom:24px;position:relative}.styled-select[_ngcontent-%COMP%]{width:100%;background:var(--bg-glass);border:1px solid var(--border-glass);color:var(--text-primary);padding:14px 16px;border-radius:12px;font-size:15px;appearance:none;-webkit-appearance:none;cursor:pointer;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%2394a3b8' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 16px center;background-size:20px}.styled-select[_ngcontent-%COMP%]:focus{outline:none;background-color:var(--bg-panel);border-color:var(--primary-color)}.styled-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background:var(--bg-dark);color:var(--text-primary);padding:10px}.help-text[_ngcontent-%COMP%]{font-size:13px;color:var(--text-muted);margin-top:8px;display:block}.set-password-modal[_ngcontent-%COMP%]{background:var(--bg-panel);width:400px;border-radius:6px;padding:24px;box-shadow:var(--shadow-glass);color:var(--text-primary);position:relative;border:1px solid var(--border-glass)}.set-password-modal[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .password-set-modal[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-bottom:28px;color:var(--text-primary);letter-spacing:-.01em}.input-group[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;flex-direction:column}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;color:var(--text-secondary);margin-bottom:8px;display:none}.set-password-modal[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:var(--text-secondary);font-size:14px;margin-bottom:8px;font-weight:500}.password-input[_ngcontent-%COMP%]{background:var(--bg-glass);border:none;border-radius:4px;color:var(--text-primary);font-size:15px;padding:10px 12px;width:100%;outline:none;margin-top:4px;border-bottom:2px solid transparent}.input-line[_ngcontent-%COMP%]{display:none}.password-input[_ngcontent-%COMP%]:focus{border-bottom:2px solid var(--primary-color);background:var(--bg-glass)}.password-input[_ngcontent-%COMP%]::placeholder{color:var(--text-secondary);opacity:.6;font-size:14px}.password-hint[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:13px;line-height:1.4;margin:20px 0 30px}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:16px}.cancel-text-btn[_ngcontent-%COMP%], .done-text-btn[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(0,168,132,.3);color:#00a884;font-size:14px;font-weight:600;cursor:pointer;padding:8px 20px;border-radius:24px;transition:all .2s}.cancel-text-btn[_ngcontent-%COMP%]:hover, .done-text-btn[_ngcontent-%COMP%]:hover{background:#00a8841a;border-color:#00a884}.ok-btn[_ngcontent-%COMP%], .lock-now-btn[_ngcontent-%COMP%]{background:#00a884;color:#111b21;border:none;padding:10px 24px;border-radius:24px;font-weight:600;cursor:pointer;font-size:14px;transition:background .2s}.ok-btn[_ngcontent-%COMP%]:hover, .lock-now-btn[_ngcontent-%COMP%]:hover{background:#008f6f;box-shadow:0 4px 12px #00a8844d}.password-set-modal[_ngcontent-%COMP%]{background:var(--bg-panel);width:400px;border-radius:6px;padding:24px;box-shadow:var(--shadow-glass);color:var(--text-primary);position:relative;border:1px solid var(--border-glass)}.success-text[_ngcontent-%COMP%]{font-size:15px;line-height:1.5;margin-bottom:24px;color:var(--text-secondary)}.success-text.sub[_ngcontent-%COMP%]{color:#8696a0}.modal-actions-spread[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:16px;margin-top:32px;align-items:center}.lock-now-btn[_ngcontent-%COMP%]{background:#00a884;color:#111b21;border:none;padding:10px 24px;border-radius:24px;font-weight:600;cursor:pointer;font-size:14px}.lock-now-btn[_ngcontent-%COMP%]:hover{background:#008f6f}.locked-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:var(--bg-darker);z-index:9999;display:flex;align-items:center;justify-content:center}.locked-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;max-width:400px;text-align:center}.locked-avatar[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;overflow:hidden;margin-bottom:16px;box-shadow:0 4px 10px #0000004d}.locked-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.default-initial[_ngcontent-%COMP%]{width:100%;height:100%;background:var(--primary-color);color:#fff;font-size:32px;display:flex;align-items:center;justify-content:center}.locked-username[_ngcontent-%COMP%]{font-size:20px;color:var(--text-primary);margin-bottom:16px;font-weight:500}.locked-message[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:14px;margin-bottom:32px}.unlock-input-wrapper[_ngcontent-%COMP%]{width:320px;position:relative;display:flex;align-items:center;margin-bottom:24px}.unlock-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:var(--bg-glass);border:none;border-radius:6px;color:var(--text-primary);padding:12px 40px 12px 16px;font-size:15px;outline:none;transition:box-shadow .2s}.unlock-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 2px #00a884}.visibility-toggle[_ngcontent-%COMP%]{background:none;border:none;color:#8696a0;cursor:pointer;padding:4px;position:absolute;right:12px;display:flex;align-items:center}.visibility-toggle[_ngcontent-%COMP%]:hover{color:#e9edef}.locked-content[_ngcontent-%COMP%]   .input-line[_ngcontent-%COMP%]{display:none}.unlock-btn[_ngcontent-%COMP%]{background:#00a884;color:#111b21;border:none;padding:10px 48px;border-radius:24px;font-weight:600;font-size:14px;cursor:pointer;margin-bottom:60px;box-shadow:0 4px 15px #00a88433;transition:all .2s}.unlock-btn[_ngcontent-%COMP%]:hover{background:#008f6f;transform:translateY(-1px);box-shadow:0 6px 20px #00a8844d}.locked-footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:16px}.forgot-link[_ngcontent-%COMP%]{color:#8696a0;font-size:14px;cursor:pointer;text-decoration:none;font-weight:500}.unlock-btn[_ngcontent-%COMP%]:hover{background:#008f6f}.locked-footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:12px}.forgot-link[_ngcontent-%COMP%]{color:#8696a0;font-size:13px;cursor:pointer;text-decoration:none}.forgot-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.logout-hint[_ngcontent-%COMP%]{color:#8696a0;font-size:13px}.logout-link[_ngcontent-%COMP%]{background:none;border:none;color:#00a884;font-size:13px;font-weight:600;cursor:pointer}.logout-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.theme-modal[_ngcontent-%COMP%]{background:var(--bg-panel);width:380px;border-radius:20px;padding:24px;box-shadow:var(--shadow-glass);color:var(--text-primary);position:relative;display:flex;flex-direction:column}.theme-modal[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;font-weight:600;margin:0 0 24px;color:var(--text-primary)}.radio-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:12px 8px;cursor:pointer;border-radius:8px;transition:background .2s}.radio-option[_ngcontent-%COMP%]:hover{background:#ffffff0d}.radio-circle[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid #8696a0;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s}.radio-inner[_ngcontent-%COMP%]{width:10px;height:10px;background:#00a884;border-radius:50%}.radio-option[_ngcontent-%COMP%]:active   .radio-circle[_ngcontent-%COMP%], .radio-option[_ngcontent-%COMP%]:focus-within   .radio-circle[_ngcontent-%COMP%]{border-color:#00a884}.radio-circle[_ngcontent-%COMP%]:has(.radio-inner){border-color:#00a884}.radio-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;color:var(--text-primary)}.theme-modal[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:24px;margin-top:32px}.theme-modal[_ngcontent-%COMP%]   .ok-btn[_ngcontent-%COMP%]{background:#00a884;color:#111b21;padding:10px 32px;border-radius:24px;font-weight:600}.theme-modal[_ngcontent-%COMP%]   .ok-btn[_ngcontent-%COMP%]:hover{background:#008f6f;box-shadow:none}.chat-wallpaper[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:0;pointer-events:none;transition:background-color .3s}.chat-wallpaper.has-doodles[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' opacity='0.08' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M15 15h10v10H15zM55 55h10v10H55zM85 25h10v10H85zM25 85h10v10H25zM45 15h2v2h-2zM75 15h2v2h-2zM15 45h2v2h-2zM15 75h2v2h-2zM45 45h2v2h-2zM75 75h2v2h-2z' fill='%23000000' /%3E%3Ccircle cx='35' cy='35' r='2' fill='%23000000'/%3E%3Ccircle cx='65' cy='65' r='2' fill='%23000000'/%3E%3C/svg%3E");background-repeat:repeat}.messages-container[_ngcontent-%COMP%], .chat-header[_ngcontent-%COMP%], .message-input-container[_ngcontent-%COMP%]{position:relative;z-index:1}.no-chat[_ngcontent-%COMP%]{z-index:2;background:var(--bg-darker)}.wallpaper-modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#0b141a;z-index:10000;display:flex;flex-direction:column;animation:_ngcontent-%COMP%_fadeIn .2s;color:#e9edef}.wallpaper-modal[_ngcontent-%COMP%]{background:transparent;width:100%;height:100%;max-height:none;border-radius:0;box-shadow:none;display:flex;flex-direction:column;overflow:hidden;border:none}.wallpaper-header[_ngcontent-%COMP%]{padding:16px 24px;border-bottom:1px solid var(--border-glass);display:flex;align-items:center;background:var(--bg-glass-heavy)}.wallpaper-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;background:none;border:none;color:var(--text-primary);font-size:18px;font-weight:600;cursor:pointer}.preview-container[_ngcontent-%COMP%]{background:var(--bg-dark);padding:30px;display:flex;flex-direction:column;align-items:center;justify-content:center;border-bottom:1px solid var(--border-glass)}.mini-preview[_ngcontent-%COMP%]{width:240px;height:360px;border-radius:12px;position:relative;overflow:hidden;box-shadow:0 10px 30px #0000004d;border:4px solid var(--bg-panel);display:flex;flex-direction:column;justify-content:flex-end;padding:16px;gap:12px;transition:background-color .3s}.mini-preview.has-doodles[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' opacity='0.08' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M15 15h10v10H15zM55 55h10v10H55zM85 25h10v10H85zM25 85h10v10H25zM45 15h2v2h-2zM75 15h2v2h-2zM15 45h2v2h-2zM15 75h2v2h-2zM45 45h2v2h-2zM75 75h2v2h-2z' fill='%23000000' /%3E%3Ccircle cx='35' cy='35' r='2' fill='%23000000'/%3E%3Ccircle cx='65' cy='65' r='2' fill='%23000000'/%3E%3C/svg%3E");background-repeat:repeat}.mock-bubble[_ngcontent-%COMP%]{padding:8px 12px;border-radius:12px;font-size:12px;max-width:80%;box-shadow:0 2px 5px #0000001a}.mock-bubble.received[_ngcontent-%COMP%]{background:var(--bg-panel);backdrop-filter:blur(10px);color:var(--text-primary);align-self:flex-start;border-bottom-left-radius:4px}.mock-bubble.sent[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff;align-self:flex-end;border-bottom-right-radius:4px}.preview-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;color:var(--text-secondary);font-size:14px}.wallpaper-content[_ngcontent-%COMP%]{flex:0 0 auto;padding:0 0 20px;background:transparent;overflow:visible}.doodle-option[_ngcontent-%COMP%], .wallpaper-section-title[_ngcontent-%COMP%]{display:none}.wallpaper-grid[_ngcontent-%COMP%]{display:flex;padding:16px 24px;gap:12px;overflow-x:auto;scrollbar-width:none}.wallpaper-grid[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.wallpaper-item[_ngcontent-%COMP%]{width:60px;height:60px;flex-shrink:0;border-radius:12px;cursor:pointer;position:relative;border:2px solid transparent;transition:transform .2s,border-color .2s;overflow:hidden}.wallpaper-item[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.wallpaper-item.selected[_ngcontent-%COMP%]{border-color:#00a884;box-shadow:0 0 0 2px #0b141a,0 0 0 4px #00a884;transform:scale(1.1)}.doodle-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-image:url("data:image/svg+xml,%3Csvg width='50' height='50' viewBox='0 0 50 50' opacity='0.2' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 10h5v5H10z' fill='%23000'/%3E%3C/svg%3E");opacity:.3}.wallpaper-actions[_ngcontent-%COMP%]{padding:20px 24px;background:#202c33;border-top:1px solid #2a3942;display:flex;justify-content:space-between;align-items:center;gap:16px}.footer-doodle-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer;color:#e9edef;font-size:14px}.wallpaper-actions[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{border:1px solid #8696a0;color:#8696a0;background:transparent;padding:8px 24px;border-radius:20px;font-weight:600}.wallpaper-actions[_ngcontent-%COMP%]   .confirm-btn[_ngcontent-%COMP%]{background:#00a884;color:#111b21;padding:8px 24px;border-radius:20px;font-weight:600;border:none}.wallpaper-actions[_ngcontent-%COMP%]   .confirm-btn[_ngcontent-%COMP%]:hover{background:#008f6f}.checkbox-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;cursor:pointer;font-size:16px;color:#e9edef}.checkbox-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.checkbox-container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid #8696a0;border-radius:4px;position:relative;transition:all .2s}.checkbox-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background:#00a884;border-color:#00a884}.checkbox-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;left:6px;top:2px;width:5px;height:10px;border:solid #111b21;border-width:0 2px 2px 0;transform:rotate(45deg)}.wallpaper-item.upload-item[_ngcontent-%COMP%]{background:#2a3942;display:flex;align-items:center;justify-content:center;color:#00a884}.upload-icon[_ngcontent-%COMP%]{width:24px;height:24px}.wallpaper-item.upload-item[_ngcontent-%COMP%]:hover{background:#3c5260}.chat-wallpaper[_ngcontent-%COMP%], .mini-preview[_ngcontent-%COMP%]{background-size:cover;background-position:center;background-repeat:no-repeat}.chat-wallpaper.has-doodles[_ngcontent-%COMP%], .mini-preview.has-doodles[_ngcontent-%COMP%]{background-repeat:repeat}.radio-row[_ngcontent-%COMP%]{cursor:pointer;padding:16px 20px;transition:background .2s}.radio-row[_ngcontent-%COMP%]:hover{background:#ffffff0d}.custom-radio[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.radio-outer[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;border:2px solid #8696a0;display:flex;align-items:center;justify-content:center;transition:border-color .2s}.radio-outer.selected[_ngcontent-%COMP%]{border-color:#00a884}.radio-inner[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background:#00a884}.media-placeholder[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background:#202c33cc;backdrop-filter:blur(5px);width:100%;height:100%;min-height:200px;min-width:150px;border-radius:12px;cursor:pointer;color:#e9edef;position:relative;border:1px solid rgba(134,150,160,.15);transition:background .2s}.media-placeholder.small[_ngcontent-%COMP%]{min-height:60px;flex-direction:row;padding:10px 15px;width:auto}.media-placeholder[_ngcontent-%COMP%]:hover{background:#202c33f2}.download-icon-wrapper[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background:#0b141a80;display:flex;align-items:center;justify-content:center;margin-bottom:10px}.download-icon-wrapper.small[_ngcontent-%COMP%]{width:32px;height:32px;margin-bottom:0;margin-right:12px}.download-icon-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px;color:#00a884}.media-placeholder[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;font-weight:500}.styled-select[_ngcontent-%COMP%]{width:100%;padding:12px 16px;background-color:var(--bg-panel);color:var(--text-primary);border:1px solid var(--border-light);border-radius:8px;font-size:14px;outline:none;cursor:pointer;appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23aebac1' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right 1rem center;background-size:1em;margin-top:8px;margin-bottom:24px}.styled-select[_ngcontent-%COMP%]:focus{border-color:var(--primary-color)}.styled-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:var(--bg-panel);color:var(--text-primary);padding:10px}.dropdown-container[_ngcontent-%COMP%]{position:relative;cursor:pointer}.custom-dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;background:#233138;border:1px solid rgba(134,150,160,.15);border-radius:8px;margin-top:4px;box-shadow:0 4px 12px #0006;z-index:1000;overflow:hidden;padding:8px 0}.custom-dropdown-menu.floating[_ngcontent-%COMP%]{top:initial;bottom:100%;margin-bottom:8px;max-height:300px;overflow-y:auto}.custom-dropdown-menu.floating[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.custom-dropdown-menu.floating[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#8696a033}.dropdown-item[_ngcontent-%COMP%]{padding:12px 24px;cursor:pointer;transition:background .2s;color:#e9edef;font-size:14.5px}.dropdown-item[_ngcontent-%COMP%]:hover{background:#182229}.dropdown-item.selected[_ngcontent-%COMP%]{background:#00a8841a;color:#00a884}.custom-select-box[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:#202c33;border:1px solid rgba(134,150,160,.15);border-radius:8px;cursor:pointer;margin-bottom:24px;margin-top:8px;transition:background .2s}.custom-select-box[_ngcontent-%COMP%]:hover{background:#2a3942}.selected-value[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;color:#e9edef;font-size:14px}.tone-icon[_ngcontent-%COMP%]{width:18px;height:18px;color:#8696a0}.chevron-down[_ngcontent-%COMP%]{width:20px;height:20px;color:#8696a0;transition:transform .3s}.chevron-down.open[_ngcontent-%COMP%]{transform:rotate(180deg)}.profile-scroll[_ngcontent-%COMP%]{background:#111b21;display:flex;flex-direction:column}.profile-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;font-size:19px}.profile-picture-container[_ngcontent-%COMP%]{padding:32px 0;display:flex;justify-content:center}.profile-avatar-wrapper[_ngcontent-%COMP%]{position:relative;width:200px;height:200px;cursor:pointer;border-radius:50%;overflow:hidden;box-shadow:0 4px 20px #0006;transition:transform .3s cubic-bezier(.34,1.56,.64,1)}.profile-avatar-wrapper[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.large-avatar[_ngcontent-%COMP%]{width:100%;height:100%;background:#6a7175;color:#fff;font-size:80px;display:flex;align-items:center;justify-content:center}.profile-header[_ngcontent-%COMP%]{height:108px!important;display:flex!important;align-items:flex-end!important;padding:0 24px 20px!important;gap:24px!important;color:#d1d7db!important;border-bottom:none!important;position:sticky;top:0;z-index:10}.profile-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{display:flex!important;align-items:center;gap:20px;background:transparent;border:none;color:inherit;font-size:19px;font-weight:500;padding:0;cursor:pointer}.header-title[_ngcontent-%COMP%]{font-size:19px;font-weight:500}.profile-content-premium[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:0!important}.profile-picture-container[_ngcontent-%COMP%]{padding:28px 0;display:flex;justify-content:center}.profile-avatar-large-wrapper[_ngcontent-%COMP%]{position:relative;width:200px;height:200px;cursor:pointer;border-radius:50%;overflow:hidden;transition:all .3s ease}.large-avatar[_ngcontent-%COMP%], .large-avatar-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:flex;align-items:center;justify-content:center;font-size:80px;background:#6a7175;color:#cfd4d6}.change-photo-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#202c33d9;color:#d1d7db;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;opacity:0;transition:all .2s ease;text-align:center;padding:24px;cursor:pointer}.change-photo-overlay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;font-weight:400;text-transform:uppercase;letter-spacing:.5px;line-height:1.5;max-width:120px}.profile-avatar-large-wrapper[_ngcontent-%COMP%]:hover   .change-photo-overlay[_ngcontent-%COMP%]{opacity:1}.profile-section-group[_ngcontent-%COMP%]{background:transparent;padding-bottom:20px}.profile-section[_ngcontent-%COMP%]{padding:14px 30px;margin-bottom:10px}.section-label[_ngcontent-%COMP%]{display:block;color:#008069;font-size:14px;margin-bottom:14px;font-weight:400}.edit-field[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:16px;min-height:24px}.field-value[_ngcontent-%COMP%]{color:#dfe3e5;font-size:17px;line-height:24px;word-break:break-word}.edit-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#8696a0;cursor:pointer;padding:4px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s;flex-shrink:0}.edit-btn[_ngcontent-%COMP%]:hover{background:transparent;color:#8696a0}.section-note[_ngcontent-%COMP%]{color:#8696a0;font-size:14px;line-height:20px;margin-top:10px;margin-bottom:20px;font-weight:400}.edit-input-wrapper[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:12px;border-bottom:2px solid #008069;padding:4px 0;background:transparent;border-radius:0;transition:none;margin-top:0}.edit-input-wrapper[_ngcontent-%COMP%]:focus-within{border-bottom:2px solid #00a884;background:transparent;box-shadow:none}.edit-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;background:transparent!important;border:none!important;color:#e9edef!important;font-size:17px;padding:6px 0;outline:none}.edit-textarea[_ngcontent-%COMP%]{flex:1;background:transparent!important;border:none!important;color:#e9edef!important;font-size:17px;padding:6px 0;resize:none;outline:none;font-family:inherit;line-height:1.5;min-height:28px}.char-count[_ngcontent-%COMP%]{color:#8696a0;font-size:13px;font-variant-numeric:tabular-nums;margin-bottom:8px;white-space:nowrap}.char-count.low[_ngcontent-%COMP%]{color:#ef4444}.divider-inset[_ngcontent-%COMP%]{height:1px;background:#8696a026;margin-left:30px;margin-right:30px}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.animate-slide-in-right[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInRight .3s cubic-bezier(.4,0,.2,1)}@keyframes _ngcontent-%COMP%_slideInRight{0%{opacity:0;transform:translate(10px)}to{opacity:1;transform:translate(0)}}.edit-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.edit-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{width:36px;height:36px;display:flex;align-items:center;justify-content:center;border-radius:50%;border:none;background:transparent;cursor:pointer;transition:background .2s}.action-btn.save[_ngcontent-%COMP%]{color:#00a884}.action-btn.cancel[_ngcontent-%COMP%]{color:#8696a0}.action-btn[_ngcontent-%COMP%]:hover{background:#ffffff14}.sidebar-panel-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#111b21;z-index:100;display:flex;flex-direction:column;transform:translate(-100%);transition:transform .3s cubic-bezier(.4,0,.2,1)}.sidebar-panel-overlay.open[_ngcontent-%COMP%]{transform:translate(0)}.settings-profile-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px 24px;cursor:pointer;transition:background .2s;border-radius:8px;margin-bottom:8px}.settings-profile-card[_ngcontent-%COMP%]:hover{background:#ffffff0d}.profile-avatar-large[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:50%;overflow:hidden;flex-shrink:0}.profile-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:17px;font-weight:500;margin:0 0 4px;color:var(--text-primary)}.profile-status[_ngcontent-%COMP%]{font-size:14px;color:#8696a0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:250px}`]})}return i})();export{Va as ChatComponent};
